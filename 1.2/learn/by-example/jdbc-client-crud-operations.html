---
layout: ballerina-example-page
title: JDBC Client CRUD Operations
description: 
keywords: 
permalink: /1.2/learn/by-example/jdbc-client-crud-operations
active: jdbc-client-crud-operations
redirect_from:
  - /v1-2/learn/by-example/jdbc-client-crud-operations
  - /v1-2/learn/by-example/jdbc-client-crud-operations.html
---
<div class="row cBallerina-io-Gray-row">
        <div class="container cBallerinaBySampleContainer">
            <div class="FullCode">
                <div class="highlight"><pre><span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">io</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">jsonutils</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">time</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerinax</span><span class="o">/</span><span class="nx">java</span><span class="p">.</span><span class="nx">jdbc</span><span class="p">;</span>

<span class="c1">// JDBC Client for MySQL database. This client can be used with any JDBC</span>
<span class="c1">// supported database by providing the corresponding JDBC URL.</span>
<span class="nx">jdbc</span><span class="p">:</span><span class="nx">Client</span> <span class="nx">testDB</span> <span class="p">=</span> <span class="nx">new</span> <span class="p">({</span>
    <span class="nx">url</span><span class="p">:</span> <span class="s">&quot;jdbc:mysql://localhost:3306/testdb&quot;</span><span class="p">,</span>
    <span class="nx">username</span><span class="p">:</span> <span class="s">&quot;test&quot;</span><span class="p">,</span>
    <span class="nx">password</span><span class="p">:</span> <span class="s">&quot;test&quot;</span><span class="p">,</span>
    <span class="nx">dbOptions</span><span class="p">:</span> <span class="p">{</span><span class="nx">useSSL</span><span class="p">:</span> <span class="kc">false</span><span class="p">}</span>
<span class="p">});</span>

<span class="c1">// This is the `type` created to represent a data row.</span>
<span class="nx">type</span> <span class="nx">Student</span> <span class="nx">record</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="nx">id</span><span class="p">;</span>
    <span class="kt">int</span> <span class="nx">age</span><span class="p">;</span>
    <span class="kt">string</span> <span class="nx">name</span><span class="p">;</span>
    <span class="nx">time</span><span class="p">:</span><span class="nx">Time</span> <span class="nx">insertedTime</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">public</span> <span class="kd">function</span> <span class="nx">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="c1">// Create a table using the `update` remote function. If the DDL</span>
    <span class="c1">// statement execution is successful, the `update` remote function</span>
    <span class="c1">// returns 0.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;The update operation - Creating a table&quot;</span><span class="p">);</span>
    <span class="k">var</span> <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;CREATE TABLE student(id INT AUTO_INCREMENT, &quot;</span> <span class="o">+</span>
        <span class="s">&quot;age INT, name VARCHAR(255), insertedTime TIMESTAMP DEFAULT &quot;</span> <span class="o">+</span>
        <span class="s">&quot;CURRENT_TIMESTAMP, PRIMARY KEY (id))&quot;</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Create student table&quot;</span><span class="p">);</span>

    <span class="c1">// Insert data to the table using the `update` remote function. If the DML</span>
    <span class="c1">// statement execution is successful, the `update` remote function returns</span>
    <span class="c1">// the updated row count. The query parameters are given in the query</span>
    <span class="c1">// statement itself.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;\nThe update operation - Inserting data to a table&quot;</span><span class="p">);</span>
    <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;INSERT INTO student(age, name) values &quot;</span> <span class="o">+</span>
                          <span class="s">&quot;(23, &#39;john&#39;)&quot;</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Insert to student table with no parameters&quot;</span><span class="p">);</span>

    <span class="c1">// The query parameters are given as variables for the `update` remote</span>
    <span class="c1">// function. Only `int`, `float`, `decimal`, `boolean`, `string`  and</span>
    <span class="c1">// `byte[]` values are supported as direct variables any remote function</span>
    <span class="c1">// of the `java.jdbc` module.</span>
    <span class="kt">int</span> <span class="nx">age</span> <span class="p">=</span> <span class="mi">24</span><span class="p">;</span>
    <span class="kt">string</span> <span class="nx">name</span> <span class="p">=</span> <span class="s">&quot;Anne&quot;</span><span class="p">;</span>
    <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;INSERT INTO student(age, name) values (?, ?)&quot;</span><span class="p">,</span>
        <span class="nx">age</span><span class="p">,</span> <span class="nx">name</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Insert to student table with variable parameters&quot;</span><span class="p">);</span>

    <span class="c1">// The query parameters can be given as arguments of the type</span>
    <span class="c1">// `jdbc:Parameter` for the any remote function. This is useful if</span>
    <span class="c1">// we want to set the SQL type explicitly or for the parameter types</span>
    <span class="c1">// other than `int`, `float`, `decimal`, `boolean`, `string`  or</span>
    <span class="c1">// `byte[]` (e.g. time). Default direction is IN.</span>
    <span class="nx">jdbc</span><span class="p">:</span><span class="nx">Parameter</span> <span class="nx">p1</span> <span class="p">=</span> <span class="p">{</span><span class="nx">sqlType</span><span class="p">:</span> <span class="nx">jdbc</span><span class="p">:</span><span class="nx">TYPE_INTEGER</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="mi">25</span><span class="p">};</span>
    <span class="nx">jdbc</span><span class="p">:</span><span class="nx">Parameter</span> <span class="nx">p2</span> <span class="p">=</span> <span class="p">{</span><span class="nx">sqlType</span><span class="p">:</span> <span class="nx">jdbc</span><span class="p">:</span><span class="nx">TYPE_VARCHAR</span><span class="p">,</span> <span class="nx">value</span><span class="p">:</span> <span class="s">&quot;James&quot;</span><span class="p">};</span>
    <span class="nx">jdbc</span><span class="p">:</span><span class="nx">Parameter</span> <span class="nx">p3</span> <span class="p">=</span> <span class="p">{</span>
        <span class="nx">sqlType</span><span class="p">:</span> <span class="nx">jdbc</span><span class="p">:</span><span class="nx">TYPE_TIMESTAMP</span><span class="p">,</span>
        <span class="nx">value</span><span class="p">:</span> <span class="nx">time</span><span class="p">:</span><span class="nx">currentTime</span><span class="p">()</span>
    <span class="p">};</span>
    <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;INSERT INTO student(age, name, insertedTime) &quot;</span> <span class="o">+</span>
                         <span class="s">&quot;values (?, ?, ?)&quot;</span><span class="p">,</span> <span class="nx">p1</span><span class="p">,</span> <span class="nx">p2</span><span class="p">,</span> <span class="nx">p3</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Insert to student table with jdbc:parameter values&quot;</span><span class="p">);</span>


    <span class="c1">// Update data in the table using the `update` remote function.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;\nThe Update operation - Update data in a table&quot;</span><span class="p">);</span>
    <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;UPDATE student SET name = &#39;jane&#39; WHERE age = ?&quot;</span><span class="p">,</span> <span class="mi">23</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Update a row in student table&quot;</span><span class="p">);</span>

    <span class="c1">// Delete data in a table using the `update` remote function.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;\nThe Update operation - Delete data from table&quot;</span><span class="p">);</span>
    <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;DELETE FROM student WHERE age = ?&quot;</span><span class="p">,</span> <span class="mi">24</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Delete a row from student table&quot;</span><span class="p">);</span>

    <span class="c1">// The column values generated during the update can be retrieved using the</span>
    <span class="c1">// `update` remote function. If the table has several auto-generated</span>
    <span class="c1">// columns other than the auto-incremented key, those column names</span>
    <span class="c1">// should be given as an array. The values of the auto-incremented</span>
    <span class="c1">// column and the auto-generated columns are returned as a `string` array.</span>
    <span class="c1">// Similar to the `update` remote function, the inserted row count is also</span>
    <span class="c1">// returned.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;\nThe Update operation - Inserting data&quot;</span><span class="p">);</span>
    <span class="k">var</span> <span class="nx">retWithKey</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;INSERT INTO student &quot;</span> <span class="o">+</span>
                    <span class="s">&quot;(age, name) values (?, ?)&quot;</span><span class="p">,</span> <span class="mi">31</span><span class="p">,</span> <span class="s">&quot;Kate&quot;</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">retWithKey</span> <span class="nx">is</span> <span class="nx">jdbc</span><span class="p">:</span><span class="nx">UpdateResult</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;Inserted row count: &quot;</span><span class="p">,</span> <span class="nx">retWithKey</span><span class="p">.</span><span class="nx">updatedRowCount</span><span class="p">);</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;Generated key: &quot;</span><span class="p">,</span>
                    <span class="p">&lt;</span><span class="kt">int</span><span class="p">&gt;</span><span class="nx">retWithKey</span><span class="p">.</span><span class="nx">generatedKeys</span><span class="p">[</span><span class="s">&quot;GENERATED_KEY&quot;</span><span class="p">]);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;Insert failed: &quot;</span><span class="p">,</span> <span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span><span class="nx">retWithKey</span><span class="p">.</span><span class="nx">detail</span><span class="p">()</span><span class="err">?</span><span class="p">.</span><span class="kt">message</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Select data using the `select` remote function. The `select` remote</span>
    <span class="c1">// function returns a `table`.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;\nThe select operation - Select data from a table&quot;</span><span class="p">);</span>
    <span class="k">var</span> <span class="nx">selectRet</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">select</span><span class="p">(</span><span class="s">&quot;SELECT * FROM student where age &lt; ?&quot;</span><span class="p">,</span>
                                    <span class="nx">Student</span><span class="p">,</span> <span class="mi">35</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">selectRet</span> <span class="nx">is</span> <span class="nx">table</span><span class="p">&lt;</span><span class="nx">record</span><span class="p">{}&gt;)</span> <span class="p">{</span>
        <span class="c1">// `table` can be converted to either `json` or `xml`. The actual</span>
        <span class="c1">// conversion happens on-demand. When a service client makes a request,</span>
        <span class="c1">// the result is streamed to the service instead of building the full</span>
        <span class="c1">// result in the server and returning it. This allows unlimited payload</span>
        <span class="c1">// sizes in the result and the response is instantaneous to the client.</span>
        <span class="kt">json</span> <span class="nx">jsonConversionRet</span> <span class="p">=</span> <span class="nx">jsonutils</span><span class="p">:</span><span class="nx">fromTable</span><span class="p">(</span><span class="nx">selectRet</span><span class="p">);</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;JSON: &quot;</span><span class="p">,</span> <span class="nx">jsonConversionRet</span><span class="p">.</span><span class="nx">toJsonString</span><span class="p">());</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;Select data from student table failed: &quot;</span><span class="p">,</span>
        <span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span><span class="nx">selectRet</span><span class="p">.</span><span class="nx">detail</span><span class="p">()</span><span class="err">?</span><span class="p">.</span><span class="kt">message</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// Drop the table and procedures.</span>
    <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="s">&quot;\nThe update operation - Drop the student table&quot;</span><span class="p">);</span>
    <span class="nx">ret</span> <span class="p">=</span> <span class="nx">testDB</span><span class="o">-&gt;</span><span class="nx">update</span><span class="p">(</span><span class="s">&quot;DROP TABLE student&quot;</span><span class="p">);</span>
    <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">ret</span><span class="p">,</span> <span class="s">&quot;Drop table student&quot;</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Function to handle the return value of the `update` remote function.</span>
<span class="kd">function</span> <span class="nx">handleUpdate</span><span class="p">(</span><span class="nx">jdbc</span><span class="p">:</span><span class="nx">UpdateResult</span><span class="p">|</span><span class="nx">jdbc</span><span class="p">:</span><span class="nx">Error</span> <span class="nx">returned</span><span class="p">,</span> <span class="kt">string</span> <span class="kt">message</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">returned</span> <span class="nx">is</span> <span class="nx">jdbc</span><span class="p">:</span><span class="nx">UpdateResult</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="kt">message</span><span class="p">,</span> <span class="s">&quot; status: &quot;</span><span class="p">,</span> <span class="nx">returned</span><span class="p">.</span><span class="nx">updatedRowCount</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">io</span><span class="p">:</span><span class="nb">println</span><span class="p">(</span><span class="kt">message</span><span class="p">,</span> <span class="s">&quot; failed: &quot;</span><span class="p">,</span> <span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span><span class="nx">returned</span><span class="p">.</span><span class="nx">detail</span><span class="p">()</span><span class="err">?</span><span class="p">.</span><span class="kt">message</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

            </div>

            <div class="col-xs-12 col-sm-12 col-md-12">
                <table class="cTopInfoContainer cTopControlsContainer">
                    <tr>
                        <td class="cLeftTD">
                            <h2>JDBC Client CRUD Operations</h2>
                            <p><p>This example demonstrates how to execute data definition statements, insert/update/delete data
 and select data using JDBC Client.
 This sample uses MySQL DB. Before running the sample, copy the
 MySQL JDBC driver to the <code>&lt;BALLERINA_HOME&gt;/bre/lib/distributions/jballerina-&lt;VERSION&gt;/bre/lib</code> folder and change the DB connection
 properties as required.</p>
</p>

                        </td>
                        <td class="cRightTD">
                            <div class="cTopButtonContainer">
                                
                                <div class="cButtonInfoContainer">
                                    <a class="prev" href="directory-listener.html?is_ref_by_example=true">
                                        <span>< PREVIOUS</span>
                                        <p>Directory Listener</p>
                                    </a>
                                </div>
                                 
                                <div class="cButtonInfoContainer">
                                    <a class="next" href="jdbc-client-batch-update.html?is_ref_by_example=true">
                                        <span>NEXT ></span>
                                        <p>JDBC Client Batch Update</p>
                                    </a>
                                </div>
                                
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="example" id="jdbc-client-crud-operations">
                <div class="col-xs-12 col-sm-12 col-md-12 cBBETable-container cCodeLeft">
                    <div class="cTopControlsContainer">
                        <div class="cTopControlsRow">
                            <div class="cLeftTD">
                                <div class="cBBE-links">
                                    <ul>
                                        <li>
                                            <a class="copy"><img src="/img/copy-icon.svg" /></a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://github.com/ballerina-platform/ballerina-lang/tree/ballerina-1.2.x/examples/jdbc-client-crud-operations/"><img src="/img/github-logo-green.svg" /></a>
                                        </li>
                                        
                                    </ul>
                                </div>
                            </div> 
                        </div>
                    </div>
              
                    
                    <div class="codeSnippeset">

                        <div class="cBBE-body">
                            
                            <div class="cTR">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>import ballerina/io;
import ballerina/jsonutils;
import ballerina/time;
import ballerinax/java.jdbc;
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>jdbc:Client testDB = new ({
    url: &quot;jdbc:mysql://localhost:3306/testdb&quot;,
    username: &quot;test&quot;,
    password: &quot;test&quot;,
    dbOptions: {useSSL: false}
});
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>JDBC Client for MySQL database. This client can be used with any JDBC
 supported database by providing the corresponding JDBC URL.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>type Student record {
    int id;
    int age;
    string name;
    time:Time insertedTime;
};
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>This is the <code>type</code> created to represent a data row.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>public function main() {
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;The update operation - Creating a table&quot;);
    var ret = testDB-&gt;update(&quot;CREATE TABLE student(id INT AUTO_INCREMENT, &quot; +
        &quot;age INT, name VARCHAR(255), insertedTime TIMESTAMP DEFAULT &quot; +
        &quot;CURRENT_TIMESTAMP, PRIMARY KEY (id))&quot;);
    handleUpdate(ret, &quot;Create student table&quot;);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Create a table using the <code>update</code> remote function. If the DDL
 statement execution is successful, the <code>update</code> remote function
 returns 0.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;\nThe update operation - Inserting data to a table&quot;);
    ret = testDB-&gt;update(&quot;INSERT INTO student(age, name) values &quot; +
                          &quot;(23, &#39;john&#39;)&quot;);
    handleUpdate(ret, &quot;Insert to student table with no parameters&quot;);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Insert data to the table using the <code>update</code> remote function. If the DML
 statement execution is successful, the <code>update</code> remote function returns
 the updated row count. The query parameters are given in the query
 statement itself.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    int age = 24;
    string name = &quot;Anne&quot;;
    ret = testDB-&gt;update(&quot;INSERT INTO student(age, name) values (?, ?)&quot;,
        age, name);
    handleUpdate(ret, &quot;Insert to student table with variable parameters&quot;);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>The query parameters are given as variables for the <code>update</code> remote
 function. Only <code>int</code>, <code>float</code>, <code>decimal</code>, <code>boolean</code>, <code>string</code>  and
 <code>byte[]</code> values are supported as direct variables any remote function
 of the <code>java.jdbc</code> module.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    jdbc:Parameter p1 = {sqlType: jdbc:TYPE_INTEGER, value: 25};
    jdbc:Parameter p2 = {sqlType: jdbc:TYPE_VARCHAR, value: &quot;James&quot;};
    jdbc:Parameter p3 = {
        sqlType: jdbc:TYPE_TIMESTAMP,
        value: time:currentTime()
    };
    ret = testDB-&gt;update(&quot;INSERT INTO student(age, name, insertedTime) &quot; +
                         &quot;values (?, ?, ?)&quot;, p1, p2, p3);
    handleUpdate(ret, &quot;Insert to student table with jdbc:parameter values&quot;);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>The query parameters can be given as arguments of the type
 <code>jdbc:Parameter</code> for the any remote function. This is useful if
 we want to set the SQL type explicitly or for the parameter types
 other than <code>int</code>, <code>float</code>, <code>decimal</code>, <code>boolean</code>, <code>string</code>  or
 <code>byte[]</code> (e.g. time). Default direction is IN.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;\nThe Update operation - Update data in a table&quot;);
    ret = testDB-&gt;update(&quot;UPDATE student SET name = &#39;jane&#39; WHERE age = ?&quot;, 23);
    handleUpdate(ret, &quot;Update a row in student table&quot;);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Update data in the table using the <code>update</code> remote function.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;\nThe Update operation - Delete data from table&quot;);
    ret = testDB-&gt;update(&quot;DELETE FROM student WHERE age = ?&quot;, 24);
    handleUpdate(ret, &quot;Delete a row from student table&quot;);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Delete data in a table using the <code>update</code> remote function.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;\nThe Update operation - Inserting data&quot;);
    var retWithKey = testDB-&gt;update(&quot;INSERT INTO student &quot; +
                    &quot;(age, name) values (?, ?)&quot;, 31, &quot;Kate&quot;);
    if (retWithKey is jdbc:UpdateResult) {
        io:println(&quot;Inserted row count: &quot;, retWithKey.updatedRowCount);
        io:println(&quot;Generated key: &quot;,
                    &lt;int&gt;retWithKey.generatedKeys[&quot;GENERATED_KEY&quot;]);
    } else {
        io:println(&quot;Insert failed: &quot;, &lt;string&gt;retWithKey.detail()?.message);
    }
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>The column values generated during the update can be retrieved using the
 <code>update</code> remote function. If the table has several auto-generated
 columns other than the auto-incremented key, those column names
 should be given as an array. The values of the auto-incremented
 column and the auto-generated columns are returned as a <code>string</code> array.
 Similar to the <code>update</code> remote function, the inserted row count is also
 returned.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;\nThe select operation - Select data from a table&quot;);
    var selectRet = testDB-&gt;select(&quot;SELECT * FROM student where age &lt; ?&quot;,
                                    Student, 35);
    if (selectRet is table&lt;record{}&gt;) {
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Select data using the <code>select</code> remote function. The <code>select</code> remote
 function returns a <code>table</code>.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>        json jsonConversionRet = jsonutils:fromTable(selectRet);
        io:println(&quot;JSON: &quot;, jsonConversionRet.toJsonString());
    } else {
        io:println(&quot;Select data from student table failed: &quot;,
        &lt;string&gt;selectRet.detail()?.message);
    }
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p><code>table</code> can be converted to either <code>json</code> or <code>xml</code>. The actual
 conversion happens on-demand. When a service client makes a request,
 the result is streamed to the service instead of building the full
 result in the server and returning it. This allows unlimited payload
 sizes in the result and the response is instantaneous to the client.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    io:println(&quot;\nThe update operation - Drop the student table&quot;);
    ret = testDB-&gt;update(&quot;DROP TABLE student&quot;);
    handleUpdate(ret, &quot;Drop table student&quot;);
}
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Drop the table and procedures.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code">
                                    <div class="highlight"><pre><code class=language-ballerina>function handleUpdate(jdbc:UpdateResult|jdbc:Error returned, string message) {
    if (returned is jdbc:UpdateResult) {
        io:println(message, &quot; status: &quot;, returned.updatedRowCount);
    } else {
        io:println(message, &quot; failed: &quot;, &lt;string&gt;returned.detail()?.message);
    }
}
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Function to handle the return value of the <code>update</code> remote function.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="codeSnippeset">

                        <div class="cBBE-body">
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># At the command line, navigate to the directory that contains the
# `.bal` file and run the `ballerina run` command below.
ballerina run jdbc_client_crud_operations.bal
The update operation - Creating a table
Create student table status: 0
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>The update operation - Inserting data to a table
Insert to student table with no parameters status: 1
Insert to student table with variable parameters status: 1
Insert to student table with jdbc:parameter values status: 1
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>The Update operation - Update data in a table
Update a row in student table status: 1
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>The Update operation - Delete data from table
Delete a row from student table status: 1
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>The Update operation - Inserting data
Inserted row count: 1
Generated key: 4
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>The select operation - Select data from a table
JSON: [{&quot;id&quot;:1, &quot;age&quot;:23, &quot;name&quot;:&quot;jane&quot;, &quot;insertedTime&quot;:&quot;2019-12-10 17:07:35.0&quot;}, {&quot;id&quot;:3, &quot;age&quot;:25, &quot;name&quot;:&quot;James&quot;,
&quot;insertedTime&quot;:&quot;2019-12-10 17:07:36.0&quot;}, {&quot;id&quot;:4, &quot;age&quot;:31, &quot;name&quot;:&quot;Kate&quot;, &quot;insertedTime&quot;:&quot;2019-12-10 17:07:35.0&quot;}]
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code cOutput">
                                    <div class="highlight"><pre><code class=shell-session>The update operation - Drop the student table
Drop table student status: 0
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    


                     
                </div>
            </div>
        </div>
    </div>

     <script>
            $(document).ready(function() {

                // hljs.initHighlightingOnLoad();

                $(".switch").click(function() {
                    $(".cCodeRight").toggleClass('cShow');
                    $(".cCodeLeft").toggleClass('cHide');
                });

                // register "copy to clipboard" event to elements with "copy" class
                var clipboard = new ClipboardJS('.copy', {
                    text: function(trigger) {
                        return $('.FullCode').find('pre').text();
                    }
                });

                // Register events show hide tooltip on click event
                clipboard.on('success', function(e) {
                    setTooltip(e.trigger, 'Copied!');
                    hideTooltip(e.trigger);
                });

                clipboard.on('error', function(e) {
                    setTooltip(e.trigger, 'Failed!');
                    hideTooltip(e.trigger);
                });

                $('.copy').tooltip({
                    trigger: 'click',
                    placement: 'bottom'
                });
                $("a.copy").unbind("click");
            });

            function setTooltip(btn, message) {
                $(btn).attr('data-original-title', message)
                    .tooltip('show');
            }

            function hideTooltip(btn) {
                setTimeout(function() {
                    $(btn).tooltip('hide').removeAttr('data-original-title');
                }, 1000);
            }
        </script>
