{"pageProps":{"frontmatter":{"layout":"ballerina-testing-code-left-nav-pages-swanlake","title":"Mocking","description":"Learn how to use the mocking API of Ballerina test framework to test modules independent from other modules, and external endpoints.","keywords":"ballerina, programming language, testing, mocking, object mocking","permalink":"/learn/test-ballerina-code/mocking/","active":"mocking","intro":"Mocking is useful to control the behavior of functions and objects to control the communication with other modules and external endpoints. A mock can be created by defining return values or replacing the entire object or function with a user-defined equivalent. This feature will help you to test the Ballerina code independently from other modules and external endpoints."},"content":"\n## Mock objects\n\nThe `Test` module provides capabilities to mock an object for unit testing. This allows you to control the behaviour of \nthe object member functions and values of member fields via stubbing or replacing the entire object with a user-defined \nequivalent. This feature will help you to test the Ballerina code independently of other modules and external endpoints.\n\nMocking objects can be done in two ways :\n\n1. Creating a test double (providing an equivalent object in place of the real object)\n2. Stubbing the member function or member variable (specifying the behaviour of the functions and values of the \nvariables)\n\n\n### Create a test double\n\nYou can write a custom mock object and substitute it in place of the real object. The custom object should be made \nstructurally equivalent to the real object via the mocking features in the test module.\n\n***Example:***\n\nConsider the following example in which an `http:Client` interacts with an external endpoint to get a random joke.\n\n***main.bal***\n\n```ballerina\nimport ballerina/http;\nimport ballerina/regex;\n\nhttp:Client clientEndpoint = check new (\"https://api.chucknorris.io/jokes/\");\n\ntype Joke readonly & record {|\n    string value;\n|};\n\n// This function performs a `get` request to the Chuck Norris API and returns a random joke \n// with the name replaced by the provided name or an error if the API invocation fails.\nfunction getRandomJoke(string name) returns string|error {\n    Joke joke = check clientEndpoint->get(\"/random\");\n    string replacedText = regex:replaceAll(joke.value, \"Chuck Norris\", name);\n    return replacedText;\n}\n```\n\nLet's write tests for the above `main.bal` file to define a test double for the `clientEndpoint` object.\n\n>**Note:** Only the `get` function is implemented since it is the only function used in the sample. Attempting to call\n any other member function of the `clientEndpoint` will result in a runtime error. \n\n***main_test.bal***\n\n```ballerina\nimport ballerina/test;\nimport ballerina/http;\n\n// An instance of this object can be used as the test double for the `clientEndpoint`.\npublic client class MockHttpClient {\n\n    remote function get(string path, map<string|string[]>? headers = (), http:TargetType targetType = http:Response) returns http:Response|anydata|http:ClientError {\n        Joke joke = {\"value\": \"Mock When Chuck Norris wants an egg, he cracks open a chicken.\"};\n        return joke;\n    }\n\n}\n\n@test:Config {}\npublic function testGetRandomJoke() {\n\n    // create and assign a test double to the `clientEndpoint` object\n    clientEndpoint = test:mock(http:Client, new MockHttpClient());\n\n    // invoke the function to test\n    string|error result = getRandomJoke(\"Sheldon\");\n\n    // verify that the function returns the mock value after replacing the name\n    test:assertEquals(result, \"Mock When Sheldon wants an egg, he cracks open a chicken.\");\n}\n```\n\n### Stub member functions and variables of an object\n\nInstead of creating a test double, you may also choose to create a default mock object and stub the functions to return \na specific value or to do nothing.\n\n>**Note:** It is important to ensure that all member functions of the object being tested are properly stubbed. \n> If any function is called within the implementation that hasn't been stubbed, the test framework will generate an \n> error message in the following format: \n> `no cases registered for member function '<member_function_name>' of object type '<object_type>'.`\n\n***Example:***\n\nLetâ€™s make changes to the above example to get a random joke from a specific category (e.g., food or movies).\n\n***main.bal***\n\n```ballerina\nimport ballerina/http;\nimport ballerina/lang.array;\nimport ballerina/io;\n\nhttp:Client clientEndpoint = check new (\"https://api.chucknorris.io/jokes/\");\n\ntype Joke readonly & record {|\n    string value;\n|};\n\n// This function performs a `get` request to the Chuck Norris API and returns a random joke \n// or an error if the API invocations fail.\nfunction getRandomJoke(string name, string category = \"food\") returns string|error {\n    string[] categories = check clientEndpoint->get(\"/categories\");\n\n    if !isCategoryAvailable(categories, category) {\n        string errorMsg = \"'\" + category + \"' is not a valid category. \";\n        io:println(errorMsg);\n        return error(errorMsg);\n    }\n\n    // Get a random joke from the provided category\n    Joke joke = check clientEndpoint->get(\"/random?category=\" + category);\n    return re `Chuck Norris`.replaceAll(joke.value, name);\n}\n\nfunction isCategoryAvailable(string[] categories, string category) returns boolean => array:some(categories, categoryVal => categoryVal == category);\n```\n\n***test_utils.bal***\n\nThe util functions below are used to construct mock responses required for testing.\n  \n  ```ballerina\n// Returns a mock Joke to be used for the random joke API invocation.\nfunction getMockResponse() returns Joke {\n    Joke joke = {\"value\": \"When Chuck Norris wants an egg, he cracks open a chicken.\"};\n    return joke;\n}\n\n// Returns a mock response to be used for the category API invocation.\nfunction getCategoriesResponse() returns string[] {\n    return [\"animal\", \"food\", \"history\", \"money\", \"movie\"];\n}\n```\n\n#### Stub to return a specific value\n\n***main_test.bal***\n \nThis test stubs the behaviour of the `get` function to return a specific value in 2 ways:\n\n1. Stubbing to return a specific value in general\n2. Stubbing to return a specific value based on the input\n\n```ballerina\nimport ballerina/test;\nimport ballerina/http;\n\n@test:Config {}\npublic function testGetRandomJoke() {\n    // Create a default mock HTTP Client and assign it to the `clientEndpoint` object\n    clientEndpoint = test:mock(http:Client);\n\n    // Stub to return the specified mock response when the `get` function is called.\n    test:prepare(clientEndpoint).when(\"get\").thenReturn(getMockResponse());\n\n    // Stub to return the specified mock response when the specified argument is passed.\n    test:prepare(clientEndpoint).when(\"get\").withArguments(\"/categories\")\n        .thenReturn(getCategoriesResponse());\n\n    // Invoke the function to test.\n    string|error result = getRandomJoke(\"Sheldon\");\n\n    // Verify the return value against the expected string.\n    test:assertEquals(result, \"When Sheldon wants an egg, he cracks open a chicken.\");\n}\n```\n\n#### Stub with multiple values to return sequentially for each function call\n\n***main_test.bal***\n\nThis test stubs the behaviour of the `get` function to return a specified sequence of values for each `get` function \ninvocation (i.e., the first call to the `get` function will return the first argument and the second call will return \nthe second argument).\n\n```ballerina\nimport ballerina/test;\nimport ballerina/http;\n    \n@test:Config {}\npublic function testGetRandomJoke() {\n    // Create a default mock HTTP Client and assign it to the `clientEndpoint` object.\n    clientEndpoint = test:mock(http:Client);\n\n    // Stub to return the corresponding value for each invocation \n    test:prepare(clientEndpoint).when(\"get\")\n        .thenReturnSequence(getCategoriesResponse(), getMockResponse());\n\n    // Invoke the function to test\n    string|error result = getRandomJoke(\"Sheldon\");\n\n    // Verify the return value against the expected string\n    test:assertEquals(result, \"When Sheldon wants an egg, he cracks open a chicken.\");\n}\n```\n\n#### Stub a member variable\n\nIf a `client` object has a public member variable, it can be stubbed to return a mock value for testing.\n\n***Example:***\n\n***main.bal***\n\n```ballerina\n# A record that represents a Product.\n#\n# + code - Code used to identify the product\n# + name - Product Name\n# + quantity - Quantity included in the product\npublic type Product record {|\n    readonly int code;\n    string name;\n    string quantity;\n|};\n\n# A table with a list of Products uniquely identified using the code.\npublic type ProductInventory table<Product> key(code);\n\n// This is a sample data set in the defined inventory.\nProductInventory inventory = table [\n    {code: 1, name: \"Milk\", quantity: \"1l\"},\n    {code: 2, name: \"Bread\", quantity: \"500g\"},\n    {code: 3, name: \"Apple\", quantity: \"750g\"}\n];\n\n# This client represents a product.\n#\n# + productCode - An int code used to identify the product.\npublic client class ProductClient {\n    public int productCode;\n\n    public function init(int productCode) {\n        self.productCode = productCode;\n    }\n}\n\n// The Client represents the product with the code `1` (i.e. \"Milk\").\nProductClient productClient = new (1);\n\n# Get the name of the product represented by the ProductClient.\n#\n# + return - The name of the product\npublic function getProductName() returns string? {\n    if !inventory.hasKey(productClient.productCode) {\n        return;\n    }\n    Product? product = inventory.get(productClient.productCode);\n    return product is Product ? product.name : ();\n}\n```\n\n***main_test.bal***\n\nThis test stubs the member variable `productCode` of the `ProductClient` to set a mock product code.\n\n```ballerina\nimport ballerina/test;\n\n@test:Config {}\nfunction testMemberVariable() {\n    int mockProductCode = 2;\n    // Create a mockClient which represents product with the code `mockProductCode`\n    ProductClient mockClient = test:mock(ProductClient);\n    // Stub the member variable `productCode`\n    test:prepare(mockClient).getMember(\"productCode\").thenReturn(mockProductCode);\n    // Replace `productClient` with the `mockClient`\n    productClient = mockClient;\n    // Assert for the mocked product name.\n    test:assertEquals(getProductName(), \"Bread\");\n}\n```\n\n#### Stub to do nothing\n\nIf a function has an optional or no return type specified, this function can be mocked to do nothing when writing\n test cases.\n\n***Example:***\n\n***main.bal***\n\n```ballerina\nimport ballerina/email;\n\nemail:SmtpClient smtpClient = check new (\"localhost\", \"admin\",\"admin\");\n\n// This function sends out emails to specified email addresses and returns an error if sending failed.\nfunction sendNotification(string[] emailIds) returns error? {\n    email:Message msg = {\n        'from: \"builder@abc.com\",\n        subject: \"Error Alert ...\",\n        to: emailIds,\n        body: \"\"\n    };\n    return check smtpClient->sendMessage(msg);\n}\n```\n***main_test.bal***\n\nThis test stubs the behaviour of the `send` function to do nothing for testing the `sendNotification` function.\n\n```ballerina\nimport ballerina/test;\nimport ballerina/email;\n\n@test:Config {}\nfunction testSendNotification() {\n    string[] emailIds = [\"user1@test.com\", \"user2@test.com\"];\n\n    // Create a default mock SMTP client and assign it to the `smtpClient` object.\n    smtpClient = test:mock(email:SmtpClient);\n\n    // Stub to do nothing when the`send` function is invoked.\n    test:prepare(smtpClient).when(\"sendMessage\").doNothing();\n\n    // Invoke the function to test and verify that no error occurred.\n    test:assertEquals(sendNotification(emailIds), ());\n}\n```\n\n## Mock functions\n\nThe Ballerina test framework provides the capability to mock a function. You can easily mock a function in a module that\nyou are testing or a function of an imported module by using the mocking feature. This feature will help you to test \nyour Ballerina code independently from other modules and functions.\n\nThe object specified with the `@test:Mock{}` annotation will be considered as a mock function, which gets triggered in \nplace of the real function.\n\n* ***moduleName : \"&lt;moduleName&gt;\"*** - (optional) Name of the module in which the function to be mocked resides \nin. If the function is within the same module, this can be left blank or \".\" (no module) can be passed. If the function \nis in a different module but within the same package, just passing the module name will suffice. For functions in \ncompletely separate modules, the fully-qualified module name must be passed, which includes the `packageOrg` \n(i.e., `packageOrg/moduleName`). For native functions, the Ballerina module needs to be specified.\n\n* ***functionName : \"&lt;functionName&gt;\"*** - Name of the function to be mocked.\n\n***Example:***\n\n***main.bal***\n\n```ballerina\n// This function returns the result provided by the `intAdd` function.\npublic function addValues(int a, int b) returns int {\n    return intAdd(a, b);\n}\n\n// This function adds two integers and returns the result.\npublic function intAdd(int a, int b) returns int {\n    return (a + b);\n}\n```\n\n***main_test.bal***\n \nThis is the initialization of the mock function, which should be called in place of the `intAdd` function.\n\n```ballerina\nimport ballerina/test;\n\n@test:Mock {functionName: \"intAdd\"}\ntest:MockFunction intAddMockFn = new ();\n```\n\nAfter the initialization, the following options can be used to stub the behaviour of a function written in the module being tested.\n \n### Stub to return a specific value\n  \n This test stubs the behaviour of the `get` function to return a specific value in 2 ways:\n     \n 1. Stubbing to return a specific value in general\n 2. Stubbing to return a specific value based on the input\n\n```ballerina\nimport ballerina/test;\n\n@test:Mock {functionName: \"intAdd\"}\ntest:MockFunction intAddMockFn = new ();\n   \n@test:Config {}\nfunction testReturn() {\n    // Stub to return the specified value when the `intAdd` is invoked.\n    test:when(intAddMockFn).thenReturn(20);\n   \n    // Stub to return the specified value when the `intAdd` is invoked with the specified arguments.\n    test:when(intAddMockFn).withArguments(0, 0).thenReturn(-1);\n        \n    test:assertEquals(addValues(10, 6), 20, msg = \"function mocking failed\");\n    test:assertEquals(addValues(0, 0), -1, msg = \"function mocking with arguments failed\");\n}\n```\n\n### Stub to invoke another function in place of the real\n\nThis test stubs the behaviour of the `intAdd` function to substitute it with a user-defined mock function.\n\n```ballerina\nimport ballerina/test;\n\n@test:Mock {functionName: \"intAdd\"}\ntest:MockFunction intAddMockFn = new ();\n\n@test:Config {}\nfunction testCall() {\n    // Stub to call another function when `intAdd` is called.\n    test:when(intAddMockFn).call(\"mockIntAdd\");\n   \n    test:assertEquals(addValues(11, 6), 5, msg = \"function mocking failed\");\n}\n    \n// The mock function to be used in place of the `intAdd` function\npublic function mockIntAdd(int a, int b) returns int {\n    return (a - b);\n}\n```\n\nThis test stubs the behaviour of an imported function to substitute it with a user-defined mock function.\n\n```ballerina\nimport ballerina/test;\nimport ballerina/io;\n\n@test:Mock {\n    moduleName: \"ballerina/io\",\n    functionName: \"println\"\n}\ntest:MockFunction printlnMockFn = new ();\n\nint tally = 0;\n\n// This is a function that can be called in place of the `io:println` function.\npublic function mockPrint(any|error... val) {\n    tally = tally + 1;\n}\n\n@test:Config {}\nfunction testCall() {\n    test:when(printlnMockFn).call(\"mockPrint\");\n\n    io:println(\"Testing 1\");\n    io:println(\"Testing 2\");\n    io:println(\"Testing 3\");\n\n    test:assertEquals(tally, 3);\n}\n```\n\nThis test calls the original `intAdd` function after it has been stubbed with a user-defined mock function.\n\n```ballerina\nimport ballerina/test;\n       \n@test:Mock {functionName: \"intAdd\"}\ntest:MockFunction intAddMockFn = new ();\n\n@test:Config {}\nfunction testCallOriginal() {\n    // Stub to call another function when `intAdd` is called.\n    test:when(intAddMockFn).call(\"mockIntAdd\");\n   \n    test:assertEquals(addValues(11, 6), 5, msg = \"function mocking failed\");\n    \n    // Stub to call the original `intAdd` function.\n    test:when(intAddMockFn).callOriginal();\n    test:assertEquals(addValues(11, 6), 17, msg = \"function mocking failed\");\n}\n    \n// The mock function to be used in place of the `intAdd` function\npublic function mockIntAdd(int a, int b) returns int {\n    return (a - b);\n}\n```\n","id":"mocking","sub":"test-document-the-code","third":"test-ballerina-code","slug":"test-document-the-code/test-ballerina-code/mocking","codes":"[[-678163390,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/regex;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Client clientEndpoint </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #032F62\\\">&quot;https://api.chucknorris.io/jokes/&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">Joke</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">readonly</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">&amp;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">record</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> value;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This function performs a `get` request to the Chuck Norris API and returns a random joke </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// with the name replaced by the provided name or an error if the API invocation fails.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getRandomJoke</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">name</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">|error</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    Joke joke </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> clientEndpoint</span><span style=\\\"color: #D73A49\\\">-&gt;</span><span style=\\\"color: #6F42C1\\\">get</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;/random&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> replacedText </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> regex</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">replaceAll</span><span style=\\\"color: #24292E\\\">(joke.value, </span><span style=\\\"color: #032F62\\\">&quot;Chuck Norris&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">name</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> replacedText;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[558885135,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// An instance of this object can be used as the test double for the `clientEndpoint`.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">client class</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">MockHttpClient</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">remote</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">get</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">path</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #D73A49\\\">map&lt;</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[]</span><span style=\\\"color: #D73A49\\\">&gt;</span><span style=\\\"color: #24292E\\\">? </span><span style=\\\"color: #E36209\\\">headers</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> (), http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">TargetType targetType </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Response) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Response</span><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">anydata</span><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">http:ClientError {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        Joke joke </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #032F62\\\">&quot;value&quot;</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;Mock When Chuck Norris wants an egg, he cracks open a chicken.&quot;</span><span style=\\\"color: #24292E\\\">};</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> joke;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testGetRandomJoke</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// create and assign a test double to the `clientEndpoint` object</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    clientEndpoint </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">mock</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Client, </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">MockHttpClient</span><span style=\\\"color: #24292E\\\">());</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// invoke the function to test</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">|error</span><span style=\\\"color: #24292E\\\"> result </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getRandomJoke</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Sheldon&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// verify that the function returns the mock value after replacing the name</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">result</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;Mock When Sheldon wants an egg, he cracks open a chicken.&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[1582210981,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/lang.array;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/io;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Client clientEndpoint </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #032F62\\\">&quot;https://api.chucknorris.io/jokes/&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">Joke</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">readonly</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">&amp;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">record</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> value;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This function performs a `get` request to the Chuck Norris API and returns a random joke </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// or an error if the API invocations fail.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getRandomJoke</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">name</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">category</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;food&quot;</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">|error</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[] categories </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> clientEndpoint</span><span style=\\\"color: #D73A49\\\">-&gt;</span><span style=\\\"color: #6F42C1\\\">get</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;/categories&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">if</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">!</span><span style=\\\"color: #6F42C1\\\">isCategoryAvailable</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">categories</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">category</span><span style=\\\"color: #24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> errorMsg </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;&#39;&quot;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">+</span><span style=\\\"color: #24292E\\\"> category </span><span style=\\\"color: #D73A49\\\">+</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;&#39; is not a valid category. &quot;</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        io</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">println</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">errorMsg</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">error</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">errorMsg</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Get a random joke from the provided category</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    Joke joke </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> clientEndpoint</span><span style=\\\"color: #D73A49\\\">-&gt;</span><span style=\\\"color: #6F42C1\\\">get</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;/random?category=&quot;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">+</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">category</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> re </span><span style=\\\"color: #032F62\\\">`Chuck Norris`</span><span style=\\\"color: #24292E\\\">.</span><span style=\\\"color: #6F42C1\\\">replaceAll</span><span style=\\\"color: #24292E\\\">(joke.value, </span><span style=\\\"color: #E36209\\\">name</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">isCategoryAvailable</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[] </span><span style=\\\"color: #E36209\\\">categories</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">category</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">boolean</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=&gt;</span><span style=\\\"color: #24292E\\\"> array</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">some</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">categories</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">categoryVal</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=&gt;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">categoryVal</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">==</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">category</span><span style=\\\"color: #24292E\\\">);</span></span></code></pre>\"],[-513578566,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// Returns a mock Joke to be used for the random joke API invocation.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getMockResponse</span><span style=\\\"color: #24292E\\\">() </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> Joke {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    Joke joke </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #032F62\\\">&quot;value&quot;</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;When Chuck Norris wants an egg, he cracks open a chicken.&quot;</span><span style=\\\"color: #24292E\\\">};</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> joke;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// Returns a mock response to be used for the category API invocation.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getCategoriesResponse</span><span style=\\\"color: #24292E\\\">() </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[] {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> [</span><span style=\\\"color: #032F62\\\">&quot;animal&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;food&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;history&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;money&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;movie&quot;</span><span style=\\\"color: #24292E\\\">];</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[258180449,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testGetRandomJoke</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Create a default mock HTTP Client and assign it to the `clientEndpoint` object</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    clientEndpoint </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">mock</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Client);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to return the specified mock response when the `get` function is called.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">prepare</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">clientEndpoint</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;get&quot;</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">thenReturn</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">getMockResponse</span><span style=\\\"color: #24292E\\\">());</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to return the specified mock response when the specified argument is passed.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">prepare</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">clientEndpoint</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;get&quot;</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">withArguments</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;/categories&quot;</span><span style=\\\"color: #24292E\\\">)</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        .</span><span style=\\\"color: #6F42C1\\\">thenReturn</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">getCategoriesResponse</span><span style=\\\"color: #24292E\\\">());</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Invoke the function to test.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">|error</span><span style=\\\"color: #24292E\\\"> result </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getRandomJoke</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Sheldon&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Verify the return value against the expected string.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">result</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;When Sheldon wants an egg, he cracks open a chicken.&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-1188366744,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testGetRandomJoke</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Create a default mock HTTP Client and assign it to the `clientEndpoint` object.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    clientEndpoint </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">mock</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Client);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to return the corresponding value for each invocation </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">prepare</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">clientEndpoint</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;get&quot;</span><span style=\\\"color: #24292E\\\">)</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        .</span><span style=\\\"color: #6F42C1\\\">thenReturnSequence</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">getCategoriesResponse</span><span style=\\\"color: #24292E\\\">(), </span><span style=\\\"color: #E36209\\\">getMockResponse</span><span style=\\\"color: #24292E\\\">());</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Invoke the function to test</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">|error</span><span style=\\\"color: #24292E\\\"> result </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getRandomJoke</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Sheldon&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Verify the return value against the expected string</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">result</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;When Sheldon wants an egg, he cracks open a chicken.&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-445787310,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># A record that represents a Product.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">#</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">code</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">Code used to identify the product</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">name</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">Product Name</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">quantity</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">Quantity included in the product</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">Product</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">record</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">readonly</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> code;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> name;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> quantity;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># A table with a list of Products uniquely identified using the code.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">ProductInventory</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">table&lt;</span><span style=\\\"color: #24292E\\\">Product</span><span style=\\\"color: #D73A49\\\">&gt;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">key</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">code</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This is a sample data set in the defined inventory.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">ProductInventory inventory </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">table</span><span style=\\\"color: #24292E\\\"> [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    {code</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">1</span><span style=\\\"color: #24292E\\\">, name</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;Milk&quot;</span><span style=\\\"color: #24292E\\\">, quantity</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;1l&quot;</span><span style=\\\"color: #24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    {code</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">2</span><span style=\\\"color: #24292E\\\">, name</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;Bread&quot;</span><span style=\\\"color: #24292E\\\">, quantity</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;500g&quot;</span><span style=\\\"color: #24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    {code</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">3</span><span style=\\\"color: #24292E\\\">, name</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;Apple&quot;</span><span style=\\\"color: #24292E\\\">, quantity</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;750g&quot;</span><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">];</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># This client represents a product.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">#</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">productCode</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">An int code used to identify the product.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">client class</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">ProductClient</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> productCode;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">init</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">productCode</span><span style=\\\"color: #24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        </span><span style=\\\"color: #005CC5\\\">self</span><span style=\\\"color: #24292E\\\">.productCode </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> productCode;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// The Client represents the product with the code `1` (i.e. &quot;Milk&quot;).</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">ProductClient productClient </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #005CC5\\\">1</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># Get the name of the product represented by the ProductClient.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">#</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">return</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">The name of the product</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">getProductName</span><span style=\\\"color: #24292E\\\">() </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">?</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">if</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">!</span><span style=\\\"color: #24292E\\\">inventory.</span><span style=\\\"color: #6F42C1\\\">hasKey</span><span style=\\\"color: #24292E\\\">(productClient.productCode) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    Product</span><span style=\\\"color: #D73A49\\\">?</span><span style=\\\"color: #24292E\\\"> product </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> inventory.</span><span style=\\\"color: #6F42C1\\\">get</span><span style=\\\"color: #24292E\\\">(productClient.productCode);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> product </span><span style=\\\"color: #D73A49\\\">is</span><span style=\\\"color: #24292E\\\"> Product </span><span style=\\\"color: #D73A49\\\">?</span><span style=\\\"color: #24292E\\\"> product.name </span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> ();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-689026840,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testMemberVariable</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> mockProductCode </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">2</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Create a mockClient which represents product with the code `mockProductCode`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    ProductClient mockClient </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">mock</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">ProductClient</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub the member variable `productCode`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">prepare</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">mockClient</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">getMember</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;productCode&quot;</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">thenReturn</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">mockProductCode</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Replace `productClient` with the `mockClient`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    productClient </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> mockClient;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Assert for the mocked product name.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">getProductName</span><span style=\\\"color: #24292E\\\">(), </span><span style=\\\"color: #032F62\\\">&quot;Bread&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-396325560,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/email;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">email</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">SmtpClient smtpClient </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #032F62\\\">&quot;localhost&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;admin&quot;</span><span style=\\\"color: #24292E\\\">,</span><span style=\\\"color: #032F62\\\">&quot;admin&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This function sends out emails to specified email addresses and returns an error if sending failed.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">sendNotification</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[] </span><span style=\\\"color: #E36209\\\">emailIds</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">error?</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    email</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Message msg </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        &#39;from</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;builder@abc.com&quot;</span><span style=\\\"color: #24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        subject</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;Error Alert ...&quot;</span><span style=\\\"color: #24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        to</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> emailIds,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        body</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">check</span><span style=\\\"color: #24292E\\\"> smtpClient</span><span style=\\\"color: #D73A49\\\">-&gt;</span><span style=\\\"color: #6F42C1\\\">sendMessage</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">msg</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-2066947417,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/email;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testSendNotification</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[] emailIds </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> [</span><span style=\\\"color: #032F62\\\">&quot;user1@test.com&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;user2@test.com&quot;</span><span style=\\\"color: #24292E\\\">];</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Create a default mock SMTP client and assign it to the `smtpClient` object.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    smtpClient </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">mock</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">email</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">SmtpClient);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to do nothing when the`send` function is invoked.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">prepare</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">smtpClient</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;sendMessage&quot;</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">doNothing</span><span style=\\\"color: #24292E\\\">();</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Invoke the function to test and verify that no error occurred.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">sendNotification</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">emailIds</span><span style=\\\"color: #24292E\\\">), ());</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[1480485673,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This function returns the result provided by the `intAdd` function.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">addValues</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">intAdd</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This function adds two integers and returns the result.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">intAdd</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">+</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-1752513967,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Mock</span><span style=\\\"color: #24292E\\\"> {functionName</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;intAdd&quot;</span><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">MockFunction intAddMockFn </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> ();</span></span></code></pre>\"],[-226936105,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Mock</span><span style=\\\"color: #24292E\\\"> {functionName</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;intAdd&quot;</span><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">MockFunction intAddMockFn </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> ();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testReturn</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to return the specified value when the `intAdd` is invoked.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">intAddMockFn</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">thenReturn</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">20</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to return the specified value when the `intAdd` is invoked with the specified arguments.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">intAddMockFn</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">withArguments</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">thenReturn</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #D73A49\\\">-</span><span style=\\\"color: #005CC5\\\">1</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">        </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">addValues</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">10</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">6</span><span style=\\\"color: #24292E\\\">), </span><span style=\\\"color: #005CC5\\\">20</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">msg</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;function mocking failed&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">addValues</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">), </span><span style=\\\"color: #D73A49\\\">-</span><span style=\\\"color: #005CC5\\\">1</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">msg</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;function mocking with arguments failed&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-574356692,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Mock</span><span style=\\\"color: #24292E\\\"> {functionName</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;intAdd&quot;</span><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">MockFunction intAddMockFn </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> ();</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testCall</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to call another function when `intAdd` is called.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">intAddMockFn</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">call</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;mockIntAdd&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">addValues</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">11</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">6</span><span style=\\\"color: #24292E\\\">), </span><span style=\\\"color: #005CC5\\\">5</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">msg</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;function mocking failed&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// The mock function to be used in place of the `intAdd` function</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">mockIntAdd</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">-</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[-938870675,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/io;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Mock</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    moduleName</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;ballerina/io&quot;</span><span style=\\\"color: #24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    functionName</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;println&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">MockFunction printlnMockFn </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> ();</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> tally </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// This is a function that can be called in place of the `io:println` function.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">mockPrint</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #D73A49\\\">any|error...</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">val</span><span style=\\\"color: #24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    tally </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> tally </span><span style=\\\"color: #D73A49\\\">+</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">1</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testCall</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">printlnMockFn</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">call</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;mockPrint&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    io</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">println</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Testing 1&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    io</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">println</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Testing 2&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    io</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">println</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Testing 3&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">tally</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">3</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"],[1752665654,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">import</span><span style=\\\"color: #24292E\\\"> ballerina/test;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">       </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Mock</span><span style=\\\"color: #24292E\\\"> {functionName</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;intAdd&quot;</span><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">MockFunction intAddMockFn </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> ();</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">@</span><span style=\\\"color: #005CC5\\\">test</span><span style=\\\"color: #24292E\\\">:</span><span style=\\\"color: #005CC5\\\">Config</span><span style=\\\"color: #24292E\\\"> {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">testCallOriginal</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to call another function when `intAdd` is called.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">intAddMockFn</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">call</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;mockIntAdd&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">addValues</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">11</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">6</span><span style=\\\"color: #24292E\\\">), </span><span style=\\\"color: #005CC5\\\">5</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">msg</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;function mocking failed&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #6A737D\\\">// Stub to call the original `intAdd` function.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">when</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">intAddMockFn</span><span style=\\\"color: #24292E\\\">).</span><span style=\\\"color: #6F42C1\\\">callOriginal</span><span style=\\\"color: #24292E\\\">();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    test</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">assertEquals</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">addValues</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">11</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">6</span><span style=\\\"color: #24292E\\\">), </span><span style=\\\"color: #005CC5\\\">17</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">msg</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #032F62\\\">&quot;function mocking failed&quot;</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">// The mock function to be used in place of the `intAdd` function</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">mockIntAdd</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">    </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #E36209\\\">a</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">-</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">b</span><span style=\\\"color: #24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span></code></pre>\"]]"},"__N_SSG":true}