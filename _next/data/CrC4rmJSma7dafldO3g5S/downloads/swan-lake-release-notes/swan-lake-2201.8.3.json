{"pageProps":{"frontmatter":{"layout":"ballerina-left-nav-release-notes","title":"Swan Lake Update 8 (2201.8.3)","permalink":"/downloads/swan-lake-release-notes/2201.8.3/","active":"2201.8.3"},"content":"\n## Overview of Ballerina Swan Lake Update 8 (2201.8.3)\n\n<em>Swan Lake Update 8 (2201.8.3) is the third patch release of Ballerina 2201.8.0 (Swan Lake Update 8) and it includes a new set of bug fixes to the runtime and developer tooling.</em>\n\n## Update Ballerina\n\nRun the command below to update your current Ballerina installation directly to 2201.8.3 by using the [Ballerina Update Tool](/learn/update-tool/) as follows.\n\n```\n$ bal dist pull 2201.8.3\n```\n\n## Install Ballerina\n\nIf you have not installed Ballerina, download the [installers](/downloads/#swanlake) to install.\n\n## Runtime updates\n\n### Bug fixes\n\nTo view bug fixes, see the [GitHub milestone for 2201.8.3 (Swan Lake)](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+milestone%3A2201.8.3+label%3AType%2FBug+is%3Aclosed+label%3ATeam%2FjBallerina).\n\n## Developer tools updates\n\n### Improvements\n\n#### Observability\n\n##### View the `response_errors_total_value` metric\n\nBallerina observability now provides the total number of errors in responses as a metric via the `response_errors_total_value`.\n\n##### Define the `service name` in traces\n\nYou can now add a suffix to the service name shown in the tracer providers ([Jaeger](https://www.jaegertracing.io/), [Zipkin](https://zipkin.io/), and [New Relic](https://newrelic.com/welcome-back)) by passing an environment variable in the runtime as given below. \n\n```\n$ BAL_OBSERVE_SERVICE_NAME_SUFFIX=<suffix> bal run\n```\n\nBy default, the service name will be the base path or the display name of the service.\n\n#### XML to record converter\n\nImproved the XML to Ballerina record conversion logic with enhanced support for the intersection of child nodes and XML namespaces, ensuring a more accurate and versatile experience for the Ballerina VS Code extension's `Paste XML as record` feature.\n\n### Bug fixes\n\nTo view bug fixes, see the GitHub milestone for Swan Lake Update 8 (2201.8.3) of the repositories below.\n\n- [Test framework](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+milestone%3A2201.8.3+label%3ATeam%2FDevTools+label%3AType%2FBug+is%3Aclosed)\n- [OpenAPI](https://github.com/ballerina-platform/ballerina-library/issues?q=is%3Aissue+label%3Amodule%2Fopenapi-tools+label%3AType%2FBug+milestone%3A2201.8.3+is%3Aclosed)\n\n## Backward-incompatible changes\n\n- Changed the OpenAPI tool client code generation from representing the OpenAPI Specification byte format of the string type as Ballerina `byte[]`, to using Ballerina `string` type as shown in the example below, due to an issue with the previously generated code. This change will break the compatibility of any existing generated code.\n\n  **OpenAPI sample**\n\n  ```yaml\n  components:\n    schemas:\n      ByteExample:\n        type: string\n        format: byte\n  ```\n\n  **Generated Ballerina code - before**\n\n  ```ballerina\n  type ByteExample byte[];\n  ```\n\n  **Generated Ballerina code - after**\n\n  ```ballerina\n  type ByteExample string;\n  ```\n\n- Changed the OpenAPI tool `client resource/remote code` generation of the `http:Response` to a `nil` return type when the operation in the OpenAPI specification has a response with no content. With this improvement, the already generated code will be altered when regenerated with the Ballerina Swan Lake Update 8 (2201.8.3) version as shown in the example below.\n\n  **OpenAPI sample**\n\n  ```yaml\n  /user/draft:\n      delete:\n        operationId: deleteDraft\n        parameters:\n          - in: query\n            name: userId\n            schema:\n              type: string    \n        responses:\n          \"200\":\n            description: Successful response //No content type\n  ```\n\n  **Generated client resource/remote function - before**\n\n  ```ballerina\n  resource isolated function delete user/draft(string? userId = ()) returns http:Response|error {\n      string resourcePath = string `/users/drafts/${getEncodedUri(id)}`;\n      map<anydata> queryParam = {\"userId\": userId};\n      resourcePath = resourcePath + check getPathForQueryParam(queryParam);\n      http:Response response = check self.clientEp->delete(resourcePath);\n      return response;\n  }\n  ```\n\n  **Generated client resource/remote function - after**\n\n  ```ballerina\n  resource isolated function delete user/draft(string? userId = ()) returns error? {\n      string resourcePath = string `/user/draft`;\n      map<anydata> queryParam = {\"userId\": userId};\n      resourcePath = resourcePath + check getPathForQueryParam(queryParam);\n      return self.clientEp->delete(resourcePath);\n  }\n  ```\n","id":"swan-lake-2201.8.3","codeSnippets":"[[318978504,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">components</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">  schemas</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">    ByteExample</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">      type</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">string</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">      format</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">byte</span></span></code></pre>\"],[90377773,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> ByteExample</span><span style=\\\"color:#005CC5\\\"> byte</span><span style=\\\"color:#24292E\\\">[];</span></span></code></pre>\"],[-2146783898,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> ByteExample</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#24292E\\\">;</span></span></code></pre>\"],[-847516679,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">/user/draft</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">    delete</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">      operationId</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">deleteDraft</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">      parameters</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        - </span><span style=\\\"color:#22863A\\\">in</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">query</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">          name</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">userId</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">          schema</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">            type</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">string</span><span style=\\\"color:#24292E\\\">    </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">      responses</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        \\\"200\\\"</span><span style=\\\"color:#24292E\\\">:</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#22863A\\\">          description</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">Successful response //No content type</span></span></code></pre>\"],[21841615,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">resource</span><span style=\\\"color:#D73A49\\\"> isolated</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> delete</span><span style=\\\"color:#6F42C1\\\"> user</span><span style=\\\"color:#24292E\\\">/draft(</span><span style=\\\"color:#005CC5\\\">string</span><span style=\\\"color:#24292E\\\">? </span><span style=\\\"color:#E36209\\\">userId</span><span style=\\\"color:#D73A49\\\"> =</span><span style=\\\"color:#24292E\\\"> ()) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Response</span><span style=\\\"color:#D73A49\\\">|error</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> resourcePath </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#032F62\\\"> `/users/drafts/${</span><span style=\\\"color:#6F42C1\\\">getEncodedUri</span><span style=\\\"color:#032F62\\\">(</span><span style=\\\"color:#005CC5\\\">id</span><span style=\\\"color:#032F62\\\">)</span><span style=\\\"color:#032F62\\\">}`</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    map&#x3C;</span><span style=\\\"color:#005CC5\\\">anydata</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#24292E\\\"> queryParam </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#032F62\\\">\\\"userId\\\"</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> userId};</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    resourcePath </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> resourcePath </span><span style=\\\"color:#D73A49\\\">+</span><span style=\\\"color:#D73A49\\\"> check</span><span style=\\\"color:#6F42C1\\\"> getPathForQueryParam</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">queryParam</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Response response </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#D73A49\\\"> check</span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.clientEp</span><span style=\\\"color:#D73A49\\\">-></span><span style=\\\"color:#6F42C1\\\">delete</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">resourcePath</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    return</span><span style=\\\"color:#24292E\\\"> response;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[909292685,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">resource</span><span style=\\\"color:#D73A49\\\"> isolated</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> delete</span><span style=\\\"color:#6F42C1\\\"> user</span><span style=\\\"color:#24292E\\\">/draft(</span><span style=\\\"color:#005CC5\\\">string</span><span style=\\\"color:#24292E\\\">? </span><span style=\\\"color:#E36209\\\">userId</span><span style=\\\"color:#D73A49\\\"> =</span><span style=\\\"color:#24292E\\\"> ()) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#D73A49\\\"> error?</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> resourcePath </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#032F62\\\"> `/user/draft`</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    map&#x3C;</span><span style=\\\"color:#005CC5\\\">anydata</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#24292E\\\"> queryParam </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#032F62\\\">\\\"userId\\\"</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> userId};</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    resourcePath </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> resourcePath </span><span style=\\\"color:#D73A49\\\">+</span><span style=\\\"color:#D73A49\\\"> check</span><span style=\\\"color:#6F42C1\\\"> getPathForQueryParam</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">queryParam</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    return</span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.clientEp</span><span style=\\\"color:#D73A49\\\">-></span><span style=\\\"color:#6F42C1\\\">delete</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">resourcePath</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"]]"},"__N_SSG":true}