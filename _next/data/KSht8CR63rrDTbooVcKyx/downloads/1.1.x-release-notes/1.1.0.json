{"pageProps":{"frontmatter":{},"content":"<div class=\"release_notes\">\n<h1>Overview of JBallerina 1.1.0</h1>\n<p>Ballerina 1.1.0 is the year end release which has significant improvements to the developer tooling, standard\n    library modules, compiler, and runtime.</p>\n<h1>Highlights</h1>\n<ul>\n    <li>Enhanced <code>ballerina</code> CLI tool to keep your Ballerina installation up to date</li>\n    <li>Improved runtime performance</li>\n    <li>Improved support for Java interoperability</li>\n    <li>Optimized compiler for better IDE experience</li>\n    <li>Based on a stable language specification: 2019R3</li>\n    <li>Includes a number of important bug fixes</li>\n</ul>\n<h1>What&rsquo;s new in JBallerina 1.1.0</h1>\n<h2>Ballerina tool</h2>\n<p>Ballerina 1.1.0 introduces ballerina tool with set of commands which allows users to manage Ballerina\n    distributions. These are functionalities allowed by the tool.</p>\n<ul>\n    <li>Update current distribution to the latest patch version</li>\n    <li><code>ballerina dist update</code></li>\n    <li>Fetch a specified distribution and set it as the active version</li>\n    <li><code>ballerina dist pull</code></li>\n    <li>Set a specified distribution as the active distribution</li>\n    <li><code>ballerina dist use</code></li>\n    <li>List locally and remotely available distributions</li>\n    <li><code>ballerina dist list</code></li>\n    <li>Remove a specified distribution</li>\n    <li><code>ballerina dist remove</code></li>\n</ul>\n<p>Apart from that in order update tool itself following command could be used\n    ballerina update</p>\n<h2>Language</h2>\n<p>The language implementation is based on the stable language specification version 2019R3. The implementation has\n    been improved and stabilized by fixing critical specification deviations and bugs in the 1.0.0 release. Some of\n    these changes are backward incompatible. Check the &ldquo;Language changes since JBallerina 1.0.0&rdquo; section\n    for the full list of changes.</p>\n<p>The parser used by the compiler has been improved with a file-based cache. This significantly improves the\n    performance of the JBallerina Language Server, which in turn improves the user experience of the IDEs.\n    Additionally, few minor fixes have been done to Compiler AST to support better IDE insights.</p>\n<h2>Runtime</h2>\n<ul>\n    <li>Runtime performance improvements</li>\n    <li>Improved runtime type checking performance</li>\n    <li>Improved performance for creating and accessing maps, records and arrays.</li>\n    <li>Java interoperability improvements</li>\n    <li>Supports using <code>string</code> type, finite types, and function pointers, for parameters and/or return\n        type in java interop functions.</li>\n    <li>Improved compile time validation for interop method signatures.</li>\n</ul>\n<h2>Project Structure &amp; Build Tools</h2>\n<h2>Standard Library</h2>\n<ul>\n    <li>Path param suffix support for HTTP service dispatcher</li>\n    <li>HTTP cookie support</li>\n    <li>100-continue support for HTTP2</li>\n    <li>Add observability support for gRPC</li>\n    <li>Add observability support for WebSocket</li>\n    <li>Add observability support for NATS connector</li>\n    <li>Add support for publishing messages with a replyTo callback service in NATS</li>\n</ul>\n<h2>IDE Plugins &amp; Language Server</h2>\n<ul>\n    <li>IntelliJ live template support for ballerina code snippets.</li>\n    <li>Go-to definition support for both VSCode &amp; IntelliJ plugins </li>\n    <li>Add CLI commands to start Language Server and start Debug Adaptor</li>\n    <li>Diagram support for tests</li>\n    <li>Improvements to language support</li>\n    <li>Performance improvements to language server</li>\n    <li>Significant improvements to decrease the response time for language intelligence features such as auto\n        completion, diagnostics and etc.</li>\n</ul>\n<h1>Dev Tools</h1>\n<h3>API Documentation generator</h3>\n<ul>\n    <li>Fix type label generation for array types</li>\n    <li>Prevent link generation for non-public types</li>\n</ul>\n<h3>Open API tool</h3>\n<ul>\n    <li>Support for oneOf &amp; allOf schema types</li>\n    <li>Improvements to Ballerina record types generator</li>\n</ul>\n<h1>Detailed list of changes from 1.0.0 to 1.1.0</h1>\n<h2>Language changes since JBallerina 1.0.0</h2>\n<p>This section highlights key Language changes since JBallerina 1.0.0. These changes are backward-incompatible and\n    the 1.1.0 compiler generates compile-time errors now. </p>\n<p>You can find the list of Language and Compiler related fixes in this release from <a\n        href=\"https://github.com/ballerina-platform/ballerina-lang/issues?page=2&amp;q=is%3Aissue+milestone%3A%22Ballerina+1.1.0%22+is%3Aclosed+label%3AArea%2FLanguage&amp;utf8=%E2%9C%93\">here</a>.\n</p>\n<h3>String Literal</h3>\n<p>The JBallerina 1.0.0 compiler allowed <code>0xA</code> and <code>0xD</code> code points in string literals even\n    though they are invalid in a string literal. Validation has been added to disallow the same in this release.</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">// Following is a compile time error.\nstring s = &quot;hello\nworld&quot;;\n</code></pre>\n\n<h3>Foreach Statement</h3>\n<p>The compiler now validates the if the correct type is specified for record iteration. The following code should\n    produce a compilation error now. </p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">function testForeachRecord() {\n    record {| string s; anydata|error...; |} value = {s : &quot;aString&quot;};\n    foreach any item in value { // Now gives a compilation error.\n        // Some Code\n    }\n}\n</code></pre>\n\n<h3>While Statement</h3>\n<p>This release includes several bug fixes that improve the detection of potentially uninitialized variables inside\n    a while loop. This may break source code compatibility with the 1.0.0 release.</p>\n<h3>Destructuring assignment statement</h3>\n<p>The <a href=\"https://ballerina.io/spec/lang/2019R3/#section_7.11\">Implicit variable type narrowing</a> section of\n    the Ballerina language specification says “the narrowed type for a variable x no longer applies as soon as there\n    is a possibility of x being assigned to”. But this validation was not enforced properly when used in the context\n    of a [Destructuring assignment statement](https://ballerina.io/spec/lang/2019R3/#section_7.14.4. Furthermore,\n    final variable analysis was also incomplete with destructuring assignments. These validations are corrected with\n    this release.</p>\n<h3>Check Expression</h3>\n<p>The 1.0.0 compiler does not properly validate the compatibility of the check expression’s error type with the\n    enclosing function’s return type. This flaw leads to programs panicking at runtime when the expression evaluates\n    to an incompatible error type. The 1.1.0 compiler introduces this compile-time validation. </p>\n<p>The <code>check</code> expression acts as a conditional return statement. This fact was ignored in taint analysis\n    and within the transaction block, but has been fixed with this release. Now the <code>check</code> expression\n    enforces marking function return values as <code>@tainted</code> where applicable and <code>check</code>\n    expressions are not allowed within a transaction block similar to the return statement.</p>\n<h3>Function Type and Value</h3>\n<p>Function type descriptors and anonymous functions now support rest parameters.</p>\n<p>Example:</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">var foo = function (string b, int... c) returns int {\n        return 5;\n    };\nfunction (string, int...) returns int bar = foo;\n</code></pre>\n\n<p>Additionally, the 1.0.0 compiler accepted arrays in place of functions pointer rest arguments. It has now been\n    fixed to only accept rest arguments.</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">function myFuncton(string b, int... c) { }\n\npublic function main() {\n    function(string, int...) func1 = myFuncton;\n\n    // Worked in 1.0.0, now a compile time error.\n    func1(&quot;a&quot;, [1, 2, 3]); // Error\n\n    // Compile time error in 1.0.0, but correct behaviour\n    func1(&quot;a&quot;, ...[1, 2, 3]); // or func1(&quot;a&quot;, 1, 2, 3);\n\n    function (string a, int[] b) func2 = myFuncton; // Worked in 1.0.0, now a compile time error.\n    function (string a, int... b) func3 = myFuncton; // Not supported in 1.0.0, but correct behavior.\n}\n</code></pre>\n\n<h3>Object Type</h3>\n<p><a href=\"https://ballerina.io/spec/lang/2019R3/#section_5.3.2.5\">Object Initialization</a> specifies that if at\n    any point in the <code>__init</code> method there are any potentially uninitialized fields, then using the\n    <code>self</code> variable other than to access or modify the value of a field should produce a compile-time\n    error. This validation has been added to the compiler in the 1.1.0 release. The following code should produce a\n    compilation error now.</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">type Person object {\n    string name;\n    int age = 0;\n\n    public function __init(string name, int age) {\n        self.setAge(age); // error: field `name` is not initialized\n        self.name = name;\n    }\n\n    function setAge(int age) {\n        self.age = age;\n    }\n};\n</code></pre>\n\n<p>When the <code>__init</code> method is not present in an object, the 1.0.0 compiler skipped validating the\n    arguments to the <code>new</code> expression. This behavior is corrected with the 1.1.0 release.</p>\n<h3>Iterable Objects</h3>\n<p>This release adds support for <a href=\"https://ballerina.io/spec/lang/2019R3/#section_5.5.2\">Iterable\n        objects</a>. Moreover the result of a range expression has also been updated to be a new object belonging to\n    the abstract object type <code>Iterable&lt;int&gt;</code>.</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">import ballerina/io;\n\ntype IterableObject object {\n    function __iterator() returns IntIterator {\n        return new IntIterator();\n    }\n};\n\ntype IntIterator object {\n    int i = 0;\n    public function next() returns record {|int value;|}? {\n        self.i += 1;\n        return self.i &lt; 10 ? {value: self.i} : ();\n    }\n};\n\npublic function main() {\n    foreach int i in new IterableObject() {\n        io:println(i);\n    }\n}\n</code></pre>\n\n<h3>Worker Actions</h3>\n<p>The 2019R3 specification defines that in a <a\n        href=\"https://ballerina.io/spec/lang/2019R3/#section_7.8.2.1\">single receive action</a> if the sending\n    worker terminated with failure, the evaluation of the single receive completes normally with the result being\n    the termination value of the sending worker, which will be an error. This validation was not enforced for the\n    sync send action, but has been added with this release.</p>\n<p>The following results in a compilation error now.</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">function WorkerInteraction () {\n    worker w1 returns error? {\n        int i = 10;\n        if (true) {\n            return error(&quot;Error!&quot;);\n        }\n        i -&gt;&gt; w2;\n    }\n\n    worker w2 {\n        int i = &lt;- w1; // error: expected type int|error\n    }\n}\n</code></pre>\n\n<h3>Documentation String</h3>\n<p><a href=\"https://ballerina.io/spec/lang/2019R3/#section_9.3\">Ballerina Flavored Markdown</a> syntax provides\n    conventions for referring Ballerina-defined names from within the documentation string in a source file. This\n    support has been added in JBallerina 1.1.0.</p>\n<p>Example:</p>\n<pre class=\"line-numbers language-ballerina\"><code class=\"language-ballerina\">    # Adds parameter `x` and parameter `z`\n    # + x - one thing to be added\n    # + y - another thing to be added\n    # + return - the sum of them\n    function add (int x, int y) returns int { return x + y; }\n</code></pre>\n\n<p>In this example <code>parameter `x`</code> and <code>parameter `z`</code> are validated by the compiler. The\n    compiler generates a warning message for <code>parameter `z`</code> since there is no parameter with the name\n    <code>z</code>.</p>\n<h3>Taint Analysis</h3>\n<p>This release adds validations to analyze the taintedness of listeners when declared inline with the service\n    declaration. This may break source code compatibility with the 1.0.0 release.</p>\n</div>","id":"1.1.0"},"__N_SSG":true}