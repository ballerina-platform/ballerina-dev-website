{"pageProps":{"samples":{"ai":{"frontmatter":{"title":"Utilize AI to extract sales information","description":"A Great amount of valuable sales-related information is captured in ad-hoc forms, such as emails, Word documents, and slides. Ballerina AI capabilities can be used to update Salesforce with information extracted from such unstructured data.<br/><br/><i>Example: Extract lead details such as name, phone number and company from emails using OpenAI, and create corresponding leads in Salesforce.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/gmail-to-salesforce-lead","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public function main() returns error? {\n    gmail:LabelList labelList = check gmail->listLabels(&#x22;me&#x22;);\n    Email[] emails = check getMatchingEmails(labelList);\n    foreach Email email in emails {\n        chat:CreateChatCompletionRequest request = {\n            model: &#x22;gpt-3.5-turbo&#x22;,\n            messages: [\n                {\n                    role: &#x22;user&#x22;,\n                    content: string &#x60;Extract the following details in JSON from the email.\n                    {\n                        firstName__c: string, // Mandatory\n                        lastName__c: string, // Mandatory\n                        email__c: string // Mandatory\n                        phoneNumber__c: string, // With country code. Use N/A if unable to find\n                        company__c: string, // Mandatory\n                        designation__c: string // Not mandatory. Use N/A if unable to find\n                    }\n                    Here is the email:    \n                    {\n                        from: ${email.&#x27;from},\n                        subject: ${email.subject},\n                        body: ${email.body}\n                    }&#x60;\n                }\n            ]\n        };\n        chat:CreateChatCompletionResponse response = check openAiChat->/chat/completions.post(request);\n        if response.choices.length() < 1 {\n            return error(&#x22;Unable to find any choices in the response.&#x22;);\n        }\n        string content = check response.choices[0].message?.content.ensureType(string);\n        _ = check salesforce->create(&#x22;EmailLead__c&#x22;, check content.fromJsonStringWithType(Lead));\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">public</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> main</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    gmail</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">LabelList labelList </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> gmail</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">listLabels</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"me\"</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    Email[] emails </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#6F42C1\"> getMatchingEmails</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">labelList</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    foreach </span><span style=\"color:#24292E\">Email email </span><span style=\"color:#D73A49\">in</span><span style=\"color:#24292E\"> emails {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        chat</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">CreateChatCompletionRequest request </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            model</span><span style=\"color:#D73A49\">:</span><span style=\"color:#032F62\"> \"gpt-3.5-turbo\"</span><span style=\"color:#24292E\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            messages</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> [</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                {</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                    role</span><span style=\"color:#24292E\">: </span><span style=\"color:#032F62\">\"user\"</span><span style=\"color:#24292E\">,</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                    content</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#24292E\"> `Extract the following details in JSON from the email.</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                    {</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        firstName__c</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#24292E\">, </span><span style=\"color:#6A737D\">// Mandatory</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        lastName__c</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#24292E\">, </span><span style=\"color:#6A737D\">// Mandatory</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        email__c</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#6A737D\"> // Mandatory</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        phoneNumber__c</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#24292E\">, </span><span style=\"color:#6A737D\">// With country code. Use N/A if unable to find</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        company__c</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#24292E\">, </span><span style=\"color:#6A737D\">// Mandatory</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        designation__c</span><span style=\"color:#24292E\">: </span><span style=\"color:#005CC5\">string</span><span style=\"color:#6A737D\"> // Not mandatory. Use N/A if unable to find</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                    Here is the </span><span style=\"color:#6F42C1\">email</span><span style=\"color:#24292E\">:    </span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                    {</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        from</span><span style=\"color:#24292E\">: ${email.'from},</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        subject</span><span style=\"color:#24292E\">: ${email.subject},</span></span>\n<span class=\"line\"><span style=\"color:#6F42C1\">                        body</span><span style=\"color:#24292E\">: ${email.body}</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                    }`</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            ]</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        };</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        chat</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">CreateChatCompletionResponse response </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> openAiChat</span><span style=\"color:#D73A49\">->/</span><span style=\"color:#24292E\">chat</span><span style=\"color:#D73A49\">/</span><span style=\"color:#24292E\">completions.</span><span style=\"color:#6F42C1\">post</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">request</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        if</span><span style=\"color:#24292E\"> response.choices.</span><span style=\"color:#6F42C1\">length</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">&#x3C;</span><span style=\"color:#005CC5\"> 1</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            return</span><span style=\"color:#D73A49\"> error</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"Unable to find any choices in the response.\"</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> content </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> response.choices[</span><span style=\"color:#005CC5\">0</span><span style=\"color:#24292E\">].message?.content.</span><span style=\"color:#6F42C1\">ensureType</span><span style=\"color:#24292E\">(</span><span style=\"color:#005CC5\">string</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        _ </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">create</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"EmailLead__c\"</span><span style=\"color:#24292E\">,</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> content.</span><span style=\"color:#6F42C1\">fromJsonStringWithType</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">Lead</span><span style=\"color:#24292E\">));</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"b2b":{"frontmatter":{"title":"Integrate Salesforce with B2B Channels","description":"Interactions between businesses, such as sending purchase orders and invoices, usually occur over EDI-based B2B channels. Ballerina's built-in EDI capabilities can directly integrate B2B channels with Salesforce and update sales data based on B2B transactions.<br/><br/><i>Example: Update products associated with Salesforce opportunities based on products listed in EDIFACT Request for Quotation (REQOTE) messages.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/ftp-edi-message-to-salesforce-opportunity","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public function main() returns error? {\n    ftp:FileInfo[] quoteList = check fileServer->list(ftpNewQuotesPath);\n    foreach ftp:FileInfo quoteFile in quoteList {\n        stream<byte[] &#x26; readonly, io:Error?> fileStream = check fileServer->get(quoteFile.path);\n        string quoteText = check streamToString(fileStream);\n        mREQOTE:EDI_REQOTE_Request_for_quote_message quote = check mREQOTE:fromEdiString(quoteText);\n        QuoteRequest quoteRequest = check transformQuoteRequest(quote);\n        stream<Id, error?> accQuery = check salesforce->query(\n            string &#x60;SELECT Id FROM Account WHERE Name = &#x27;${quoteRequest.accountName}&#x27;&#x60;\n        );\n        record {|Id value;|}? account = check accQuery.next();\n        check accQuery.close();\n        if account is () {\n            return error(&#x22;Account not found. Account name: &#x22; + quoteRequest.accountName);\n        }\n        Opportunity opp = {\n            Name: quoteRequest.oppName,\n            AccountId: account.value.Id,\n            Pricebook2Id: salesforcePriceBookId\n        };\n        string oppId = check getOpportunityId(salesforce, quoteRequest, opp);\n        check createOpportunityLineItems(quoteRequest, oppId);\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">public</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> main</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    ftp</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">FileInfo[] quoteList </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> fileServer</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">list</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">ftpNewQuotesPath</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    foreach </span><span style=\"color:#24292E\">ftp</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">FileInfo quoteFile </span><span style=\"color:#D73A49\">in</span><span style=\"color:#24292E\"> quoteList {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        stream&#x3C;</span><span style=\"color:#005CC5\">byte</span><span style=\"color:#24292E\">[] </span><span style=\"color:#D73A49\">&#x26;</span><span style=\"color:#D73A49\"> readonly</span><span style=\"color:#24292E\">, io</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">Error?</span><span style=\"color:#D73A49\">></span><span style=\"color:#24292E\"> fileStream </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> fileServer</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">get</span><span style=\"color:#24292E\">(quoteFile.path);</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> quoteText </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#6F42C1\"> streamToString</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">fileStream</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        mREQOTE</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">EDI_REQOTE_Request_for_quote_message quote </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> mREQOTE</span><span style=\"color:#D73A49\">:</span><span style=\"color:#6F42C1\">fromEdiString</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">quoteText</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        QuoteRequest quoteRequest </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#6F42C1\"> transformQuoteRequest</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">quote</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        stream&#x3C;</span><span style=\"color:#24292E\">Id, </span><span style=\"color:#D73A49\">error?></span><span style=\"color:#24292E\"> accQuery </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">query</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">            string</span><span style=\"color:#032F62\"> `SELECT Id FROM Account WHERE Name = '${</span><span style=\"color:#24292E\">quoteRequest</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">accountName</span><span style=\"color:#032F62\">}'`</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        );</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        record</span><span style=\"color:#24292E\"> {</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">Id value;</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">}</span><span style=\"color:#D73A49\">?</span><span style=\"color:#24292E\"> account </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> accQuery.</span><span style=\"color:#6F42C1\">next</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        check</span><span style=\"color:#24292E\"> accQuery.</span><span style=\"color:#6F42C1\">close</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        if</span><span style=\"color:#24292E\"> account </span><span style=\"color:#D73A49\">is</span><span style=\"color:#24292E\"> () {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            return</span><span style=\"color:#D73A49\"> error</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"Account not found. Account name: \"</span><span style=\"color:#D73A49\"> +</span><span style=\"color:#24292E\"> quoteRequest.accountName);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        Opportunity opp </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Name</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> quoteRequest.oppName,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            AccountId</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> account.value.Id,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Pricebook2Id</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> salesforcePriceBookId</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        };</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> oppId </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#6F42C1\"> getOpportunityId</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">salesforce</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">quoteRequest</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">opp</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        check</span><span style=\"color:#6F42C1\"> createOpportunityLineItems</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">quoteRequest</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">oppId</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"batch-data":{"frontmatter":{"title":"Start Salesforce integrations instantly with Ballerina + Choreo","description":"Choreo provides a comprehensive app development environment with production-ready deployment, CI/CD pipelines, multi-environment support, and robust monitoring for Ballerina apps. Start Salesforce integrations instantly on the cloud with Choreo and continue incrementally to unleash the full power of Salesforce.","url":"https://wso2.com/choreo/internal-developer-platform","image":"images/choreo-ipaas-image-v2.png"},"code":""},"datasources":{"frontmatter":{"title":"Bridge Salesforce with disparate data sources","description":"Data about products, customers, and sales transactions are often scattered across various systems, databases, and business units. With its rich set of connectors and data handling capabilities, Ballerina can link Salesforce with all relevant data sources.<br/><br/><i>Example: Load product data from a MySQL database to Salesforce.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/mysql-record-to-salesforce-new-product","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public function main() returns error? {\n    stream<ProductRecieved, error?> streamOutput = mysql->query(\n        &#x60;SELECT name, unitType, currencyISO, productId FROM products WHERE processed = false&#x60;);\n    record {|ProductRecieved value;|}|error? productRecieved = streamOutput.next();\n    while productRecieved !is error|() {\n        Product product = {\n            Name: productRecieved.value.name,\n            Product_Unit__c: productRecieved.value.unitType,\n            CurrencyIsoCode: productRecieved.value.currencyISO\n        };\n        _ = check salesforce->create(&#x22;Product2&#x22;, product);\n        _ = check mysql->execute(\n            &#x60;UPDATE products SET processed = true WHERE productId = ${productRecieved.value.productId}&#x60;);\n        productRecieved = streamOutput.next();\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">public</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> main</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    stream&#x3C;</span><span style=\"color:#24292E\">ProductRecieved, </span><span style=\"color:#D73A49\">error?></span><span style=\"color:#24292E\"> streamOutput </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> mysql</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">query</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#032F62\">        `SELECT name, unitType, currencyISO, productId FROM products WHERE processed = false`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    record</span><span style=\"color:#24292E\"> {</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">ProductRecieved value;</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">}</span><span style=\"color:#D73A49\">|error?</span><span style=\"color:#24292E\"> productRecieved </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> streamOutput.</span><span style=\"color:#6F42C1\">next</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    while</span><span style=\"color:#24292E\"> productRecieved </span><span style=\"color:#D73A49\">!is</span><span style=\"color:#D73A49\"> error|</span><span style=\"color:#24292E\">() {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        Product product </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Name</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> productRecieved.value.name,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Product_Unit__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> productRecieved.value.unitType,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            CurrencyIsoCode</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> productRecieved.value.currencyISO</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        };</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        _ </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">create</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"Product2\"</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">product</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        _ </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> mysql</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">execute</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#032F62\">            `UPDATE products SET processed = true WHERE productId = ${</span><span style=\"color:#24292E\">productRecieved</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">value</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">productId</span><span style=\"color:#032F62\">}`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        productRecieved </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> streamOutput.</span><span style=\"color:#6F42C1\">next</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"notifications":{"frontmatter":{"title":"Act on Salesforce based notifications","description":"Sales-related events need to be acted upon as soon as possible. For example, when a new contact is received, sales staff need to evaluate it and get in contact immediately. Ballerina can listen for any event in Salesforce and notify relevant employees over their preferred channels, ensuring that all customer events are attended on time.<br/><br/><i>Example: Send an SMS to a given number (via Twilio) when a new contact is created in Salesforce.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/salesforce-new-contact-to-twilio-sms","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"service salesforce:RecordService on sfdcEventListener {\n    isolated remote function onCreate(salesforce:EventData payload) returns error? {\n        string firstName = &#x22;&#x22;;\n        string lastName = &#x22;&#x22;;\n        string[] nameParts = re &#x60;,&#x60;.split(payload.changedData[&#x22;Name&#x22;].toString());\n        if nameParts.length() >= 2 {\n            firstName = re &#x60;=&#x60;.split(nameParts[0])[1];\n            lastName = re &#x60;=&#x60;.split(re &#x60;\\}&#x60;.replace(nameParts[1], &#x22;&#x22;))[1];\n        } else {\n            lastName = re &#x60;=&#x60;.split(re &#x60;\\}&#x60;.replace(nameParts[0], &#x22;&#x22;))[1];\n        }\n        twilio:SmsResponse response = check twilio->sendSms(fromNumber, toNumber,\n            string &#x60;New contact is created! | Name: ${firstName} ${lastName} | Created Date: \n            ${(check payload.changedData.CreatedDate).toString()}&#x60;);\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">service</span><span style=\"color:#24292E\"> salesforce:RecordService </span><span style=\"color:#D73A49\">on</span><span style=\"color:#24292E\"> sfdcEventListener {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    isolated</span><span style=\"color:#D73A49\"> remote</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> onCreate</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">salesforce</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">EventData payload) </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> firstName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#032F62\"> \"\"</span><span style=\"color:#24292E\">;</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> lastName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#032F62\"> \"\"</span><span style=\"color:#24292E\">;</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\">[] nameParts </span><span style=\"color:#D73A49\">=</span><span style=\"color:#005CC5\"> re</span><span style=\"color:#24292E\"> `,`.</span><span style=\"color:#6F42C1\">split</span><span style=\"color:#24292E\">(payload.changedData[</span><span style=\"color:#032F62\">\"Name\"</span><span style=\"color:#24292E\">].</span><span style=\"color:#6F42C1\">toString</span><span style=\"color:#24292E\">());</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        if</span><span style=\"color:#24292E\"> nameParts.</span><span style=\"color:#6F42C1\">length</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">>=</span><span style=\"color:#005CC5\"> 2</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            firstName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#005CC5\"> re</span><span style=\"color:#24292E\"> `=`.</span><span style=\"color:#6F42C1\">split</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">nameParts</span><span style=\"color:#24292E\">[</span><span style=\"color:#005CC5\">0</span><span style=\"color:#24292E\">])[</span><span style=\"color:#005CC5\">1</span><span style=\"color:#24292E\">];</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            lastName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#005CC5\"> re</span><span style=\"color:#24292E\"> `=`.</span><span style=\"color:#6F42C1\">split</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">re</span><span style=\"color:#032F62\"> `</span><span style=\"color:#005CC5\">\\}</span><span style=\"color:#032F62\">`</span><span style=\"color:#24292E\">.</span><span style=\"color:#6F42C1\">replace</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">nameParts</span><span style=\"color:#24292E\">[</span><span style=\"color:#005CC5\">1</span><span style=\"color:#24292E\">], </span><span style=\"color:#032F62\">\"\"</span><span style=\"color:#24292E\">))[</span><span style=\"color:#005CC5\">1</span><span style=\"color:#24292E\">];</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        } </span><span style=\"color:#D73A49\">else</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            lastName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#005CC5\"> re</span><span style=\"color:#24292E\"> `=`.</span><span style=\"color:#6F42C1\">split</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">re</span><span style=\"color:#032F62\"> `</span><span style=\"color:#005CC5\">\\}</span><span style=\"color:#032F62\">`</span><span style=\"color:#24292E\">.</span><span style=\"color:#6F42C1\">replace</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">nameParts</span><span style=\"color:#24292E\">[</span><span style=\"color:#005CC5\">0</span><span style=\"color:#24292E\">], </span><span style=\"color:#032F62\">\"\"</span><span style=\"color:#24292E\">))[</span><span style=\"color:#005CC5\">1</span><span style=\"color:#24292E\">];</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        twilio</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">SmsResponse response </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> twilio</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">sendSms</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">fromNumber</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">toNumber</span><span style=\"color:#24292E\">,</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">            string</span><span style=\"color:#032F62\"> `New contact is created! | Name: ${</span><span style=\"color:#24292E\">firstName</span><span style=\"color:#032F62\">} ${</span><span style=\"color:#24292E\">lastName</span><span style=\"color:#032F62\">} | Created Date: </span></span>\n<span class=\"line\"><span style=\"color:#032F62\">            ${</span><span style=\"color:#032F62\">(</span><span style=\"color:#D73A49\">check</span><span style=\"color:#24292E\"> payload</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">changedData</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">CreatedDate</span><span style=\"color:#032F62\">).</span><span style=\"color:#6F42C1\">toString</span><span style=\"color:#032F62\">()</span><span style=\"color:#032F62\">}`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"productivity":{"frontmatter":{"title":"Connect Salesforce with productivity tools","description":"Sales and customer data are often captured via office productivity tools such as Google Docs, Sheets, and Slack. Ballerina can pump data from such tools into Salesforce by performing validation and cleansing where necessary to standardize manually entered data.<br/><br/><i>Example: Create contacts in Salesforce by reading contact details given in a Google Sheet.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/gsheet-new-row-to-salesforce-new-contact","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public function main() returns error? {\n    sheets:Range range = check sheets->getRange(spreadsheetId, worksheetName, &#x22;A1:G&#x22;);\n    (int|string|decimal)[] headers = range.values[0];\n    foreach (int|string|decimal)[] item in range.values.slice(1) {\n        int? indexOfEmail = headers.indexOf(&#x22;Email&#x22;);\n        if indexOfEmail is int {\n            stream<Contact, error?> retrievedStream = check salesforce->query(\n                string &#x60;SELECT Id, Email FROM Contact WHERE Email=&#x27;${item[indexOfEmail]}&#x27;&#x60;);\n            if retrievedStream.next() is () {\n                record {} newContact = map from int index in 0 ..< headers.length()\n                    let int|string|decimal header = headers[index]\n                    select [header.toString(), item[index]];\n                _ = check salesforce->create(&#x22;Contact&#x22;, newContact);\n            }\n        }\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">public</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> main</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    sheets</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\">Range range </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> sheets</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">getRange</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">spreadsheetId</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">worksheetName</span><span style=\"color:#24292E\">, </span><span style=\"color:#032F62\">\"A1:G\"</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    (</span><span style=\"color:#005CC5\">int</span><span style=\"color:#D73A49\">|</span><span style=\"color:#005CC5\">string</span><span style=\"color:#D73A49\">|</span><span style=\"color:#005CC5\">decimal</span><span style=\"color:#24292E\">)[] headers </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> range.values[</span><span style=\"color:#005CC5\">0</span><span style=\"color:#24292E\">];</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    foreach </span><span style=\"color:#24292E\">(</span><span style=\"color:#005CC5\">int</span><span style=\"color:#D73A49\">|</span><span style=\"color:#005CC5\">string</span><span style=\"color:#D73A49\">|</span><span style=\"color:#005CC5\">decimal</span><span style=\"color:#24292E\">)[] item </span><span style=\"color:#D73A49\">in</span><span style=\"color:#24292E\"> range.values.</span><span style=\"color:#6F42C1\">slice</span><span style=\"color:#24292E\">(</span><span style=\"color:#005CC5\">1</span><span style=\"color:#24292E\">) {</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        int</span><span style=\"color:#24292E\">? indexOfEmail </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> headers.</span><span style=\"color:#6F42C1\">indexOf</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"Email\"</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        if</span><span style=\"color:#24292E\"> indexOfEmail </span><span style=\"color:#D73A49\">is</span><span style=\"color:#005CC5\"> int</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            stream&#x3C;</span><span style=\"color:#24292E\">Contact, </span><span style=\"color:#D73A49\">error?></span><span style=\"color:#24292E\"> retrievedStream </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">query</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">                string</span><span style=\"color:#032F62\"> `SELECT Id, Email FROM Contact WHERE Email='${</span><span style=\"color:#24292E\">item</span><span style=\"color:#032F62\">[</span><span style=\"color:#24292E\">indexOfEmail</span><span style=\"color:#032F62\">]</span><span style=\"color:#032F62\">}'`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            if</span><span style=\"color:#24292E\"> retrievedStream.</span><span style=\"color:#6F42C1\">next</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">is</span><span style=\"color:#24292E\"> () {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">                record</span><span style=\"color:#24292E\"> {} newContact </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> map</span><span style=\"color:#D73A49\"> from</span><span style=\"color:#005CC5\"> int</span><span style=\"color:#24292E\"> index </span><span style=\"color:#D73A49\">in</span><span style=\"color:#005CC5\"> 0</span><span style=\"color:#24292E\"> ..</span><span style=\"color:#D73A49\">&#x3C;</span><span style=\"color:#24292E\"> headers.</span><span style=\"color:#6F42C1\">length</span><span style=\"color:#24292E\">()</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">                    let</span><span style=\"color:#005CC5\"> int</span><span style=\"color:#D73A49\">|</span><span style=\"color:#005CC5\">string</span><span style=\"color:#D73A49\">|</span><span style=\"color:#005CC5\">decimal</span><span style=\"color:#24292E\"> header </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> headers[index]</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">                    select</span><span style=\"color:#24292E\"> [header.</span><span style=\"color:#6F42C1\">toString</span><span style=\"color:#24292E\">(), item[index]];</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                _ </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">create</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"Contact\"</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">newContact</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"realtime":{"frontmatter":{"title":"Synchronize Salesforce with real-time data","description":"Information, such as inventory levels, order statuses, or product prices, change constantly. With its large number of connectors and streaming capabilities, Ballerina can keep Salesforce in sync with such real-time data sources.<br/><br/><i>Example: Update Salesforce price books by listening to price details published to a Kafka topic.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/kafka_salesforce_integration/kafka-salesforce-pricebook_update","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"service on priceListener {\n    isolated remote function onConsumerRecord(ProductPrice[] prices) returns error? {\n        foreach ProductPrice {name, unitPrice} in prices {\n            stream<record {}, error?> retrievedStream = check salesforce->query(\n                string &#x60;SELECT Id FROM PricebookEntry \n                    WHERE Pricebook2Id = &#x27;${salesforcePriceBookId}&#x27; AND \n                    Name = &#x27;${name}&#x27;&#x60;);\n            record {}[] retrieved = check from record {} entry in retrievedStream\n                select entry;\n            anydata pricebookEntryId = retrieved[0][&#x22;Id&#x22;];\n            if pricebookEntryId is string {\n                ProductPriceUpdate updatedPrice = {UnitPrice: unitPrice};\n                check salesforce->update(&#x22;PricebookEntry&#x22;, pricebookEntryId, updatedPrice);\n            }\n        }\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">service</span><span style=\"color:#D73A49\"> on</span><span style=\"color:#24292E\"> priceListener {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    isolated</span><span style=\"color:#D73A49\"> remote</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> onConsumerRecord</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">ProductPrice</span><span style=\"color:#24292E\">[] </span><span style=\"color:#E36209\">prices</span><span style=\"color:#24292E\">) </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        foreach </span><span style=\"color:#24292E\">ProductPrice {name, unitPrice} </span><span style=\"color:#D73A49\">in</span><span style=\"color:#24292E\"> prices {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            stream&#x3C;record</span><span style=\"color:#24292E\"> {}, </span><span style=\"color:#D73A49\">error?></span><span style=\"color:#24292E\"> retrievedStream </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">query</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">                string</span><span style=\"color:#032F62\"> `SELECT Id FROM PricebookEntry </span></span>\n<span class=\"line\"><span style=\"color:#032F62\">                    WHERE Pricebook2Id = '${</span><span style=\"color:#24292E\">salesforcePriceBookId</span><span style=\"color:#032F62\">}' AND </span></span>\n<span class=\"line\"><span style=\"color:#032F62\">                    Name = '${</span><span style=\"color:#24292E\">name</span><span style=\"color:#032F62\">}'`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            record</span><span style=\"color:#24292E\"> {}[] retrieved </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#D73A49\"> from</span><span style=\"color:#D73A49\"> record</span><span style=\"color:#24292E\"> {} entry </span><span style=\"color:#D73A49\">in</span><span style=\"color:#24292E\"> retrievedStream</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">                select</span><span style=\"color:#24292E\"> entry;</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">            anydata</span><span style=\"color:#24292E\"> pricebookEntryId </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> retrieved[</span><span style=\"color:#005CC5\">0</span><span style=\"color:#24292E\">][</span><span style=\"color:#032F62\">\"Id\"</span><span style=\"color:#24292E\">];</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            if</span><span style=\"color:#24292E\"> pricebookEntryId </span><span style=\"color:#D73A49\">is</span><span style=\"color:#005CC5\"> string</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                ProductPriceUpdate updatedPrice </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> {UnitPrice</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> unitPrice};</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">                check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">update</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"PricebookEntry\"</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">pricebookEntryId</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">updatedPrice</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"servicenow":{"frontmatter":{"title":"Make sales staff aware of customer issues","description":"Customer issues are tracked in support systems such as JIRA or ServiceNow. However, sales staff also need to be informed about the problems faced by their customers. This synchronization can be done with Ballerina using a few simple steps.<br/><br/><i>Example: Import support cases from ServiceNow to Salesforce for a given time period.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/servicenow-case-to-salesforce-case","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public function main() returns error? {\n    DateRange fetchPeriod = check calculateFetchingPeriod();\n    CaseData[] cases = check  fetchCasesFromServiceNow(fetchPeriod.&#x27;start, fetchPeriod.end);\n    foreach CaseData caseData in cases {\n        stream<Id, error?> customerStream = check salesforce->query(\n            string &#x60;SELECT Id FROM Account WHERE Name = &#x27;${caseData.account.name}&#x27;&#x60;);\n        record {|Id value;|}? existingCustomer = check customerStream.next();\n        check customerStream.close();\n        if existingCustomer is () {\n            continue;\n        }\n        SalesforceCase salesforceCase = {\n            Name: caseData.number,\n            Created_on__c: caseData.sys_created_on,\n            Priority__c: caseData.priority,\n            Account__c: existingCustomer.value.Id,\n            Summary__c: caseData.case\n        };\n        _ = check salesforce->create(&#x22;Support_Case__c&#x22;, salesforceCase);\n    }\n    check io:fileWriteString(syncData, check time:civilToString(fetchPeriod.now));\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">public</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> main</span><span style=\"color:#24292E\">() </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    DateRange fetchPeriod </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#6F42C1\"> calculateFetchingPeriod</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    CaseData[] cases </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#6F42C1\">  fetchCasesFromServiceNow</span><span style=\"color:#24292E\">(fetchPeriod.'start, fetchPeriod.end);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    foreach </span><span style=\"color:#24292E\">CaseData caseData </span><span style=\"color:#D73A49\">in</span><span style=\"color:#24292E\"> cases {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        stream&#x3C;</span><span style=\"color:#24292E\">Id, </span><span style=\"color:#D73A49\">error?></span><span style=\"color:#24292E\"> customerStream </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">query</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">            string</span><span style=\"color:#032F62\"> `SELECT Id FROM Account WHERE Name = '${</span><span style=\"color:#24292E\">caseData</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">account</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">name</span><span style=\"color:#032F62\">}'`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        record</span><span style=\"color:#24292E\"> {</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">Id value;</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">}</span><span style=\"color:#D73A49\">?</span><span style=\"color:#24292E\"> existingCustomer </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> customerStream.</span><span style=\"color:#6F42C1\">next</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        check</span><span style=\"color:#24292E\"> customerStream.</span><span style=\"color:#6F42C1\">close</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        if</span><span style=\"color:#24292E\"> existingCustomer </span><span style=\"color:#D73A49\">is</span><span style=\"color:#24292E\"> () {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            continue</span><span style=\"color:#24292E\">;</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        SalesforceCase salesforceCase </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Name</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> caseData.number,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Created_on__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> caseData.sys_created_on,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Priority__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> caseData.priority,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Account__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> existingCustomer.value.Id,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Summary__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> caseData.case</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        };</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        _ </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">create</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"Support_Case__c\"</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">salesforceCase</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    check</span><span style=\"color:#24292E\"> io</span><span style=\"color:#D73A49\">:</span><span style=\"color:#6F42C1\">fileWriteString</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">syncData</span><span style=\"color:#24292E\">,</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#E36209\"> time</span><span style=\"color:#D73A49\">:</span><span style=\"color:#6F42C1\">civilToString</span><span style=\"color:#24292E\">(fetchPeriod.now));</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"},"shopify":{"frontmatter":{"title":"Connect Salesforce with e-commerce platforms","description":"E-commerce platforms like Shopify and WooCommerce are the main points of customer interactions. Ballerina can utilize packages in its <a href='https://central.ballerina.io/ballerina-library'>library</a> to listen for events like customer registrations, contact updates, or order placements from such platforms and propagate those changes to Salesforce.<br/><br/><i>Example: Update customer records in Salesforce, when customer data is updated in Shopify.</i>","url":"https://github.com/ballerina-guides/integration-samples/blob/main/shopify-customer-to-salesforce-customer","image":""},"code":"<pre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"><code><button type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"service /salesforce_bridge on new http:Listener(9090) {\n    resource function post customers(ShopifyCustomer shopifyCustomer) returns error? {\n        string firstName = shopifyCustomer.first_name ?: regex:split(shopifyCustomer.email, &#x22;@&#x22;)[0];\n        string lastName = shopifyCustomer.last_name ?: &#x22;&#x22;;\n        Address? shopifyAddress = shopifyCustomer.default_address;\n        string address = (shopifyAddress !is ()) ? string &#x60;${shopifyAddress.address1}, \n        ${shopifyAddress.address2}, ${shopifyAddress.city}, ${shopifyAddress.country}&#x60; : &#x22;&#x22;;\n        SalesforceCustomer salesforceCustomer = {\n            Name: string &#x60;${firstName} ${lastName}&#x60;,\n            Email__c: shopifyCustomer.email,\n            Address__c: address\n        };\n        stream<Id, error?> customerStream = check salesforce->query(\n            string &#x60;SELECT Id FROM HmartCustomer__c WHERE Email__c = &#x27;${salesforceCustomer.Email__c}&#x27;&#x60;);\n        record {|Id value;|}? existingCustomer = check customerStream.next();\n        check customerStream.close();\n        if existingCustomer is () {\n            _ = check salesforce->create(&#x22;HmartCustomer__c&#x22;, salesforceCustomer);\n        } else {\n            check salesforce->update(&#x22;HmartCustomer__c&#x22;,\n                existingCustomer.value.Id, salesforceCustomer);\n        }\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);\"><span class=\"ready\"></span><span class=\"success\"></span></button><span class=\"line\"><span style=\"color:#D73A49\">service</span><span style=\"color:#6F42C1\"> /salesforce_bridge</span><span style=\"color:#D73A49\"> on</span><span style=\"color:#D73A49\"> new</span><span style=\"color:#24292E\"> http:Listener(</span><span style=\"color:#005CC5\">9090</span><span style=\"color:#24292E\">) {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">    resource</span><span style=\"color:#D73A49\"> function</span><span style=\"color:#6F42C1\"> post</span><span style=\"color:#6F42C1\"> customers</span><span style=\"color:#24292E\">(</span><span style=\"color:#E36209\">ShopifyCustomer</span><span style=\"color:#E36209\"> shopifyCustomer</span><span style=\"color:#24292E\">) </span><span style=\"color:#D73A49\">returns</span><span style=\"color:#D73A49\"> error?</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> firstName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> shopifyCustomer.first_name </span><span style=\"color:#D73A49\">?:</span><span style=\"color:#24292E\"> regex</span><span style=\"color:#D73A49\">:</span><span style=\"color:#6F42C1\">split</span><span style=\"color:#24292E\">(shopifyCustomer.email, </span><span style=\"color:#032F62\">\"@\"</span><span style=\"color:#24292E\">)[</span><span style=\"color:#005CC5\">0</span><span style=\"color:#24292E\">];</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> lastName </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> shopifyCustomer.last_name </span><span style=\"color:#D73A49\">?:</span><span style=\"color:#032F62\"> \"\"</span><span style=\"color:#24292E\">;</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        Address</span><span style=\"color:#D73A49\">?</span><span style=\"color:#24292E\"> shopifyAddress </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> shopifyCustomer.default_address;</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">        string</span><span style=\"color:#24292E\"> address </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> (</span><span style=\"color:#E36209\">shopifyAddress</span><span style=\"color:#D73A49\"> !is</span><span style=\"color:#24292E\"> ()) </span><span style=\"color:#D73A49\">?</span><span style=\"color:#005CC5\"> string</span><span style=\"color:#032F62\"> `${</span><span style=\"color:#24292E\">shopifyAddress</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">address1</span><span style=\"color:#032F62\">}, </span></span>\n<span class=\"line\"><span style=\"color:#032F62\">        ${</span><span style=\"color:#24292E\">shopifyAddress</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">address2</span><span style=\"color:#032F62\">}, ${</span><span style=\"color:#24292E\">shopifyAddress</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">city</span><span style=\"color:#032F62\">}, ${</span><span style=\"color:#24292E\">shopifyAddress</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">country</span><span style=\"color:#032F62\">}`</span><span style=\"color:#D73A49\"> :</span><span style=\"color:#032F62\"> \"\"</span><span style=\"color:#24292E\">;</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        SalesforceCustomer salesforceCustomer </span><span style=\"color:#D73A49\">=</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Name</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> string </span><span style=\"color:#032F62\">`${</span><span style=\"color:#24292E\">firstName</span><span style=\"color:#032F62\">} ${</span><span style=\"color:#24292E\">lastName</span><span style=\"color:#032F62\">}`</span><span style=\"color:#24292E\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Email__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> shopifyCustomer.email,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            Address__c</span><span style=\"color:#D73A49\">:</span><span style=\"color:#24292E\"> address</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        };</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        stream&#x3C;</span><span style=\"color:#24292E\">Id, </span><span style=\"color:#D73A49\">error?></span><span style=\"color:#24292E\"> customerStream </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">query</span><span style=\"color:#24292E\">(</span></span>\n<span class=\"line\"><span style=\"color:#005CC5\">            string</span><span style=\"color:#032F62\"> `SELECT Id FROM HmartCustomer__c WHERE Email__c = '${</span><span style=\"color:#24292E\">salesforceCustomer</span><span style=\"color:#032F62\">.</span><span style=\"color:#24292E\">Email__c</span><span style=\"color:#032F62\">}'`</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        record</span><span style=\"color:#24292E\"> {</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">Id value;</span><span style=\"color:#D73A49\">|</span><span style=\"color:#24292E\">}</span><span style=\"color:#D73A49\">?</span><span style=\"color:#24292E\"> existingCustomer </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> customerStream.</span><span style=\"color:#6F42C1\">next</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        check</span><span style=\"color:#24292E\"> customerStream.</span><span style=\"color:#6F42C1\">close</span><span style=\"color:#24292E\">();</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">        if</span><span style=\"color:#24292E\"> existingCustomer </span><span style=\"color:#D73A49\">is</span><span style=\"color:#24292E\"> () {</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">            _ </span><span style=\"color:#D73A49\">=</span><span style=\"color:#D73A49\"> check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">create</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"HmartCustomer__c\"</span><span style=\"color:#24292E\">, </span><span style=\"color:#E36209\">salesforceCustomer</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        } </span><span style=\"color:#D73A49\">else</span><span style=\"color:#24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color:#D73A49\">            check</span><span style=\"color:#24292E\"> salesforce</span><span style=\"color:#D73A49\">-></span><span style=\"color:#6F42C1\">update</span><span style=\"color:#24292E\">(</span><span style=\"color:#032F62\">\"HmartCustomer__c\"</span><span style=\"color:#24292E\">,</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">                existingCustomer.value.Id, </span><span style=\"color:#E36209\">salesforceCustomer</span><span style=\"color:#24292E\">);</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">        }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color:#24292E\">}</span></span><style>:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre>"}}},"__N_SSG":true}