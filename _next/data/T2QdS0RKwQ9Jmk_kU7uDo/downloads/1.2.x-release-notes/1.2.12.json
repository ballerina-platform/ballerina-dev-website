{"pageProps":{"frontmatter":{"layout":"ballerina-left-nav-release-notes","title":"1.2.12","permalink":"/downloads/1.2.x-release-notes/1.2.12/","active":"1.2.12","redirect_from":null},"content":"### Overview of jBallerina 1.2.12\n\nThe jBallerina 1.2.12 patch release improves upon the 1.2.11 release by addressing a number of [issues](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+milestone%3A%22Ballerina+1.2.12%22+is%3Aclosed).\n\nYou can use the [update tool](/learn/cli-documentation/update-tool/) to update to jBallerina 1.2.12 as follows.\n\n**For existing users:**\n\nIf you are already using jBallerina version 1.2.0, or above, you can directly update your distribution to jBallerina 1.2.12 by executing the following command:\n\n```\nballerina dist update\n```\n\nHowever, you need to use the following commands instead of the above if you have installed:\n\n- jBallerina 1.2.0 but switched to a previous version: `ballerina dist pull 1.2.12`\n- a jBallerina version below 1.1.0: install via the [installers](/downloads/)\n\n**For new users:**\n\nIf you have not installed jBallerina, then download the [installers](/downloads/) to install.\n\n#### Standard library\n\n##### `websub` module\n\nIntroduced 3 new hub configurations as extension points to which you can pass functions to be invoked for each event on the message, on successful delivery of updates to subscribers, and on delivery failure.\n\n```ballerina\npublic function main() {\n \n   websub:Hub webSubHub;\n   var result = websub:startHub(new http:Listener(9191), \"/websub\", \"/hub\",\n               hubConfiguration = {\n                   tapOnMessage: tapOnMessageImpl,\n                   tapOnDelivery: tapOnDeliveryImpl,\n                   tapOnDeliveryFailure: tapOnDeliveryFailureImpl\n               });\n   if (result is websub:Hub) {\n       webSubHub = result;\n   } else if (result is websub:HubStartedUpError) {\n       webSubHub = result.startedUpHub;\n   } else {\n       io:println(\"Hub start error:\" + <string>result.detail()?.message);\n       return;\n   }\n}\n \nfunction tapOnMessageImpl (websub:WebSubContent content) {}\n \nfunction tapOnDeliveryImpl (string callback, string topic, websub:WebSubContent content) {}\n \nfunction tapOnDeliveryFailureImpl (string callback, string topic, websub:WebSubContent content, http:Response|error response, websub:FailureReason reason) {}\n```\n","id":"1.2.12","codeSnippets":"[[405042155,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">main</span><span style=\\\"color: #24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Hub webSubHub;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #005CC5\\\">var</span><span style=\\\"color: #24292E\\\"> result </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">startHub</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #D73A49\\\">new</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">Listener</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">9191</span><span style=\\\"color: #24292E\\\">), </span><span style=\\\"color: #032F62\\\">&quot;/websub&quot;</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #032F62\\\">&quot;/hub&quot;</span><span style=\\\"color: #24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">               </span><span style=\\\"color: #E36209\\\">hubConfiguration</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">                   tapOnMessage</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> tapOnMessageImpl,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">                   tapOnDelivery</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> tapOnDeliveryImpl,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">                   tapOnDeliveryFailure</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\"> tapOnDeliveryFailureImpl</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">               });</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #D73A49\\\">if</span><span style=\\\"color: #24292E\\\"> (result </span><span style=\\\"color: #D73A49\\\">is</span><span style=\\\"color: #24292E\\\"> websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Hub) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">       webSubHub </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> result;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   } </span><span style=\\\"color: #D73A49\\\">else</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">if</span><span style=\\\"color: #24292E\\\"> (result </span><span style=\\\"color: #D73A49\\\">is</span><span style=\\\"color: #24292E\\\"> websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">HubStartedUpError) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">       webSubHub </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> result.startedUpHub;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   } </span><span style=\\\"color: #D73A49\\\">else</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">       io</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #6F42C1\\\">println</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #032F62\\\">&quot;Hub start error:&quot;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">+</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">&lt;</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #D73A49\\\">&gt;</span><span style=\\\"color: #24292E\\\">result.</span><span style=\\\"color: #6F42C1\\\">detail</span><span style=\\\"color: #24292E\\\">()?.message);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">       </span><span style=\\\"color: #D73A49\\\">return</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">tapOnMessageImpl</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #E36209\\\">websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">WebSubContent content) {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">tapOnDeliveryImpl</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">callback</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">topic</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">WebSubContent content) {}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\"> </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">tapOnDeliveryFailureImpl</span><span style=\\\"color: #24292E\\\"> (</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">callback</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">topic</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">WebSubContent content, </span><span style=\\\"color: #E36209\\\">http</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">Response</span><span style=\\\"color: #D73A49\\\">|error</span><span style=\\\"color: #24292E\\\"> response, </span><span style=\\\"color: #E36209\\\">websub</span><span style=\\\"color: #D73A49\\\">:</span><span style=\\\"color: #24292E\\\">FailureReason reason) {}</span></span></code></pre>\"]]"},"__N_SSG":true}