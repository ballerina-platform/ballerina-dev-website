{"pageProps":{"frontmatter":{},"content":"# Specification: Ballerina Regex Library\n\n_Owners_: @daneshk @kalaiyarasiganeshalingam  \n_Reviewers_: @daneshk  \n_Created_: 2021/12/07  \n_Updated_: 2022/02/17  \n_Edition_: Swan Lake  \n\n## Introduction  \nThis is the specification for the Regex standard library of [Ballerina language](https://ballerina.io/), which provides functionalities such as matching, replacing and splitting strings based on regular expressions.\n\nThe Regex library specification has evolved and may continue to evolve in the future. The released versions of the specification can be found under the relevant GitHub tag.\n\nIf you have any feedback or suggestions about the library, start a discussion via a [GitHub issue](https://github.com/ballerina-platform/ballerina-standard-library/issues) or in the [Discord server](https://discord.gg/ballerinalang). Based on the outcome of the discussion, the specification and implementation can be updated. Community feedback is always welcome. Any accepted proposal, which affects the specification is stored under `/docs/proposals`. Proposals under discussion can be found with the label `type/proposal` in GitHub.\n\nThe conforming implementation of the specification is released and included in the distribution. Any deviation from the specification is considered a bug.\n\n## Contents\n1. [Overview](#1-overview)\n2. [Operations](#2-operations)\n   * 2.1. [Matches](#21-matches)\n   * 2.2. [Replace](#22-replace)\n   * 2.3. [Split](#23-split)\n   * 2.4. [Search](#24-search)\n\n## 1. Overview\nThis library is based on [regular expressions](https://en.wikipedia.org/wiki/Regular_expression), which are notations \nfor describing sets of character strings that specify a search pattern. It supports the [regular expression patterns of Java](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/regex/Pattern.html#sum).\n\n## 2. Operations\n\n### 2.1. Matches\nThis is used to check whether a string matches the provided regex.\n```ballerina\npublic isolated function matches(string stringToMatch, string regex) returns boolean;\n```\n\n### 2.2. Replace\n\nThe replace APIs are used to replace the occurrence/s of substrings that matches the provided regex in the original\nstring with the provided replacement string or string returned by the provided function. The following function and \ntype are used to provide the constant or dynamic replacement string. \n\n```ballerina\n # A function to be invoked to create the new substring to be used to replace the matches.\n type ReplacerFunction function(Match matched) returns string;\n ```\n\n```ballerina\n # A function to be invoked to create the new substring or string value to be used to replace the matches.\n public type Replacement ReplacerFunction|string;\n ```\n\nThe following APIs are provided to replace the matches:\n\n- To replace all occurrences of substrings that matches the provided regex in the original string with the provided\nreplacement string or string returned by the provided function.\n```ballerina\npublic isolated function replaceAll(string originalString, string regex, Replacement replacement) returns string;\n```\n\n- To replace only the first occurrence of the substring from the start index that matches the provided regex in the original string with\nthe provided replacement string or string returned by the provided function.\n```ballerina\npublic isolated function replace(string originalString, string regex, Replacement replacement, int startIndex = 0) returns string;\n```\n\n### 2.3. Split\nThis splits a string into an array of substrings, using the provided regex as the delimiter.\n```ballerina\npublic isolated function split(string receiver, string delimiter) returns string[];\n```\n\n### 2.4. Search\n\nThe search APIs extract substring/s of the string that matches the provided regex. It provides details of the matches such as substring value, start index, end index, and matched regex groups\n\nThe following records are used to hold the results of a match against a regular expression.\n\n```ballerina\n# Holds the matched substring and its position in the input string.\n#\n# + matched - Matched substring\n# + startIndex - The start index of the match\n# + endIndex - The last index of the match\ntype PartMatch record {|\n   string matched;\n   int startIndex;\n   int endIndex;\n|};\n```\n\n```ballerina\n# Holds the results of a match against a regular expression.\n# It contains the match boundaries, groups and group boundaries.\n#\n# + groups - Information about matched regex groups\npublic type Match record {|\n   // The match for the whole regex\n   *PartMatch;\n   Groups groups;\n|};\n```\n\nThis `Groups` object handles the matches with the group of regex.\n\n```ballerina\n# Holds information about matched regex groups\npublic type Groups readonly & object {\n   int count;\n   // Capture groups are indexed from 1\n   // Group 0 means whole regex\n   // Panics if i < 0 or > count\n   isolated function get(int i) returns PartMatch?;\n};\n```\n\nThe following APIs are provided by the regex module to extract string/s.\n- To get all substrings in string that match the regex.\n```ballerina\npublic isolated function searchAll(string str, string regex) returns Match[];\n```\n\n- To get the first substring from the start index in the given string that matches the regex.\n```ballerina\npublic isolated function search(string str, string regex, int startIndex = 0) returns Match?;\n```\n","codeSnippets":"[[793864234,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">matches</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">stringToMatch</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">regex</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">boolean</span><span style=\\\"color: #24292E\\\">;</span></span></code></pre>\"],[899863764,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># A function to be invoked to create the new substring to be used to replace the matches.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">ReplacerFunction</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #E36209\\\">Match</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">matched</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">;</span></span></code></pre>\"],[-415359419,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># A function to be invoked to create the new substring or string value to be used to replace the matches.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">Replacement</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">ReplacerFunction|</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">;</span></span></code></pre>\"],[-762055136,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">replaceAll</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">originalString</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">regex</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">Replacement</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">replacement</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">;</span></span></code></pre>\"],[-553516139,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">replace</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">originalString</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">regex</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #E36209\\\">Replacement</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">replacement</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">startIndex</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">;</span></span></code></pre>\"],[-125053968,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">split</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">receiver</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">delimiter</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\">[];</span></span></code></pre>\"],[-1046480841,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># Holds the matched substring and its position in the input string.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">#</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">matched</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">Matched substring</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">startIndex</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">The start index of the match</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">endIndex</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">The last index of the match</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">PartMatch</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">record</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> matched;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> startIndex;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> endIndex;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">};</span></span></code></pre>\"],[-1989742,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># Holds the results of a match against a regular expression.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># It contains the match boundaries, groups and group boundaries.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\">#</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># </span><span style=\\\"color: #D73A49\\\">+ </span><span style=\\\"color: #24292E\\\">groups</span><span style=\\\"color: #D73A49\\\"> - </span><span style=\\\"color: #6A737D\\\">Information about matched regex groups</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">Match</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">record</span><span style=\\\"color: #24292E\\\"> {</span><span style=\\\"color: #D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #6A737D\\\">// The match for the whole regex</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #D73A49\\\">*</span><span style=\\\"color: #24292E\\\">PartMatch;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   Groups groups;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">|</span><span style=\\\"color: #24292E\\\">};</span></span></code></pre>\"],[1751270381,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #6A737D\\\"># Holds information about matched regex groups</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">type</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">Groups</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">readonly</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">&amp;</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">object</span><span style=\\\"color: #24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> count;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #6A737D\\\">// Capture groups are indexed from 1</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #6A737D\\\">// Group 0 means whole regex</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #6A737D\\\">// Panics if i &lt; 0 or &gt; count</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">   </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">get</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">i</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> PartMatch</span><span style=\\\"color: #D73A49\\\">?</span><span style=\\\"color: #24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">};</span></span></code></pre>\"],[-1814491651,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">searchAll</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">str</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">regex</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> Match[];</span></span></code></pre>\"],[1005477301,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #D73A49\\\">public</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">isolated</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">function</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #6F42C1\\\">search</span><span style=\\\"color: #24292E\\\">(</span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">str</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">string</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">regex</span><span style=\\\"color: #24292E\\\">, </span><span style=\\\"color: #005CC5\\\">int</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #E36209\\\">startIndex</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #D73A49\\\">=</span><span style=\\\"color: #24292E\\\"> </span><span style=\\\"color: #005CC5\\\">0</span><span style=\\\"color: #24292E\\\">) </span><span style=\\\"color: #D73A49\\\">returns</span><span style=\\\"color: #24292E\\\"> Match</span><span style=\\\"color: #D73A49\\\">?</span><span style=\\\"color: #24292E\\\">;</span></span></code></pre>\"]]"},"__N_SSG":true}