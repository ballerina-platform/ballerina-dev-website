{"pageProps":{"frontmatter":{"layout":"ballerina-configure-a-network-proxy-left-nav-pages-swanlake","title":"Configure a network proxy","description":"In corporate environments, direct HTTP internet access is often restricted, with a preference for routing traffic through proxies. The following section provides a detailed guide on configuring your system to ensure access to Ballerina Central, even when working behind a proxy.","keywords":"ballerina, programming language, ballerina packages, network proxy","permalink":"/learn/configure-a-network-proxy/","active":"configure-a-network-proxy","intro":"In corporate environments, direct HTTP internet access is often restricted, with a preference for routing traffic through proxy servers. The following section provides a detailed guide on configuring your system to ensure access to Ballerina Central, even when working behind a proxy."},"content":"\n## Configure proxy settings\n\nIf you are connected to the internet via an HTTP proxy, you need to configure it in the `<USER_HOME>/.ballerina/Settings.toml` file to carry out operations related to the Ballerina Central such as publishing a package, pulling a package, and resolving packages. Below is the TOML syntax for the proxy settings.\n\n```toml\n[proxy]\nhost = \"HOST_NAME\"\nport = PORT\nusername = \"PROXY_USERNAME\"\npassword = \"PROXY_PASSWORD\"\n```\n\nIf your proxy does not require any credentials, keep `username` and `password` fields empty as shown below.\n\n```toml\n[proxy]\nhost = \"HOST_NAME\"\nport = PORT\nusername = \"\"\npassword = \"\"\n```\n\n## Add necessary certificates to the truststore\n\nIf you encounter any certificate-related issues such as the one below when connecting via a proxy:\n\n> PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target.\n\n follow the steps below to trust the certificates associated with the proxy.\n\n1) Navigate to the `dependencies/` folder in the Ballerina installation directory. Here, you should notice one or more Java Runtime Environment (JRE) instances.\n2) Identify the certificates associated with the proxy. This information is typically found in the documentation provided by your proxy vendor.\n3) Execute the below command in a command line with administrative privileges.\n\n    ```\n    <BALLERINA_JRE>/bin/keytool.exe -import -trustcacerts -file <CERTS_PATH> -alias <ALIAS_NAME> -keystore <BALLERINA_JRE>/lib/security/cacerts\n    ```\n> **Note:** If you are using multiple Ballerina distributions, you may need to follow the above steps to all the JRE instances individually for each distribution.\n\n## Configure proxy settings via environment variables\n\nProxy settings can also be configured via environment variables. This is useful when you want to configure the proxy settings for all the Ballerina distributions in your system.\nFollowing are the environment variables that can be used to configure the proxy settings.\n\n```\nBALLERINA_CA_BUNDLE # Path to the CA bundle file\nBALLERINA_CA_PASSWORD # Password for the CA bundle file\nBALLERINA_CA_CERT # Path to the CA certificate file\n```\n\n## Domain access \n\nFollowing domains should be accessible from the network to work with Ballerina.\n\n1) Ballerina Central API - `https://api.central.ballerina.io/`\n2) Ballerina Central File Server - `https://fileserver.central.ballerina.io/`\n3) Maven Central Repository - `https://repo.maven.apache.org/maven2`\n4) Docker Hub (For Docker Image Pull) - `https://hub.docker.com/u/ballerina` \n5) Alpine Linux Repository (For Docker Image Updates) - `http://dl-cdn.alpinelinux.org/`\n\n\n","id":"configure-a-network-proxy","sub":"ballerina-central","third":"","slug":"ballerina-central/configure-a-network-proxy","codes":"[[-494091890,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">proxy</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">host = </span><span style=\\\"color:#032F62\\\">\\\"HOST_NAME\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">port = P</span><span style=\\\"color:#B31D28;font-style:italic\\\">ORT</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">username = </span><span style=\\\"color:#032F62\\\">\\\"PROXY_USERNAME\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">password = </span><span style=\\\"color:#032F62\\\">\\\"PROXY_PASSWORD\\\"</span></span></code></pre>\"],[1892808641,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">proxy</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">host = </span><span style=\\\"color:#032F62\\\">\\\"HOST_NAME\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">port = P</span><span style=\\\"color:#B31D28;font-style:italic\\\">ORT</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">username = </span><span style=\\\"color:#032F62\\\">\\\"\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">password = </span><span style=\\\"color:#032F62\\\">\\\"\\\"</span></span></code></pre>\"]]"},"__N_SSG":true}