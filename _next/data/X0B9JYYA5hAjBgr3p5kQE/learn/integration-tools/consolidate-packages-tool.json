{"pageProps":{"frontmatter":{"layout":"ballerina-consolidate-packages-support-left-nav-pages-swanlake","title":"Consolidate-packages tool","description":"The consolidate-packages tool provides CLI commands and a build tool to consolidate services into a single executable.","keywords":"ballerina, programming language, consolidate packages, consolidate-packages, monolith","permalink":"/learn/consolidate-packages-tool/","active":"consolidate-packages-tool","intro":"Ballerina inherently supports microservices-style deployments, which are well-suited for microservice orchestration platforms like Kubernetes. However, if you prefer a server-based deployment model, this tool allows you to consolidate multiple services into a single process, making deployments more manageable and efficient."},"content":"## Usage\n\n### Create or update a consolidator package\n\nCreate a new package and add the `consolidate-packages` tool entry as shown in the below example in the `Ballerina.toml` file with the services required to consolidate. Services can be added or removed as needed by updating the values provided for the `options.services` array. The tool will be automatically pulled during the package build.\n\n```toml\n[package]\norg = \"myorg\"\nname = \"myapp\"\nversion = \"0.1.0\"\n\n[[tool.consolidate-packages]]\nid = \"consolidateSvc\"\noptions.services = [\"myorg/svc1\", \"myorg/svc2\"]\n```\n\n#### Using the CLI tool\nAlternatively, the `consolidate-packages` CLI tool can be installed to create the package and add or remove services. This\nis typically useful in CI/CD pipelines.\n\n##### Installation\n\nExecute the command below to pull the tool.\n\n```\nbal tool pull consolidate-packages\n```\n\n##### Creating a new consolidator package\n\n```\n$ bal consolidate-packages new --package-path <path> <comma-separated-list-of-services> \n```\n\nFor example,\n\n```\n$ bal consolidate-packages new --package-path hotel-app myorg/order_service,myorg/payment_service \n```\n\n##### Adding new services to an existing package\n\nExecute the following command from the package root directory.\n\n```\n$ bal consolidate-packages add <comma-separated-list-of-services>\n```\n\nFor example,\n\n```\n$ cd hotel-app\n$ bal consolidate-packages add myorg/customer_service,myorg/menu_service\n```\n\n##### Removing services from an existing package\nExecute the following command from the package root directory.\n\n```\n$ bal consolidate-packages remove <comma-separated-list-of-services>\n```\n\nFor example,\n\n```\n$ bal consolidate-packages remove myorg/payment_service\n```\n\nRun `bal consolidate-services --help` for more information about the commands. \n","id":"consolidate-packages-tool","sub":"","third":"","slug":"consolidate-packages-tool","codes":"[[1964899346,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">package</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">org = </span><span style=\\\"color:#032F62\\\">\\\"myorg\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">name = </span><span style=\\\"color:#032F62\\\">\\\"myapp\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">version = </span><span style=\\\"color:#032F62\\\">\\\"0.1.0\\\"</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[[</span><span style=\\\"color:#6F42C1\\\">tool</span><span style=\\\"color:#24292E\\\">.</span><span style=\\\"color:#6F42C1\\\">consolidate-packages</span><span style=\\\"color:#24292E\\\">]]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">id = </span><span style=\\\"color:#032F62\\\">\\\"consolidateSvc\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">options.services = [</span><span style=\\\"color:#032F62\\\">\\\"myorg/svc1\\\"</span><span style=\\\"color:#24292E\\\">, </span><span style=\\\"color:#032F62\\\">\\\"myorg/svc2\\\"</span><span style=\\\"color:#24292E\\\">]</span></span></code></pre>\"]]"},"__N_SSG":true}