{"pageProps":{"frontmatter":{"layout":"ballerina-create-your-first-connector-left-nav-pages-swanlake","title":"Create your first connector with Ballerina","description":"step-by-step guide to create Ballerina connectors using OpenAPI specifications.","keywords":"ballerina, connector, library, REST, API, openAPI, Ballerina Central","permalink":"/learn/create-your-first-connector-with-ballerina/","active":"create-your-first-connector-with-ballerina","intro":"This guide walks you through creating your first Ballerina connector using an OpenAPI specification."},"content":"\n## Introduction\n\nBallerina is a programming language that simplifies integration by providing a large library of pre-built connectors. These connectors are special packages consisting of one or more [Ballerina clients](https://ballerina.io/learn/by-example/client-class/), which allow communication with external services, usually via REST APIs. By using connectors, developers can quickly integrate third-party services into their Ballerina applications without having to worry about the technical details of API interactions.\n\nAlong with its powerful library ecosystem, Ballerina also allows developers to easily create, share, and manage client connectors. These connectors are typically published on Ballerina Central as public connectors, available to the entire community, but you can also publish them as private connectors for internal use within your organization.\n\nIn this guide, we'll walk you through how to generate your first Ballerina connector using an OpenAPI specification. This is one of the fastest and easiest ways to build connectors, enabling you to quickly integrate external services into your Ballerina projects.\n\n## Prerequisites\n\nBefore we begin, make sure you have:\n\n1. A basic understanding of Ballerina Swan Lake and the [latest version installed](https://ballerina.io/downloads/).\n2. An OpenAPI specification of the API for which you’re building the connector, along with the relevant API credentials where required (e.g., Twitter Developer account keys).\n3. A GitHub account, and Git installed locally.\n4. Visual Studio Code with the [Ballerina extension](https://marketplace.visualstudio.com/items?itemName=WSO2.ballerina) installed.\n\n## Step 1: Set the project structure\n\n**Important**: If you'd like to contribute your project as an official Ballerina connector, you can skip the steps below and contact the Ballerina team through the [Discord community](https://discord.com/invite/ballerinalang). In this case, the repository will be created under the [`ballerina-platform`](https://github.com/ballerina-platform/) organization, and the team will set up the initial project structure for you.\n\n1. Create a new GitHub repository to host your connector. Ballerina official connector repositories follow the naming pattern: `module-ballerinax-<connector-name>` (e.g., module-ballerinax-twitter). But for other connectors, you can choose a name that best represents your connector.\n\n2. Clone your newly created repository to your local machine:\n\n   ```\n   git clone https://github.com/<your-username>/<connector-repo-name>.git\n   cd <connector-repo-name>\n   ```\n\n3. Visit the [Ballerina generated connector template on GitHub](https://github.com/ballerina-platform/ballerina-library/tree/main/library-templates/generated-connector-template/files) and copy the entire project structure and content to your local repository folder, making sure to include all files and directories.\n\n4. Your local project structure should now look similar to this:\n\n   ```\n   module-ballerinax-myconnector/\n   ├── .github/\n   ├── ballerina/\n   |   ├── tests/\n   │   ├── Ballerina.toml\n   │   ├── Module.md\n   │   ├── Package.md\n   │   ├── build.gradle\n   │   └── client.bal\n   ├── build-config/\n   ├── docs/\n   │   └── spec/\n   │       └── sanitations.md\n   ├── examples/\n   │   ├── README.md\n   │   ├── build.gradle\n   │   └── build.sh\n   ├── gradle/\n   ├── .gitignore\n   ├── LICENSE\n   ├── README.md\n   ├── build.gradle\n   ├── gradle.properties\n   ├── gradlew\n   ├── gradlew.bat\n   └── settings.gradle\n   ```\n\n> **Tip**: The template includes placeholders for various fields. To update them with your connector-specific metadata, use the provided [Ballerina script](https://github.com/ballerina-platform/ballerina-library/blob/main/library-templates/generated-connector-template/scripts/replace_placeholders.bal).\n\nDetailed information on the Ballerina connector structure can be found in the [Ballerina module contribution guide](https://github.com/ballerina-platform/ballerina-library/blob/main/docs/adding-a-new-ballerina-module.md#directory-structure).\n\n## Step 2: Prepare the OpenAPI specification\n\n1. Find the OpenAPI specification for the API you want to create a connector. This is usually available in the API documentation.\n   Example: For Twitter, you can get the latest API specification from the [Twitter OpenAPI endpoint](https://api.twitter.com/2/openapi.json).\n\n2. Save the file as `openapi.yaml` (or `openapi.json`) in the `docs/spec` directory of your project.\n\n3. You may need to sanitize the OpenAPI specification to ensure compatibility with the Ballerina OpenAPI tool. This process may involve:\n   - adding, removing, or modifying security schemes to customize authentication options.\n   - redefining inline schemas as named schemas to avoid duplication and improve readability.\n\n4. Update the `sanitations.md` file (under `docs/spec/`) with the details of any changes made to the original OpenAPI specification.\n\n> **Note:** You may need to perform additional sanitization after generating the client code (Step 3) and testing the connector (Step 4) to address any compile-time or runtime issues. Make sure to update the `sanitations.md` file accordingly.\n\n## Step 3: Generate the Ballerina client code\n\nWith your OpenAPI spec ready, use the [Ballerina OpenAPI tool](https://ballerina.io/learn/openapi-tool/) to generate the connector code.\n\n1. In your terminal, run the following command from the project root:\n      \n   ```\n   bal openapi -i path/to/spec --mode client -o ballerina\n   ```\n\n   This will generate the ballerina source code of the client connector in your `ballerina/` directory.\n\n> **Note:** The Ballerina OpenAPI tool supports multiple customization options when generating clients. For more details, check the [Ballerina OpenAPI tool documentation](https://ballerina.io/learn/openapi-tool/).\n\n2. Make sure that the generated client implementation consists of the following files:\n   - `client.bal`: Contains the client implementation with all the API operations.\n   - `types.bal`: Contains the data types used in the client.\n   - `utils.bal`: Contains utility functions used in the client.\n\n## Step 4: Test the connector\n\nNow that your connector is generated, it is important to write tests to ensure everything works as expected.\n\n1. In the `ballerina/tests` directory, add the required test files and write test cases for the key operations of your connector. Aim to cover as many API use cases as possible.\n\n2. Execute the tests using the `bal test` command to verify the functionality of your connector.\n\n> For detailed guidance on writing tests, check the [Ballerina testing guide](https://ballerina.io/learn/test-ballerina-code/test-a-simple-function/).\n\n> For sample implementations, refer to the [test implementation of the Ballerina Twitter connector](https://github.com/ballerina-platform/module-ballerinax-twitter/tree/main/ballerina/tests).\n\n## Step 5: Document the connector\n\nFollow these steps to ensure your connector is well-documented:\n\n1. Update `Module.md` and `Package.md` files.\n\n   These files will be displayed on the Ballerina Central package landing page. Ensure they introduce and explain the connector package clearly and comprehensively. Each file should include the following sections:\n   \n   - **Overview**: Provide a concise introduction to the connector, explaining its purpose and key features.\n   - **Setup**: Offer step-by-step instructions on configuring the connector and any necessary prerequisites, such as API keys or environment setup.\n   - **Quickstart**: Include a basic and clear example that helps users to start using the connector immediately.\n   - **Examples**: Link to additional use cases, providing context on how the connector can be used in different scenarios.\n\n   > For reference, check the [Twitter connector documentation](https://github.com/ballerina-platform/module-ballerinax-twitter/blob/main/ballerina/Module.md).\n\n2. Update the `README.md` file.\n\n   This file will be displayed on the GitHub repository landing page. Therefore, it should include the same information as `Module.md` with a few additional sections such as `Building from Source`, `Contributing`, `License`, etc.\n   \n   > For reference, check the [Twitter connector README](https://github.com/ballerina-platform/module-ballerinax-twitter/blob/main/README.md).\n\n3. Write example use cases (optional).\n\n   Providing practical examples helps users understand the connector better. These examples should show how the connector is used in real-world scenarios.\n\n   - All the examples should be added under the `examples/` directory.\n   - Each example should be added as a Ballerina package with its own `README.md` file, explaining the use case and how to run the example.\n\n   > For reference, check the [Twitter connector examples](https://github.com/ballerina-platform/module-ballerinax-twitter/tree/main/examples).\n\n## Step 6: Publish the connector\n\nOnce you have completed the development and testing of your connector, you can publish it for others to use.\n\n1. Make sure to update the `Ballerina.toml` file with the following details:\n   - `org`: Your organization name.\n   - `name`: The name of your connector.\n   - `version`: The version of your connector.\n   - `license`: The license under which your connector is distributed (Optional).\n   - `authors`: Your name and email address (Optional).\n   - `keywords`: Keywords to help users find your connector (Optional).\n   - `icon`: The relative path to the icon file, which will be shown as the connector logo in the [Ballerina Central](https://central.ballerina.io/) (Optional).\n   - `repository`: The URL of your GitHub repository (Optional).\n\n2. Follow the steps in the [Ballerina package publishing guide](https://ballerina.io/learn/publish-packages-to-ballerina-central/) to publish your connector to [Ballerina Central](https://central.ballerina.io/) under your organization.\n\n## Conclusion\n\nYou have successfully created your first Ballerina connector! This process allows you to quickly integrate external services and share your connector with the Ballerina community.\n\nRemember to keep your connector up to date with any changes in the API’s OpenAPI specification and to test thoroughly whenever updates are made.\n\nAlso, ensure you comply with the API’s terms of service when developing and distributing your connector.\n","id":"create-your-first-connector-with-ballerina","sub":"featured-scenarios","third":"","slug":"featured-scenarios/create-your-first-connector-with-ballerina","codes":"[]"},"__N_SSG":true}