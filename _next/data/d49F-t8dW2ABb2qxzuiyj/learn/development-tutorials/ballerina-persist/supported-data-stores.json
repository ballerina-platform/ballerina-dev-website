{"pageProps":{"frontmatter":{"layout":"ballerina-persist-documentation-left-nav-pages-swanlake","title":"Supported data stores","description":"The sections give details on the Supported Data Stores.","keywords":"ballerina, programming language, ballerina packages, persist, data store, in-memory, mysql, mssql, google sheets","permalink":"/learn/ballerina-persist/supported-datastores/","active":"persist_supported_datastores","intro":"In the realm of the `bal persist` feature, selecting the right data store is crucial for ensuring reliable data storage and retrieval. Various data stores exist, each with its strengths and weaknesses. The `bal persist` currently supports four data stores. The configurations and supported types will vary depending on the data store you selected for your application.","redirect_from":["/learn/ballerina-persist/supported-datastores/"]},"content":"\nFollowing are the supported data stores.\n\n* In-memory\n* Relational databases (MySQL, MSSQL)\n* Google Sheets [Experimental]\n\nThe data store is passed as a parameter to the `persist init` command. If you do not specify a data store, the in-memory data store is used by default. \n\n```shell\n$ bal persist init --datastore mysql\n```\n\nIt is recorded in the `Ballerina.toml` file in your project as follows.\n\n```toml\n[persist]\ndatastore = mysql\n...\n```\nThe following sections describe the configurations and supported types for each data store.\n\n## In-memory\n\nThe `in-memory` data store is a simple data store that stores data in memory. This data store is useful for testing purposes. It is the default data store for `bal persist`. Therefore, you do not need to explicitly specify the data store when you are using it.\n\n### Supported Ballerina types\n\nThe `in-memory` data store supports the following Ballerina types.\n\n* [`any`](https://ballerina.io/learn/language-basics/#any-type)\n* `error`\n\n### Configuration\n\nThe In-Memory data store does not require any configuration. \n\n## Relational Databases (MySQL, MSSQL)\n\nThe data store is a relational database management system that stores data in tables. It is useful for storing data in a relational format. It is not the default data store for `bal persist`. Therefore, you need to specify the data store explicitly when initializing `bal persist` in your application as follows.\n\n```shell\n$ bal persist init --datastore [mysql/mssql]\n```\n\n### Supported Ballerina types\n\nThe supported types for the relational data store are different from one database to another. The following table lists the Ballerina types supported by the data store and the corresponding SQL types that are used to store the data in the database.\n\n#### MySQL\n\n|  Ballerina type  |    SQL type     |\n|:----------------:|:---------------:|\n|       int        |       INT       |\n|      float       |     DOUBLE      |\n|     decimal      | DECIMAL(65,30)  |\n|      string      |  VARCHAR(191)   |\n|     boolean      |     BOOLEAN     |\n|      byte[]      |    LONGBLOB     |\n|        ()        |      NULL       |\n|    time:Date     |      DATE       |\n|  time:TimeOfDay  |      TIME       |\n|     time:Utc     |    TIMESTAMP    |\n|    time:Civil    |    DATETIME     |\n|       enum       |      ENUM       |\n\n#### MSSQL\n\n|  Ballerina type  |            SQL type            |\n|:----------------:|:------------------------------:|\n|       int        |              INT               |\n|      float       |             FLOAT              |\n|     decimal      |        DECIMAL(38, 30)         |\n|      string      |          VARCHAR(191)          |\n|     boolean      |              BIT               |\n|      byte[]      |         VARBINARY(MAX)         |\n|        ()        |              NULL              |\n|    time:Date     |              DATE              |\n|  time:TimeOfDay  |              TIME              |\n|     time:Utc     |           DATETIME2            |\n|    time:Civil    |           DATETIME2            |\n|       enum       |      VARCHAR with checks.      |\n \nThis feature doesn't support mapping Ballerina types to different SQL types or changing the default length of an SQL type. If you want to map a Ballerina type to an SQL type or change the default length of an SQL type, you can change it in the `script.sql` file generated by the `persist generate` command before executing the script. It may not work for all the types.\n\n### Configuration\n\nYou need to set values for the following basic configuration parameters in the `Config.toml` file in your project to use the relational data store.\n\n|  Parameter  |              Description              |\n|:-----------:|:-------------------------------------:|\n|    host     |    The hostname of the DB server.     |\n|    port     |      The port of the DB server.       |\n|  username   |    The username of the DB server.     |\n|  password   |    The password of the DB server.     |\n|  database   | The name of the database to be used.  |\n\nThe following is a sample `Config.toml` file generated for each relational data store.\n\n#### MySQL\n\n```toml\n[<packageName>.<moduleName>]\nhost = \"localhost\"\nport = 3306\nuser = \"root\"\npassword = \"\"\ndatabase = \"\"\n```\n\nAdditionally, you can set values for the following advanced configuration parameters in the `Config.toml` file in your project to use the MySQL data store. For more information on these parameters, see the [MySQL Connector documentation](https://lib.ballerina.io/ballerinax/mysql/latest#Options).\n\n#### MSSQL\n\n```toml\n[<packageName>.<moduleName>]\nhost = \"localhost\"\nport = 1433\nuser = \"sa\"\npassword = \"\"\ndatabase = \"\"\n```\n\nAdditionally, you can set values for the following advanced configuration parameters in the `Config.toml` file in your project to use the MSSQL data store. For more information on these parameters, see the [MSSQL Connector documentation](https://lib.ballerina.io/ballerinax/mssql/latest#Options).\n\n### How to set up\n\n#### Set up a DB server instance\n\nSelect one of the methods below to set up a DB server.\n\n>**Note:** Keep the connection and authentication details for connecting to the DB server including the hostname, port, username, and password saved to be used later.\n\n* Install a DB server on your machine locally by downloading and installing it based on your development platform.\n* Use Docker to create a DB server deployment.\n* Use a cloud-based DB solution such as Google’s CloudSQL, Amazon’s RDS, or Microsoft’s Azure database.\n\n#### Run the script to create the database and tables\n\nThe `persist generate` command generates a `script.sql` file in the generated directory of your project. This file contains the SQL script to create the tables required for your application. You need to create a database and run this script to create tables in the DB server using a DB client.\n\n\n## Google Sheets [Experimental]\n\nThe Google Sheets data store is a cloud-based spreadsheet application that stores data in tables. It is useful for storing data in a spreadsheet format. It is not the default data store for `bal persist`. Therefore, you need to explicitly specify the data store when initializing `bal persist` in your application as follows.\n\n```shell\n$ bal persist init --datastore googlesheets\n```\n\n### Supported Ballerina types\n\nThe following table lists the Ballerina types supported by the Google Sheets data store and the corresponding Google Sheets types used to store the data in the spreadsheet.\n\n|  Ballerina Type  | Google Sheets Type  |\n|:----------------:|:-------------------:|\n|       int        |       NUMBER        |\n|      float       |       NUMBER        |\n|     decimal      |       NUMBER        |\n|      string      |       STRING        |\n|     boolean      |       BOOLEAN       |\n|    time:Date     |       STRING        |\n|  time:TimeOfDay  |       STRING        |\n|     time:Utc     |       STRING        |\n|    time:Civil    |       STRING        |\n\n\n### Configuration\n\nYou need to set values for the following basic configuration parameters in the `Config.toml` file in your project to use the Google Sheets data store.\n\n|   Parameter    |                 Description                  |\n|:--------------:|:--------------------------------------------:|\n|    clientId    |   The client ID of the Google Sheets API.    |\n|  clientSecret  | The client secret of the Google Sheets API.  |\n|  refreshToken  | The refresh token of the Google Sheets API.  |\n| spreadsheetId  |    The ID of the spreadsheet to be used.     |\n\nThe following is a sample `Config.toml` file with the Google Sheets data store configuration. This is generated by the `persist generate` command.\n\n```toml\n[<packageName>.<moduleName>]\nspreadsheetId = \"\"\nclientId = \"\"\nclientSecret = \"\"\nrefreshToken = \"\"\n```\n\nPlease refer to the [Google API documentation](https://developers.google.com/identity/protocols/oauth2) for more information on how to obtain the client ID, client secret, and refresh token.\n\n### How to set up\n\n#### How to run `script.gs` in the worksheet\n\nThe `script.gs` file generated from the `persist generate` command can initiate the Google Sheets client. Follow the steps below to execute this file in the Google Apps Script console.\n1. Go to the respective spreadsheet.\n2. Open the AppScript console from the menu item `Extensions - > Apps Script`.\n3. Copy the content of the `script.gs` file into the console.\n4. Click **Deploy** to deploy the project as a web application.\n5. Click **Run** to execute the selected function.\n\n#### How to obtain Google API tokens\n\nFollow the steps below to obtain API tokens for Google Sheets.\n1. Get the `clientID` and `ClientSecret` by following the [guidelines](https://developers.google.com/identity/protocols/oauth2).\n2. Follow the steps below to add https://developers.google.com/oauthplayground if you want to use OAuth 2.0 playground to receive the authorization code, access token, and refresh token.\n\n    1. Go to the OAuth 2.0 playground and click **Settings** on the top right-hand side. \n    2. Select **Use your own OAuth credentials** and provide the client ID and client secret obtained. \n    3. For step 1 under the  `Select & authorize APIs` section, select the required scopes for the API you are going to use. \n    4. Proceed with the necessary Google account validation steps. \n    5. Click **Exchange authorization code for tokens** to obtain the refresh and access tokens.\n","id":"supported-data-stores","sub":"ballerina-persist","third":"","slug":"ballerina-persist/supported-data-stores","codes":"[[-1584022076,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292e\\\">$ bal persist init --datastore mysql</span></span></code></pre>\"],[-1085363180,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">[</span><span style=\\\"color: #6F42C1\\\">persist</span><span style=\\\"color: #24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">datastore = m</span><span style=\\\"color: #B31D28; font-style: italic\\\">ysql</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #B31D28; font-style: italic\\\">...</span></span></code></pre>\"],[-1166583809,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292e\\\">$ bal persist init --datastore [mysql/mssql]</span></span></code></pre>\"],[949630100,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">[</span><span style=\\\"color: #6F42C1\\\">&lt;packageName&gt;</span><span style=\\\"color: #24292E\\\">.</span><span style=\\\"color: #6F42C1\\\">&lt;moduleName&gt;</span><span style=\\\"color: #24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">host = </span><span style=\\\"color: #032F62\\\">&quot;localhost&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">port = </span><span style=\\\"color: #005CC5\\\">3306</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">user = </span><span style=\\\"color: #032F62\\\">&quot;root&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">password = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">database = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span></code></pre>\"],[1606342405,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">[</span><span style=\\\"color: #6F42C1\\\">&lt;packageName&gt;</span><span style=\\\"color: #24292E\\\">.</span><span style=\\\"color: #6F42C1\\\">&lt;moduleName&gt;</span><span style=\\\"color: #24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">host = </span><span style=\\\"color: #032F62\\\">&quot;localhost&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">port = </span><span style=\\\"color: #005CC5\\\">1433</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">user = </span><span style=\\\"color: #032F62\\\">&quot;sa&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">password = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">database = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span></code></pre>\"],[828552971,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292e\\\">$ bal persist init --datastore googlesheets</span></span></code></pre>\"],[-1050454784,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">[</span><span style=\\\"color: #6F42C1\\\">&lt;packageName&gt;</span><span style=\\\"color: #24292E\\\">.</span><span style=\\\"color: #6F42C1\\\">&lt;moduleName&gt;</span><span style=\\\"color: #24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">spreadsheetId = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">clientId = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">clientSecret = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color: #24292E\\\">refreshToken = </span><span style=\\\"color: #032F62\\\">&quot;&quot;</span></span></code></pre>\"]]"},"__N_SSG":true}