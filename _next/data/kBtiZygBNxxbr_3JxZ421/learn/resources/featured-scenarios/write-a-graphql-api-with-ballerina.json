{"pageProps":{"frontmatter":{"layout":"ballerina-graphql-guide-left-nav-pages-swanlake","title":"Write a GraphQL API with Ballerina","description":"This guide walks through the steps of writing a GraphQL API in Ballerina.","keywords":"ballerina, graphql, ballerina packages, language-guide, Ballerina library","permalink":"/learn/write-a-graphql-api-with-ballerina/","active":"write-a-graphql-api-with-ballerina","intro":"This guide walks you through writing a simple GraphQL service to serve a dummy dataset related to COVID-19."},"content":"\n>**Info:** Due to the batteries included nature of the Ballerina language, there is no need to add any third-party libraries to implement the GraphQL API. The Ballerina library itself is adequate.\n\n## Set up the prerequisites\n\nTo complete this tutorial, you need:\n\n1. [Ballerina 2201.0.0 (Swan Lake)](/downloads/) or greater\n2. A text editor\n    >**Tip:** Preferably, [Visual Studio Code](https://code.visualstudio.com/) with the [Ballerina extension](/learn/vs-code-extension) installed.\n3. A command terminal\n\n## Design the GraphQL endpoint\n\nUsually, a GraphQL endpoint is defined using a GraphQL schema. Some languages require the GraphQL schema to create a GraphQL service (schema-first approach) while others do not need the schema to create the service (code-first approach). Ballerina supports both approaches.\nThis guide follows the code-first approach; therefore, you do not need the schema file to create your service, and instead, once you write the Ballerina service, the Ballerina GraphQL package will generate the schema.\n\nThe GraphQL endpoint you will create in this guide will have two main operations, `Query` and `Mutation`. The `Query` type will be used to read the data in the data source, and the `Mutation` operation will be used to mutate (insert, delete, update) the data in the data source.\n\n### The `Query` type\n\nThe `Query` type has two fields.\n\n* The `all` field - This field will return all the data in the data source as an array.\n* The `filter` field - This field will return the data filtered by the ISO Code of a country(`isoCode`).\n\n### The `Mutation` type\n\nThe `Mutation` type has a single field.\n\n* The `add` field - This field will add a given entry to the data source.\n\n## Create the service package\n\nBallerina uses packages to group code. You need to create a Ballerina package, generate the service code in the package, and write the business logic.\n\n>**Info:** For more information on Ballerina packages, see [Organize Ballerina code](/learn/organize-ballerina-code).\n\nIn the terminal, execute the command below to create the Ballerina package for the API implementation.\n\n```\n$ bal new covid19 -t service\n```\n\nYou will see the output below.\n\n```\nCreated new package 'covid19' at covid19.\n```\n\nThis creates a directory named `covid19` with the default module along with a sample code for the service as shown below.\n\n```\n.\n├── covid19\n│   ├── tests\n│   │   └── service_test.bal\n│   ├── Ballerina.toml\n│   └── service.bal\n```\n\n## Create the data source\n\nBefore writing the GraphQL service, let's create a data source for the project. This will mimic a database that stores the data for the service using an in-memory table in Ballerina as the data source.\n\n### Define the types for the data source\n\nTo define the data type to use in the table, replace the `service.bal` file with the code below.\n\n```ballerina\npublic type CovidEntry record {|\n    readonly string isoCode;\n    string country;\n    int cases?;\n    int deaths?;\n    int recovered?;\n    int active?;\n|};\n```\n\nIn this code:\n\n* The record type `CovidEntry` is defined.\n* A single entry will include the ISO code for the location (`isoCode`), name of the country (`country`), number of cases (`cases`), number of deaths (`deaths`), number of recovered cases (`recovered`), and the number of active cases (`active`).\n\n### Add data to the data source\n\nTo define the data table, add the code below to the `service.bal` file.\n\n```ballerina\ntable<CovidEntry> key(isoCode) covidEntriesTable = table [\n    {isoCode: \"AFG\", country: \"Afghanistan\", cases: 159303, deaths: 7386, recovered: 146084, active: 5833},\n    {isoCode: \"SL\", country: \"Sri Lanka\", cases: 598536, deaths: 15243, recovered: 568637, active: 14656},\n    {isoCode: \"US\", country: \"USA\", cases: 69808350, deaths: 880976, recovered: 43892277, active: 25035097}\n];\n```\n\n## Create the object types\n\nSince the data used in this guide map to a GraphQL Object, you first have to define this object type. In Ballerina, a GraphQL output object can be defined using either a service type or a record type.\n\n> **Note:** Since the GraphQL spec does not allow using an input object as an output object, the same record type cannot be used as the input type of a method and the output type of a method.\n\nTo add the definition of the `CovidData` object type, add the code below to the `service.bal` file.\n\n```ballerina\npublic distinct service class CovidData {\n    private final readonly & CovidEntry entryRecord;\n\n    function init(CovidEntry entryRecord) {\n        self.entryRecord = entryRecord.cloneReadOnly();\n    }\n\n    resource function get isoCode() returns string => self.entryRecord.isoCode;\n\n    resource function get country() returns string => self.entryRecord.country;\n\n    resource function get cases() returns int? => self.entryRecord.cases;\n\n    resource function get deaths() returns int? => self.entryRecord.deaths;\n\n    resource function get recovered() returns int? => self.entryRecord.recovered;\n\n    resource function get active() returns int? => self.entryRecord.active;\n}\n```\n\nIn this code:\n\n* The `CovidData` service type represents the GraphQL `Object` type, which represents an entry in\nthe data set.\n* Each resource method in this service represents a field of the GraphQL object type.  The return type of\nthe resource method is the type of the field.\n* The resource methods returning `isoCode` and the `country` have the return type `string`, which means these fields\ncannot be `null` in the GraphQL response. In GraphQL terms, these are `NON_NULL` types that are represented by the exclamation mark `!`. E.g., `String!`). However, the resource methods returning numbers can return `null` values. Therefore, the type of fields represented by those resource methods is nullable.\n\n## Create the service\n\nNow, you are all set to write the GraphQL service. To write the service, add the code below to the top of the `service.bal` file.\n\n```ballerina\nimport ballerina/graphql;\n\nservice /covid19 on new graphql:Listener(9090) {\n\n}\n```\n\nThe path of this service is defined as `/covid19`. If you want to host the service on the root, you can remove the path as follows:\n\n```ballerina\nimport ballerina/graphql;\n\nservice on new graphql:Listener(9090) {\n\n}\n```\n\nWhen creating the `graphql:Listener` object, you need to provide the port to which it is listening. Alternatively, to use an existing `http:Listener` object, for initializing the `graphql:Listener`, add the code below to the `service.bal` file.\n\n```ballerina\nimport ballerina/graphql;\nimport ballerina/http;\n\nlistener http:Listener httpListener = check new(9090);\n\nservice /covid19 on new graphql:Listener(httpListener) {\n\n}\n```\n\n>**Info:** The above code is similar to the previous one, which will listen on the port `9090` and serve on the path `/covid19`.\n\n### Implement the service methods\n\nAs per the design, there are two fields in the `Query` type and one field in the `Mutation` type in your GraphQL service. The fields of the `Query` type are represented by the resource methods with the `get` accessor in Ballerina, while the fields of the `Mutation` type are represented by the remote methods in Ballerina.\n\n#### Create `Query` type\n\n##### Create the `all` field resource method\n\nTo create the `all` field, which returns an array of `CovidData` type, add the code below to the `service.bal` file.\n\n```ballerina\nresource function get all() returns CovidData[] {\n    return from CovidEntry entry in covidEntriesTable select new (entry);\n}\n```\n\n> **Note:** A Ballerina GraphQL resource or remote method can return a `table` as well. When a method is returning a `table`, the corresponding GraphQL field type is a `LIST` type.\n\nIn this code:\n\n* The resource method definition has the accessor `get`, which is used to identify the resource methods as a field of the `Query` type.\n* The path of the resource method (`all`) is the name of the field.\n* The method uses a query expression to iterate over the entries in the `covidEntriesTable` and map them to the `CovidData` type.\n\n##### Create the `filter` field resource method\n\nTo add the `filter` field, which is another resource method with an input `isoCode` to filter the data, add the code below to the `service.bal` file.\n\n```ballerina\nresource function get filter(string isoCode) returns CovidData? {\n    if covidEntriesTable.hasKey(isoCode) {\n        return new CovidData(covidEntriesTable.get(isoCode));\n    }\n    return;\n}\n```\n\nIn this code:\n\n* The `filter` field is defined in the root `Query` type. Since this field has an input parameter `isoCode`, you have to add an input parameter to the resource method.\n* This method returns the corresponding data for the given `isoCode` if such data is available in the data set, and it returns `null` otherwise.\n\n#### Create `Mutation` type\n\n##### Create the `add` field remote method\n\nAs the `Query` type is completed now, define the `Mutation` type using remote methods.\n\nTo define a remote method to add an entry to the data source, add the code below to the `service.bal` file.\n\n```ballerina\nremote function add(CovidEntry entry) returns CovidData {\n    covidEntriesTable.add(entry);\n    return new CovidData(entry);\n}\n```\n\nIn this code:\n\n* This method requires a `CovidEntry` record as the input.\n* When a remote or resource method has a record type as an input, it will be mapped to a GraphQL input object type. Therefore, this cannot be used as an output type.\n\n## The complete code\n\nBelow is the complete code for the Ballerina GraphQL service.\n\n```ballerina\nimport ballerina/graphql;\n\npublic type CovidEntry record {|\n    readonly string isoCode;\n    string country;\n    int cases?;\n    int deaths?;\n    int recovered?;\n    int active?;\n|};\n\nfinal table<CovidEntry> key(isoCode) covidEntriesTable = table [\n    {isoCode: \"AFG\", country: \"Afghanistan\", cases: 159303, deaths: 7386, recovered: 146084, active: 5833},\n    {isoCode: \"SL\", country: \"Sri Lanka\", cases: 598536, deaths: 15243, recovered: 568637, active: 14656},\n    {isoCode: \"US\", country: \"USA\", cases: 69808350, deaths: 880976, recovered: 43892277, active: 25035097}\n];\n\npublic distinct service class CovidData {\n    private final readonly & CovidEntry entryRecord;\n\n    function init(CovidEntry entryRecord) {\n        self.entryRecord = entryRecord.cloneReadOnly();\n    }\n\n    resource function get isoCode() returns string => self.entryRecord.isoCode;\n\n    resource function get country() returns string => self.entryRecord.country;\n\n    resource function get cases() returns int? => self.entryRecord.cases;\n\n    resource function get deaths() returns int? => self.entryRecord.deaths;\n\n    resource function get recovered() returns int? => self.entryRecord.recovered;\n\n    resource function get active() returns int? => self.entryRecord.active;\n}\n\nservice /covid19 on new graphql:Listener(9090) {\n\n    resource function get all() returns CovidData[] {\n        return from CovidEntry entry in covidEntriesTable select new (entry);\n    }\n\n    resource function get filter(string isoCode) returns CovidData? {\n        if covidEntriesTable.hasKey(isoCode) {\n            return new CovidData(covidEntriesTable.get(isoCode));\n        }\n        return;\n    }\n\n    remote function add(CovidEntry entry) returns CovidData {\n        covidEntriesTable.add(entry);\n        return new CovidData(entry);\n    }\n}\n```\n\n## Run the service\n\n Execute the command below to run this service to serve a GraphQL API to the data source.\n\n```\n$ bal run\n```\n\nYou view the output below.\n\n```shell\nCompiling source\n\tuser/covid19:0.1.0\nHINT [service.bal:(25:5,25:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'\nHINT [service.bal:(29:5,29:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'\nHINT [service.bal:(33:5,33:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'\nHINT [service.bal:(40:5,40:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'\nHINT [service.bal:(47:5,47:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'\nHINT [service.bal:(54:5,54:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'\nHINT [service.bal:(63:5,63:5)] concurrent calls will not be made to this method since the method is not an 'isolated' method\nHINT [service.bal:(68:5,68:5)] concurrent calls will not be made to this method since the method is not an 'isolated' method\nHINT [service.bal:(76:5,76:5)] concurrent calls will not be made to this method since the method is not an 'isolated' method\n\nRunning executable\n```\n\n>**Info:** The console has warning logs related to the isolatedness of resources. It is a built-in service concurrency safety feature of Ballerina. Refer to the [isolated functions](/learn/by-example/isolated-functions) example to learn more about this feature.\n\n## View the generated schema\n\nTo generate the schema for the code, execute the following command in the terminal.\n\n```\n$ bal graphql -i service.bal\n```\n\nIt will generate the schema and save it in a file named `schema_covid19.graphql` in the project directory. Following is the content of the generated schema.\n\n```graphql\ntype Query {\n    all: [CovidData!]!\n    filter(isoCode: String!): CovidData\n}\n\ntype CovidData {\n    isoCode: String!\n    country: String!\n    cases: Int\n    deaths: Int\n    recovered: Int\n    active: Int\n}\n\ntype Mutation {\n    add(entry: CovidEntry!): CovidData!\n}\n\ninput CovidEntry {\n    isoCode: String!\n    country: String!\n    cases: Int\n    deaths: Int\n    recovered: Int\n    active: Int\n}\n```\n\n## Try the service\n\nTo try out the service, you can use the built-in GraphiQL client in the GraphQL service. To enable the GraphiQL client, add the following annotation to the GraphQL service.\n\n```ballerina\n@graphql:ServiceConfig {\n    graphiql: {\n        enabled: true\n    }\n}\n```\n\n### The complete code with the GraphiQL client\n\n```ballerina\nimport ballerina/graphql;\n\npublic type CovidEntry record {|\n    readonly string isoCode;\n    string country;\n    int cases?;\n    int deaths?;\n    int recovered?;\n    int active?;\n|};\n\nfinal table<CovidEntry> key(isoCode) covidEntriesTable = table [\n    {isoCode: \"AFG\", country: \"Afghanistan\", cases: 159303, deaths: 7386, recovered: 146084, active: 5833},\n    {isoCode: \"SL\", country: \"Sri Lanka\", cases: 598536, deaths: 15243, recovered: 568637, active: 14656},\n    {isoCode: \"US\", country: \"USA\", cases: 69808350, deaths: 880976, recovered: 43892277, active: 25035097}\n];\n\npublic distinct service class CovidData {\n    private final readonly & CovidEntry entryRecord;\n\n    function init(CovidEntry entryRecord) {\n        self.entryRecord = entryRecord.cloneReadOnly();\n    }\n\n    resource function get isoCode() returns string => self.entryRecord.isoCode;\n\n    resource function get country() returns string => self.entryRecord.country;\n\n    resource function get cases() returns int? => self.entryRecord.cases;\n\n    resource function get deaths() returns int? => self.entryRecord.deaths;\n\n    resource function get recovered() returns int? => self.entryRecord.recovered;\n\n    resource function get active() returns int? => self.entryRecord.active;\n}\n\n@graphql:ServiceConfig {\n    graphiql: {\n        enabled: true\n    }\n}\nservice /covid19 on new graphql:Listener(9090) {\n\n    resource function get all() returns CovidData[] {\n        return from CovidEntry entry in covidEntriesTable select new (entry);\n    }\n\n    resource function get filter(string isoCode) returns CovidData? {\n        if covidEntriesTable.hasKey(isoCode) {\n            return new CovidData(covidEntriesTable.get(isoCode));\n        }\n        return;\n    }\n\n    remote function add(CovidEntry entry) returns CovidData {\n        covidEntriesTable.add(entry);\n        return new CovidData(entry);\n    }\n}\n```\n\nNow run the service again.\n\n```\n$ bal run\n```\n\nYou can see the following output.\n\n```shell\nRunning executable\n\nGraphiQL client ready at http://localhost:9090/graphiql\n```\n\nNow, access the GraphiQL client using the provided URL.\n\nIn the left pane of the GraphiQL client, you can write the GraphQL queries. In the right pane, you can see the results of the queries.\n\n### Execute the `all` query\n\nExecute the following query in the left pane of the GraphiQL client.\n\n```graphql\n{\n    all {\n        country\n        cases\n        deaths\n    }\n}\n```\n\nYou can see the JSON below as the result of this request.\n\n```JSON\n{\n    \"data\": {\n        \"all\": [\n            {\n                \"country\": \"Afghanistan\",\n                \"cases\": 159303,\n                \"deaths\": 7386\n            },\n            {\n                \"country\": \"Sri Lanka\",\n                \"cases\": 598536,\n                \"deaths\": 15243\n            },\n            {\n                \"country\": \"USA\",\n                \"cases\": 69808350,\n                \"deaths\": 880976\n            }\n        ]\n    }\n}\n```\n\n### Execute the `add` mutation\n\nExecute the following mutation in the left pane of the GraphiQL client.\n\n```graphql\nmutation {\n    add(entry: {\n        isoCode: \"UK\",\n        country: \"United Kingdom\",\n        cases: 2376872,\n        deaths: 435341,\n        recovered: 1940968\n        active: 563\n    }) {\n        isoCode\n    }\n}\n```\n\nThis will insert a new entry to the data source and return the `isoCode` of the new entry.\n\nNow you can execute the `filter` query to get the newly added entry.\n\n### Execute the `filter` query\n\nExecute the following query in the left pane of the GraphiQL client.\n\n```graphql\n{\n    filter(isoCode: \"UK\") {\n        country\n        cases\n        recovered\n    }\n}\n```\n\nYou can see the JSON below as the result of this request.\n\n```JSON\n{\n    \"data\": {\n        \"filter\": {\n            \"country\": \"United Kingdom\",\n            \"cases\": 2376872,\n            \"recovered\": 1940968\n        }\n    }\n}\n```\n\n## Learn more\n\nTo learn more about GraphQL services in Ballerina, see the following.\n\n* [The `graphql` module documentation](https://lib.ballerina.io/ballerina/graphql/latest)\n* [The `graphql` module specification](/spec/graphql)\n* [GraphQL examples](/learn/by-example/#graphql-service)\n* [GraphQL tool](/learn/graphql-tool/)\n","id":"write-a-graphql-api-with-ballerina","sub":"featured-scenarios","third":"","slug":"featured-scenarios/write-a-graphql-api-with-ballerina","codes":"[[298374937,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> type</span><span style=\\\"color:#6F42C1\\\"> CovidEntry</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#24292E\\\"> isoCode;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> country;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> cases?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> deaths?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> recovered?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> active?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span></code></pre>\"],[416871539,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">table&#x3C;</span><span style=\\\"color:#24292E\\\">CovidEntry</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#D73A49\\\"> key</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">) covidEntriesTable </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#D73A49\\\"> table</span><span style=\\\"color:#24292E\\\"> [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"AFG\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Afghanistan\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 159303</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 7386</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 146084</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 5833</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"SL\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Sri Lanka\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 598536</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 15243</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 568637</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 14656</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"US\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"USA\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 69808350</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 880976</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 43892277</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 25035097</span><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">];</span></span></code></pre>\"],[440582140,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> distinct</span><span style=\\\"color:#D73A49\\\"> service class</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    private</span><span style=\\\"color:#D73A49\\\"> final</span><span style=\\\"color:#D73A49\\\"> readonly</span><span style=\\\"color:#D73A49\\\"> &#x26;</span><span style=\\\"color:#24292E\\\"> CovidEntry entryRecord;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    function</span><span style=\\\"color:#6F42C1\\\"> init</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">CovidEntry</span><span style=\\\"color:#E36209\\\"> entryRecord</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">        self</span><span style=\\\"color:#24292E\\\">.entryRecord </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> entryRecord.</span><span style=\\\"color:#6F42C1\\\">cloneReadOnly</span><span style=\\\"color:#24292E\\\">();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> isoCode</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.isoCode;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> country</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.country;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> cases</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.cases;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> deaths</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.deaths;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> recovered</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.recovered;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> active</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.active;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[2127125140,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/graphql;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">service</span><span style=\\\"color:#6F42C1\\\"> /covid19</span><span style=\\\"color:#D73A49\\\"> on</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> graphql:Listener(</span><span style=\\\"color:#005CC5\\\">9090</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[1263620992,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/graphql;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">service</span><span style=\\\"color:#D73A49\\\"> on</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> graphql:Listener(</span><span style=\\\"color:#005CC5\\\">9090</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-349897226,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/graphql;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">listener</span><span style=\\\"color:#24292E\\\"> http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Listener httpListener </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#D73A49\\\"> check</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#005CC5\\\">9090</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">service</span><span style=\\\"color:#6F42C1\\\"> /covid19</span><span style=\\\"color:#D73A49\\\"> on</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> graphql:Listener(</span><span style=\\\"color:#E36209\\\">httpListener</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[955624381,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> all</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData[] {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    return</span><span style=\\\"color:#D73A49\\\"> from</span><span style=\\\"color:#24292E\\\"> CovidEntry entry </span><span style=\\\"color:#D73A49\\\">in</span><span style=\\\"color:#24292E\\\"> covidEntriesTable </span><span style=\\\"color:#D73A49\\\">select</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> (</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[1416276459,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> filter</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#005CC5\\\">string</span><span style=\\\"color:#E36209\\\"> isoCode</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    if</span><span style=\\\"color:#24292E\\\"> covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">hasKey</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\">(covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">get</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">));</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    return</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[1897218126,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">remote</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">CovidEntry</span><span style=\\\"color:#E36209\\\"> entry</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    return</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-1801163590,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/graphql;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> type</span><span style=\\\"color:#6F42C1\\\"> CovidEntry</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#24292E\\\"> isoCode;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> country;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> cases?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> deaths?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> recovered?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> active?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">final</span><span style=\\\"color:#D73A49\\\"> table&#x3C;</span><span style=\\\"color:#24292E\\\">CovidEntry</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#D73A49\\\"> key</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">) covidEntriesTable </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#D73A49\\\"> table</span><span style=\\\"color:#24292E\\\"> [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"AFG\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Afghanistan\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 159303</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 7386</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 146084</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 5833</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"SL\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Sri Lanka\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 598536</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 15243</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 568637</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 14656</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"US\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"USA\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 69808350</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 880976</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 43892277</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 25035097</span><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">];</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> distinct</span><span style=\\\"color:#D73A49\\\"> service class</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    private</span><span style=\\\"color:#D73A49\\\"> final</span><span style=\\\"color:#D73A49\\\"> readonly</span><span style=\\\"color:#D73A49\\\"> &#x26;</span><span style=\\\"color:#24292E\\\"> CovidEntry entryRecord;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    function</span><span style=\\\"color:#6F42C1\\\"> init</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">CovidEntry</span><span style=\\\"color:#E36209\\\"> entryRecord</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">        self</span><span style=\\\"color:#24292E\\\">.entryRecord </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> entryRecord.</span><span style=\\\"color:#6F42C1\\\">cloneReadOnly</span><span style=\\\"color:#24292E\\\">();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> isoCode</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.isoCode;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> country</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.country;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> cases</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.cases;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> deaths</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.deaths;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> recovered</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.recovered;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> active</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.active;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">service</span><span style=\\\"color:#6F42C1\\\"> /covid19</span><span style=\\\"color:#D73A49\\\"> on</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> graphql:Listener(</span><span style=\\\"color:#005CC5\\\">9090</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> all</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData[] {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#D73A49\\\"> from</span><span style=\\\"color:#24292E\\\"> CovidEntry entry </span><span style=\\\"color:#D73A49\\\">in</span><span style=\\\"color:#24292E\\\"> covidEntriesTable </span><span style=\\\"color:#D73A49\\\">select</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> (</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> filter</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#005CC5\\\">string</span><span style=\\\"color:#E36209\\\"> isoCode</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        if</span><span style=\\\"color:#24292E\\\"> covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">hasKey</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">            return</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\">(covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">get</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">));</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    remote</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">CovidEntry</span><span style=\\\"color:#E36209\\\"> entry</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-32756385,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span>Compiling source</span></span>\\n<span class=\\\"line\\\"><span>\\tuser/covid19:0.1.0</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(25:5,25:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(29:5,29:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(33:5,33:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(40:5,40:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(47:5,47:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(54:5,54:5)] concurrent calls will not be made to this method since the service and the method are not 'isolated'</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(63:5,63:5)] concurrent calls will not be made to this method since the method is not an 'isolated' method</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(68:5,68:5)] concurrent calls will not be made to this method since the method is not an 'isolated' method</span></span>\\n<span class=\\\"line\\\"><span>HINT [service.bal:(76:5,76:5)] concurrent calls will not be made to this method since the method is not an 'isolated' method</span></span>\\n<span class=\\\"line\\\"><span></span></span>\\n<span class=\\\"line\\\"><span>Running executable</span></span></code></pre>\"],[89827171,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#005CC5\\\"> Query</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    all</span><span style=\\\"color:#24292E\\\">: [</span><span style=\\\"color:#005CC5\\\">CovidData</span><span style=\\\"color:#D73A49\\\">!</span><span style=\\\"color:#24292E\\\">]</span><span style=\\\"color:#D73A49\\\">!</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    filter</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">String</span><span style=\\\"color:#D73A49\\\">!</span><span style=\\\"color:#24292E\\\">): </span><span style=\\\"color:#005CC5\\\">CovidData</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#005CC5\\\"> CovidData</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    isoCode</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">String</span><span style=\\\"color:#D73A49\\\">!</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    country</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">String</span><span style=\\\"color:#D73A49\\\">!</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    cases</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    deaths</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    recovered</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    active</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#005CC5\\\"> Mutation</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">CovidEntry</span><span style=\\\"color:#D73A49\\\">!</span><span style=\\\"color:#24292E\\\">): </span><span style=\\\"color:#005CC5\\\">CovidData</span><span style=\\\"color:#D73A49\\\">!</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">input</span><span style=\\\"color:#005CC5\\\"> CovidEntry</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    isoCode</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">String</span><span style=\\\"color:#D73A49\\\">!</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    country</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">String</span><span style=\\\"color:#D73A49\\\">!</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    cases</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    deaths</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    recovered</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    active</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">Int</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-1904176793,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">@</span><span style=\\\"color:#005CC5\\\">graphql</span><span style=\\\"color:#24292E\\\">:</span><span style=\\\"color:#005CC5\\\">ServiceConfig</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    graphiql</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        enabled</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> true</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[2074776827,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/graphql;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> type</span><span style=\\\"color:#6F42C1\\\"> CovidEntry</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#24292E\\\"> isoCode;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> country;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> cases?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> deaths?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> recovered?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> active?;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">final</span><span style=\\\"color:#D73A49\\\"> table&#x3C;</span><span style=\\\"color:#24292E\\\">CovidEntry</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#D73A49\\\"> key</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">) covidEntriesTable </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#D73A49\\\"> table</span><span style=\\\"color:#24292E\\\"> [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"AFG\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Afghanistan\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 159303</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 7386</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 146084</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 5833</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"SL\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Sri Lanka\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 598536</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 15243</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 568637</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 14656</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    {isoCode</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"US\\\"</span><span style=\\\"color:#24292E\\\">, country</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"USA\\\"</span><span style=\\\"color:#24292E\\\">, cases</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 69808350</span><span style=\\\"color:#24292E\\\">, deaths</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 880976</span><span style=\\\"color:#24292E\\\">, recovered</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 43892277</span><span style=\\\"color:#24292E\\\">, active</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 25035097</span><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">];</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> distinct</span><span style=\\\"color:#D73A49\\\"> service class</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    private</span><span style=\\\"color:#D73A49\\\"> final</span><span style=\\\"color:#D73A49\\\"> readonly</span><span style=\\\"color:#D73A49\\\"> &#x26;</span><span style=\\\"color:#24292E\\\"> CovidEntry entryRecord;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    function</span><span style=\\\"color:#6F42C1\\\"> init</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">CovidEntry</span><span style=\\\"color:#E36209\\\"> entryRecord</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">        self</span><span style=\\\"color:#24292E\\\">.entryRecord </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> entryRecord.</span><span style=\\\"color:#6F42C1\\\">cloneReadOnly</span><span style=\\\"color:#24292E\\\">();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> isoCode</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.isoCode;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> country</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.country;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> cases</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.cases;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> deaths</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.deaths;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> recovered</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.recovered;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> active</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#D73A49\\\"> =></span><span style=\\\"color:#005CC5\\\"> self</span><span style=\\\"color:#24292E\\\">.entryRecord.active;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">@</span><span style=\\\"color:#005CC5\\\">graphql</span><span style=\\\"color:#24292E\\\">:</span><span style=\\\"color:#005CC5\\\">ServiceConfig</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    graphiql</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        enabled</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> true</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">service</span><span style=\\\"color:#6F42C1\\\"> /covid19</span><span style=\\\"color:#D73A49\\\"> on</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> graphql:Listener(</span><span style=\\\"color:#005CC5\\\">9090</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> all</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData[] {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#D73A49\\\"> from</span><span style=\\\"color:#24292E\\\"> CovidEntry entry </span><span style=\\\"color:#D73A49\\\">in</span><span style=\\\"color:#24292E\\\"> covidEntriesTable </span><span style=\\\"color:#D73A49\\\">select</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> (</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> filter</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#005CC5\\\">string</span><span style=\\\"color:#E36209\\\"> isoCode</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        if</span><span style=\\\"color:#24292E\\\"> covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">hasKey</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">            return</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\">(covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">get</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">));</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    remote</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">CovidEntry</span><span style=\\\"color:#E36209\\\"> entry</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> CovidData {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        covidEntriesTable.</span><span style=\\\"color:#6F42C1\\\">add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#6F42C1\\\"> CovidData</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[403737208,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span>Running executable</span></span>\\n<span class=\\\"line\\\"><span></span></span>\\n<span class=\\\"line\\\"><span>GraphiQL client ready at http://localhost:9090/graphiql</span></span></code></pre>\"],[-192345667,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    all</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        country</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        cases</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        deaths</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[1759626820,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    \\\"data\\\"</span><span style=\\\"color:#24292E\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">        \\\"all\\\"</span><span style=\\\"color:#24292E\\\">: [</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"country\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"Afghanistan\\\"</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"cases\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">159303</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"deaths\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">7386</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            },</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"country\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"Sri Lanka\\\"</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"cases\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">598536</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"deaths\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">15243</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            },</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"country\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"USA\\\"</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"cases\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">69808350</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">                \\\"deaths\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">880976</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        ]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-724508662,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">mutation</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    add</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">entry</span><span style=\\\"color:#24292E\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        isoCode</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"UK\\\"</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        country</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"United Kingdom\\\"</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        cases</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">2376872</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        deaths</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">435341</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        recovered</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">1940968</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">        active</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">563</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        isoCode</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-264766681,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">    filter</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">isoCode</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"UK\\\"</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        country</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        cases</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#E36209\\\">        recovered</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[-691489664,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">{</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    \\\"data\\\"</span><span style=\\\"color:#24292E\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">        \\\"filter\\\"</span><span style=\\\"color:#24292E\\\">: {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">            \\\"country\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#032F62\\\">\\\"United Kingdom\\\"</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">            \\\"cases\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">2376872</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">            \\\"recovered\\\"</span><span style=\\\"color:#24292E\\\">: </span><span style=\\\"color:#005CC5\\\">1940968</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"]]"},"__N_SSG":true}