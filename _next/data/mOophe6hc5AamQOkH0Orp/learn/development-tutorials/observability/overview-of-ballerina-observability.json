{"pageProps":{"frontmatter":{"title":"Overview of Ballerina Observability","description":"See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems.","keywords":"ballerina, observability, metrics, tracing, logs, opentelemetry","permalink":"/learn/overview-of-ballerina-observability/","active":"overview-of-ballerina-observability","intro":"Observability is a measure of how well the internal states of a system can be inferred from the knowledge of its external outputs."},"content":"\nIt consists of the three major pillars below.\n\n1. **Metrics** - numeric values that are collected and aggregated over a period of time.\n2. **Tracing** - the activities that occur when a request/transaction occurs in the system from the point of entry to exit.\n3. **Logging** - text records of activities that occurred with relevant information along with the timestamp.\n\nObservability tools and platforms enable developers to monitor, troubleshoot, and optimize their applications effectively.\n\n## Provide observability in Ballerina\nBallerina services and any client connectors are observable by default. HTTP/HTTPS and SQL client connectors use semantic tags to make tracing and metrics monitoring more informative.\n\nThis guide demonstrates how to enable Ballerina observability to observe Ballerina services using different tools and platforms. We will use the example given below.\n\n### Example: Observe a Ballerina service\nCreate a new Ballerina package using the `bal new` command.\n```\n$ bal new observability_demo\n\nCreated new package 'observability_demo' at observability_demo.\n```\n\nReplace the contents of the `main.bal` file, which is located inside the newly created `observability_demo` directory, with the following code:\n\n```ballerina\nimport ballerina/http;\nimport ballerina/log;\n\ntype Product record {|\n    int id;\n    string name;\n    float price;\n|};\n\ntype OrderRequest record {|\n    int productId;\n    int quantity;\n|};\n\ntype Order record {|\n    int orderId;\n    int productId;\n    int quantity;\n    float totalPrice;\n|};\n\n// Sample data\nmap<Product> products = {\n    \"1\": {id: 1, name: \"Laptop\", price: 1200.00},\n    \"2\": {id: 2, name: \"Smartphone\", price: 800.00},\n    \"3\": {id: 3, name: \"Headphones\", price: 150.00}\n};\n\nmap<Order> orders = {};\nint orderCount = 0;\n\n@display {\n    label: \"Shopping Service\"\n}\nservice /shop on new http:Listener(8090) {\n\n    // List available products.\n    resource function get products() returns Product[] {\n        log:printInfo(\"Fetching product list\");\n        return products.toArray();\n    }\n\n    // Add a new product.\n    resource function post product(Product product) returns http:Created|http:Conflict|error? {\n        log:printInfo(\"Adding a new product\");\n\n        if products.hasKey(product.id.toString()) {\n            log:printError(\"Product already exists with product ID\", id =product.id);\n            http:Conflict errorResponse = {\n                body:  string `Product already exists with product ID: ${product.id}`\n            };\n            return errorResponse;\n        }\n\n        products[product.id.toString()] = product;\n        log:printInfo(\"Product added successfully.\", product = product);\n        http:Created response = {\n            body: string `Product added successfully with product ID: ${product.id}`\n        };\n        return response;   \n    }\n\n    // Place a new order.\n    resource function post 'order(OrderRequest orderRequest) returns http:Accepted|http:NotFound|error? {\n        log:printInfo(\"Received order request\");\n\n        if !products.hasKey(orderRequest.productId.toString()) {\n            log:printError(\"Product not found with product ID\", id = orderRequest.productId);\n            http:NotFound errorResponse = {\n                body:  string `Product not found with product ID: ${orderRequest.productId.toString()}`\n            };\n            return errorResponse;\n        }\n        Product product = products.get(orderRequest.productId.toString());\n        Order newOrder = {orderId: orderCount, productId: orderRequest.productId, quantity: orderRequest.quantity, totalPrice: product.price * orderRequest.quantity};\n        orders[orderCount.toString()] = newOrder;\n        orderCount += 1;\n\n        log:printInfo(\"Order placed successfully.\", 'order = newOrder);\n        http:Accepted response = {\n            body:  newOrder\n        };\n        return response;\n    }\n\n    // Get order details by ID.\n    resource function get 'order/[int orderId]() returns http:Ok|http:NotFound|error? {\n        log:printInfo(\"Fetching order details\");\n\n        if !orders.hasKey(orderId.toString()) {\n            log:printError(\"Order not found with order ID\", id = orderId);\n            http:NotFound errorResponse = {\n                body: string `Order not found with order ID: ${orderId}`\n            };\n            return errorResponse;\n        }\n\n        Order 'order =  orders.get(orderId.toString());\n        log:printInfo(\"Order details fetched successfully\", 'order = 'order);\n        http:Ok response = {\n            body:  'order\n        };\n        return response;\n    }\n}\n```\n\n### Enable observability for a Ballerina project\nObservability can be enabled in a Ballerina project by adding the following section to the `Ballerina.toml` file. \n```toml\n[build-options]\nobservabilityIncluded=true\n```\n\n>**Note:** The above configuration is included by default in the `Ballerina.toml` file generated when initiating a new \npackage using the `bal new` command.\n\nAlternatively, we can pass the `--observability-included` flag with the `bal run` command to start a Ballerina program with observability enabled.\n\n### Setting up Ballerina runtime configurations\nTo enable observability (both metrics and tracing) in the Ballerina runtime, use the following configurations:\n```toml\n[ballerina.observe]\nenabled = true\nprovider = <PROVIDER>\n```\n\nMetrics and tracing can be enabled separately as well by using the following configurations. Add additional configurations specific to the tool or platform you are using.\n```toml\n[ballerina.observe]\nmetricsEnabled=true\nmetricsReporter=<METRICS_REPORTER>\ntracingEnabled=true\ntracingProvider=<TRACING_PROVIDER>\n```\n\nConfiguration key | Description | Default value | Possible values \n--- | --- | --- | --- \n`ballerina.observe.metricsEnabled` | Whether metrics monitoring is enabled (true) or disabled (false) | false | `true` or `false`\n`ballerina.observe.metricsReporter` | Reporter name that reports the collected Metrics to the remote metrics server. This is only required to be modified if a custom reporter is implemented and needs to be used. | `None` | `prometheus`, `newrelic`, or if any custom implementation, the name of the reporter.\n`ballerina.observe.tracingEnabled` | Whether tracing is enabled (true) or disabled (false) | false | `true` or `false`\n`ballerina.observe.tracingProvider` | The tracer name, which implements the tracer interface. | `None` | `jaeger`, `zipkin`, `newrelic` or the name of the tracer of any custom implementation.\n\n## Observability tools and platforms supported by Ballerina\n\nThis outlines how to enable and configure observability in Ballerina for various tools and platforms. It provides a step-by-step guide for setting up monitoring, tracing, and logging using widely used observability solutions.\n\nObservability tools and platforms help monitor and analyze application performance, identify issues, and ensure reliability. The following are the main observability tools and platforms supported by Ballerina:\n\n- **[Prometheus](https://prometheus.io/):** A monitoring system and time-series database for metrics collection and alerting.\n\n- **[Jaeger](https://www.jaegertracing.io/):** A distributed tracing platform for monitoring and debugging microservices.\n\n- **[Zipkin](https://zipkin.io/):** A distributed tracing system to collect and look up trace data.\n\n- **[New Relic](https://newrelic.com/):** A full-stack observability platform for application performance monitoring (APM) and telemetry.\n\n- **[Datadog](https://www.datadoghq.com/):** A cloud-based observability service offering monitoring, metrics, traces, and logging.\n\n- **[Elastic Stack](https://www.elastic.co/elastic-stack):** A collection of tools (Elasticsearch, Logstash, Kibana) for centralized logging and analytics.\n\nThe following contains a guide to set up and observe Ballerina programs in each of the observability tools or platforms mentioned above.\n\n- [Observe Ballerina programs with Prometheus](/learn/supported-observability-tools-and-platforms/prometheus)\n- [Observe Ballerina programs with Jaeger](/learn/supported-observability-tools-and-platforms/jaeger)\n- [Observe Ballerina programs with Zipkin](/learn/supported-observability-tools-and-platforms/zipkin)\n- [Observe Ballerina programs with New Relic](/learn/supported-observability-tools-and-platforms/new-relic)\n- [Observe Ballerina programs with Datadog](/learn/supported-observability-tools-and-platforms/datadog)\n- [Observe Ballerina programs with Elastic Stack](/learn/supported-observability-tools-and-platforms/elastic-stack)\n","id":"overview-of-ballerina-observability","sub":"observability","third":"","slug":"observability/overview-of-ballerina-observability","codes":"[[-1969709705,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/http;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/log;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> Product</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> id;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> name;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    float</span><span style=\\\"color:#24292E\\\"> price;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> OrderRequest</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> productId;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> quantity;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> Order</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> orderId;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> productId;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> quantity;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    float</span><span style=\\\"color:#24292E\\\"> totalPrice;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D\\\">// Sample data</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">map&#x3C;</span><span style=\\\"color:#24292E\\\">Product</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#24292E\\\"> products </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">    \\\"1\\\"</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> {id: </span><span style=\\\"color:#005CC5\\\">1</span><span style=\\\"color:#24292E\\\">, name</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Laptop\\\"</span><span style=\\\"color:#24292E\\\">, price</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 1200.00</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">    \\\"2\\\"</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> {id: </span><span style=\\\"color:#005CC5\\\">2</span><span style=\\\"color:#24292E\\\">, name</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Smartphone\\\"</span><span style=\\\"color:#24292E\\\">, price</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 800.00</span><span style=\\\"color:#24292E\\\">},</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#032F62\\\">    \\\"3\\\"</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> {id: </span><span style=\\\"color:#005CC5\\\">3</span><span style=\\\"color:#24292E\\\">, name</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Headphones\\\"</span><span style=\\\"color:#24292E\\\">, price</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#005CC5\\\"> 150.00</span><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">map&#x3C;</span><span style=\\\"color:#24292E\\\">Order</span><span style=\\\"color:#D73A49\\\">></span><span style=\\\"color:#24292E\\\"> orders </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {};</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">int</span><span style=\\\"color:#24292E\\\"> orderCount </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#005CC5\\\"> 0</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">@</span><span style=\\\"color:#005CC5\\\">display</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    label</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#032F62\\\"> \\\"Shopping Service\\\"</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">service</span><span style=\\\"color:#6F42C1\\\"> /shop</span><span style=\\\"color:#D73A49\\\"> on</span><span style=\\\"color:#D73A49\\\"> new</span><span style=\\\"color:#24292E\\\"> http:Listener(</span><span style=\\\"color:#005CC5\\\">8090</span><span style=\\\"color:#24292E\\\">) {</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D\\\">    // List available products.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#6F42C1\\\"> products</span><span style=\\\"color:#24292E\\\">() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> Product[] {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Fetching product list\\\"</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#24292E\\\"> products.</span><span style=\\\"color:#6F42C1\\\">toArray</span><span style=\\\"color:#24292E\\\">();</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D\\\">    // Add a new product.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> post</span><span style=\\\"color:#6F42C1\\\"> product</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#E36209\\\">Product</span><span style=\\\"color:#E36209\\\"> product</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Created</span><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">http:Conflict</span><span style=\\\"color:#D73A49\\\">|error</span><span style=\\\"color:#24292E\\\">? {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Adding a new product\\\"</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        if</span><span style=\\\"color:#24292E\\\"> products.</span><span style=\\\"color:#6F42C1\\\">hasKey</span><span style=\\\"color:#24292E\\\">(product.id.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">()) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printError</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Product already exists with product ID\\\"</span><span style=\\\"color:#24292E\\\">, </span><span style=\\\"color:#E36209\\\">id</span><span style=\\\"color:#D73A49\\\"> =</span><span style=\\\"color:#24292E\\\">product.id);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Conflict errorResponse </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">                body</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">  string </span><span style=\\\"color:#032F62\\\">`Product already exists with product ID: ${</span><span style=\\\"color:#24292E\\\">product</span><span style=\\\"color:#032F62\\\">.</span><span style=\\\"color:#24292E\\\">id</span><span style=\\\"color:#032F62\\\">}`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">            return</span><span style=\\\"color:#24292E\\\"> errorResponse;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        products[product.id.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">()] </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> product;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Product added successfully.\\\"</span><span style=\\\"color:#24292E\\\">, </span><span style=\\\"color:#E36209\\\">product</span><span style=\\\"color:#D73A49\\\"> =</span><span style=\\\"color:#24292E\\\"> product);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Created response </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            body</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> string </span><span style=\\\"color:#032F62\\\">`Product added successfully with product ID: ${</span><span style=\\\"color:#24292E\\\">product</span><span style=\\\"color:#032F62\\\">.</span><span style=\\\"color:#24292E\\\">id</span><span style=\\\"color:#032F62\\\">}`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#24292E\\\"> response;   </span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D\\\">    // Place a new order.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> post</span><span style=\\\"color:#24292E\\\"> 'order(</span><span style=\\\"color:#E36209\\\">OrderRequest</span><span style=\\\"color:#E36209\\\"> orderRequest</span><span style=\\\"color:#24292E\\\">) </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Accepted</span><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">http:NotFound</span><span style=\\\"color:#D73A49\\\">|error</span><span style=\\\"color:#24292E\\\">? {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Received order request\\\"</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        if</span><span style=\\\"color:#D73A49\\\"> !</span><span style=\\\"color:#24292E\\\">products.</span><span style=\\\"color:#6F42C1\\\">hasKey</span><span style=\\\"color:#24292E\\\">(orderRequest.productId.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">()) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printError</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Product not found with product ID\\\"</span><span style=\\\"color:#24292E\\\">, </span><span style=\\\"color:#E36209\\\">id</span><span style=\\\"color:#D73A49\\\"> =</span><span style=\\\"color:#24292E\\\"> orderRequest.productId);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">NotFound errorResponse </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">                body</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">  string </span><span style=\\\"color:#032F62\\\">`Product not found with product ID: ${</span><span style=\\\"color:#24292E\\\">orderRequest</span><span style=\\\"color:#032F62\\\">.</span><span style=\\\"color:#24292E\\\">productId</span><span style=\\\"color:#032F62\\\">.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#032F62\\\">()</span><span style=\\\"color:#032F62\\\">}`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">            return</span><span style=\\\"color:#24292E\\\"> errorResponse;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        Product product </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> products.</span><span style=\\\"color:#6F42C1\\\">get</span><span style=\\\"color:#24292E\\\">(orderRequest.productId.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">());</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        Order newOrder </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {orderId</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> orderCount, productId</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> orderRequest.productId, quantity</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> orderRequest.quantity, totalPrice</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> product.price * orderRequest.quantity};</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        orders[orderCount.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">()] </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> newOrder;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        orderCount </span><span style=\\\"color:#D73A49\\\">+=</span><span style=\\\"color:#005CC5\\\"> 1</span><span style=\\\"color:#24292E\\\">;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Order placed successfully.\\\"</span><span style=\\\"color:#24292E\\\">, 'order </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> newOrder);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Accepted response </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            body</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">  newOrder</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#24292E\\\"> response;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#6A737D\\\">    // Get order details by ID.</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    resource</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> get</span><span style=\\\"color:#24292E\\\"> 'order/[</span><span style=\\\"color:#005CC5\\\">int</span><span style=\\\"color:#E36209\\\"> orderId</span><span style=\\\"color:#24292E\\\">]() </span><span style=\\\"color:#D73A49\\\">returns</span><span style=\\\"color:#24292E\\\"> http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Ok</span><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">http:NotFound</span><span style=\\\"color:#D73A49\\\">|error</span><span style=\\\"color:#24292E\\\">? {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Fetching order details\\\"</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        if</span><span style=\\\"color:#D73A49\\\"> !</span><span style=\\\"color:#24292E\\\">orders.</span><span style=\\\"color:#6F42C1\\\">hasKey</span><span style=\\\"color:#24292E\\\">(orderId.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">()) {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printError</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Order not found with order ID\\\"</span><span style=\\\"color:#24292E\\\">, </span><span style=\\\"color:#E36209\\\">id</span><span style=\\\"color:#D73A49\\\"> =</span><span style=\\\"color:#24292E\\\"> orderId);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">NotFound errorResponse </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">                body</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\"> string </span><span style=\\\"color:#032F62\\\">`Order not found with order ID: ${</span><span style=\\\"color:#24292E\\\">orderId</span><span style=\\\"color:#032F62\\\">}`</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">            return</span><span style=\\\"color:#24292E\\\"> errorResponse;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        }</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        Order 'order </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\">  orders.</span><span style=\\\"color:#6F42C1\\\">get</span><span style=\\\"color:#24292E\\\">(orderId.</span><span style=\\\"color:#6F42C1\\\">toString</span><span style=\\\"color:#24292E\\\">());</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        log</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">printInfo</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"Order details fetched successfully\\\"</span><span style=\\\"color:#24292E\\\">, 'order </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> 'order);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        http</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Ok response </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">            body</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">  'order</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">        };</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">        return</span><span style=\\\"color:#24292E\\\"> response;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    }</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"],[1426150847,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">build-options</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">observabilityIncluded=</span><span style=\\\"color:#005CC5\\\">true</span></span></code></pre>\"],[-1018834183,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">ballerina</span><span style=\\\"color:#24292E\\\">.</span><span style=\\\"color:#6F42C1\\\">observe</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">enabled = </span><span style=\\\"color:#005CC5\\\">true</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">provider = &#x3C;</span><span style=\\\"color:#B31D28;font-style:italic\\\">PROVIDER></span></span></code></pre>\"],[1605419995,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">ballerina</span><span style=\\\"color:#24292E\\\">.</span><span style=\\\"color:#6F42C1\\\">observe</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">metricsEnabled=</span><span style=\\\"color:#005CC5\\\">true</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">metricsReporter=&#x3C;</span><span style=\\\"color:#B31D28;font-style:italic\\\">METRICS_REPORTER></span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">tracingEnabled=</span><span style=\\\"color:#005CC5\\\">true</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">tracingProvider=&#x3C;</span><span style=\\\"color:#B31D28;font-style:italic\\\">TRACING_PROVIDER></span></span></code></pre>\"]]"},"__N_SSG":true}