{"pageProps":{"frontmatter":{"title":"Entity Relationship Diagram View","description":"The Entity Diagram View can capture entities defined in your data model, their primary keys, and how they are related to each other.","keywords":"ballerina, vs code extension, entity relationship diagram, data model","intro":"The Entity Diagram View can capture entities defined in your data model, their primary keys, and how they are related to each other."},"content":"\nThe visual representation provided by the Ballerina VS Code extension supports the rendering of the entity diagram for `bal persist` model definitions. The `bal persist` enables seamless data persistence by allowing you to define the data model and utilize the generated client API. For more information, see [Bal persist overview](/learn/bal-persist-overview/).\n\nThis visualization feature allows you to view the data model in a clear diagrammatic representation. By visualizing the relationships between entities, you can gain a comprehensive understanding of the structure and associations within your data model and also validate the accuracy of the model.\n\n## Access the Entity Relationship Diagram View\n\nThere are two methods for switching to the graphical mode and accessing the Entity Diagram View using the VS Code extension as shown below.\n\n### Via the CodeLens\n\nClick the **Visualize** CodeLens that appears in the editor. \n\n>**Info:** This **Visualize** CodeLens appears only for the entities defined in the model definition file inside the `persist` directory of your Ballerina project. For instructions on creating the data model definition, see [Model your data](/learn/manage-data-persistence-with-bal-persist/#model-your-data).\n\n<img src=\"/learn/images/vs-code-extension/visual-programming/entity-relationship-diagram-view/persist-diagram-visualize.png\" class=\"cInlineImage-full\"/>\n\n### Via the editor group button\n\nClick the **Entity Relationship Diagram** button in the editor group. \n\n>**Info:** This button appears if you open the model definition file inside the `persist` directory of your Ballerina project. For instructions on creating the data model definition, see [Model your data](/learn/manage-data-persistence-with-bal-persist/#model-your-data).\n\n<img src=\"/learn/images/vs-code-extension/visual-programming/entity-relationship-diagram-view/persist-diagram-visualize-button.png\" class=\"cInlineImage-full\"/>\n\nShown below is the code editor and graphical editor in the split view. The graphical mode is focused on the entity defined in the model definition file.\n\n<img src=\"/learn/images/vs-code-extension/visual-programming/entity-relationship-diagram-view/persist-diagram-split-view.png\" class=\"cInlineImage-full\"/>\n\n## Graphical representation of the data model\n\nThe graphical representation of the relationships between the entities is a connection between the relation fields. The cardinality of the ER diagram will change depending on the type of relationship, which exists between the entities (i.e., whether it is a `1:1` relationship or `1:n` relationship).\n\nFor example, a `bal persist` data model definition can be represented graphically as shown below.\n\n### Data model definition\n\nBelow is a sample data model definition.\n\n```ballerina\nimport ballerina/time;\nimport ballerina/persist as _;\n\n\ntype Patient record {|\n    readonly int id;\n    string name;\n    int age;\n    string phoneNumber;\n    Gender gender;\n    Appointment[] appointment;\n    Address? address;\n|};\n\n\ntype Doctor record {|\n    readonly int id;\n    string name;\n    string specialty;\n    string phoneNumber;\n    Appointment[] appointment;\n|};\n\n\ntype Appointment record {|\n    readonly int id;\n    Patient patient;\n    Doctor doctor;\n    time:Civil appointmentTime;\n    string reason;\n    AppointmentStatus status;\n|};\n\n\ntype Address record {|\n    readonly string id;\n    string street;\n    string city;\n    string state;\n    string zipCode;\n    Patient patient;\n|};\n\n\nenum AppointmentStatus {\n    SCHEDULED,\n    CANCELLED,\n    STARTED,\n    ENDED\n};\n\n\nenum Gender {\n    MALE,\n    FEMALE\n};\n```\n\n### Graphical view\n\nBelow is the graphical representation or the Entity Diagram View of the above sample data model.\n\n<img src=\"/learn/images/vs-code-extension/visual-programming/entity-relationship-diagram-view/persist-diagram-view.png\" class=\"cInlineImage-full\"/>\n","id":"entity-relationship-diagram-view","sub":"","third":"","slug":"entity-relationship-diagram-view","codes":"[[863257156,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/time;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> ballerina/persist </span><span style=\\\"color:#D73A49\\\">as</span><span style=\\\"color:#24292E\\\"> _;</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> Patient</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#24292E\\\"> id;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> name;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    int</span><span style=\\\"color:#24292E\\\"> age;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> phoneNumber;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Gender gender;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Appointment[] appointment;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Address</span><span style=\\\"color:#D73A49\\\">?</span><span style=\\\"color:#24292E\\\"> address;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> Doctor</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#24292E\\\"> id;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> name;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> specialty;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> phoneNumber;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Appointment[] appointment;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> Appointment</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> int</span><span style=\\\"color:#24292E\\\"> id;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Patient patient;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Doctor doctor;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    time</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#24292E\\\">Civil appointmentTime;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> reason;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    AppointmentStatus status;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">type</span><span style=\\\"color:#6F42C1\\\"> Address</span><span style=\\\"color:#D73A49\\\"> record</span><span style=\\\"color:#24292E\\\"> {</span><span style=\\\"color:#D73A49\\\">|</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">    readonly</span><span style=\\\"color:#005CC5\\\"> string</span><span style=\\\"color:#24292E\\\"> id;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> street;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> city;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> state;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> zipCode;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">    Patient patient;</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">|</span><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">enum</span><span style=\\\"color:#6F42C1\\\"> AppointmentStatus</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    SCHEDULED</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    CANCELLED</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    STARTED</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    ENDED</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">};</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">enum</span><span style=\\\"color:#6F42C1\\\"> Gender</span><span style=\\\"color:#24292E\\\"> {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    MALE</span><span style=\\\"color:#24292E\\\">,</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    FEMALE</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">};</span></span></code></pre>\"]]"},"__N_SSG":true}