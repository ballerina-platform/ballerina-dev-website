{"pageProps":{"frontmatter":{"layout":"ballerina-workspaces-left-nav-pages-swanlake","title":"Workspaces","description":"The sections below explain how to organize multiple Ballerina packages within a single workspace.","keywords":"ballerina, programming language, ballerina packages, workspace, multi-package, monorepo","permalink":"/learn/workspaces/","active":"workspaces","intro":"The sections below explain how to organize multiple Ballerina packages within a single workspace."},"content":"\n## Workspace Structure\n\nA workspace is a collection of related Ballerina packages that can be organized and managed together in a single directory structure. This feature enables you to develop interdependent packages in a monorepo-style structure, where packages can depend on each other without needing to publish to a repository during development. Workspaces allow packages to reference each other directly, build and test all related packages together, and keep related packages organized in a single project structure.\n\n### Workspace directory structure\n\nA workspace can organize packages in different directory layouts. You can place packages at the root level or in subdirectories:\n\n```\nmy-workspace/\n├── Ballerina.toml          # Workspace configuration\n├── order-service/\n│   ├── Ballerina.toml      # Package configuration\n│   └── service.bal\n├── menu-service/\n│   ├── Ballerina.toml\n│   └── service.bal\n└── utils/\n    ├── common/\n    │   ├── Ballerina.toml\n    │   └── common.bal\n    └── types/\n        ├── Ballerina.toml\n        └── types.bal\n```\n\n## Create a workspace\n\nUse the `bal new` command with the `--workspace` flag to create a new workspace:\n\n```\n$ bal new --workspace my-workspace\n```\n\nThis creates a new workspace directory with a sample package as shown below:\n\n```\nmy-workspace/\n├── Ballerina.toml          # Workspace configuration\n└── hello-app/\n    ├── Ballerina.toml      # Package configuration  \n    └── main.bal\n```\n\nThe workspace-level `Ballerina.toml` file defines the workspace configuration:\n\n```toml\n[workspace]\npackages = [\"hello-app\"]\n```\n\n## Add packages to the workspace\n\nYou can add additional packages to your workspace using the `bal new` command from within the workspace directory:\n\n```\n$ cd my-workspace\n$ bal new -t lib utils\n```\n\nThis creates an additional package in your workspace:\n\n```\nmy-workspace/\n├── Ballerina.toml\n├── hello-app/\n│   ├── Ballerina.toml\n│   └── main.bal\n└── utils/\n    ├── Ballerina.toml\n    └── utils.bal\n```\n\nThe workspace configuration is automatically updated to include the new package:\n\n```toml\n[workspace]\npackages = [\"hello-app\", \"utils\"]\n```\n\n## Import packages from the same workspace\n\nYou can import and use modules from other packages in the workspace using standard import statements. The packages are resolved automatically from the workspace without needing to publish them to a repository.\n\n**Example:**\n\n```ballerina\nimport myorg/utils;        // Import the utils package in workspace\n\npublic function main() {\n    string result = utils:sanitize(\"sample data !\");\n}\n```\n\n## Dependency resolution in workspaces\n\nWhen working with workspaces, the dependency resolution algorithm prioritizes workspace packages over the distribution and Ballerina Central repositories. By default, package imports are searched within the workspace first. If a matching package is found in the workspace, the resolution request is not sent to other repositories. Only if the package is not available in the workspace will the resolver search in the distribution and Ballerina Central repositories.\n\nFor more information on dependency management, see [Manage dependencies](/learn/manage-dependencies/).\n\n### Build the workspace\n\nRun `bal build` in the workspace root to build all workspace packages. Executables are produced only for packages that are not dependencies of other workspace packages.\n\nBuild all packages:\n\n```\n$ bal build\n```\n\nBuild a specific package:\n\n```\n$ bal build hello-app\n```\n\n### Test the workspace\n\nRun tests for all packages in the workspace:\n\n```\n$ bal test\n```\n\n### Run a specific package\n\nTo run a specific package in the workspace:\n\n```\n$ bal run hello-app\n```\n","id":"workspaces","sub":"source-code-dependencies","third":"","slug":"source-code-dependencies/workspaces","codes":"[[-1653305685,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">workspace</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">packages = [</span><span style=\\\"color:#032F62\\\">\\\"hello-app\\\"</span><span style=\\\"color:#24292E\\\">]</span></span></code></pre>\"],[-1167680144,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">[</span><span style=\\\"color:#6F42C1\\\">workspace</span><span style=\\\"color:#24292E\\\">]</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">packages = [</span><span style=\\\"color:#032F62\\\">\\\"hello-app\\\"</span><span style=\\\"color:#24292E\\\">, </span><span style=\\\"color:#032F62\\\">\\\"utils\\\"</span><span style=\\\"color:#24292E\\\">]</span></span></code></pre>\"],[189921060,\"<pre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"><code><span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">import</span><span style=\\\"color:#24292E\\\"> myorg/utils;        </span><span style=\\\"color:#6A737D\\\">// Import the utils package in workspace</span></span>\\n<span class=\\\"line\\\"></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#D73A49\\\">public</span><span style=\\\"color:#D73A49\\\"> function</span><span style=\\\"color:#6F42C1\\\"> main</span><span style=\\\"color:#24292E\\\">() {</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#005CC5\\\">    string</span><span style=\\\"color:#24292E\\\"> result </span><span style=\\\"color:#D73A49\\\">=</span><span style=\\\"color:#24292E\\\"> utils</span><span style=\\\"color:#D73A49\\\">:</span><span style=\\\"color:#6F42C1\\\">sanitize</span><span style=\\\"color:#24292E\\\">(</span><span style=\\\"color:#032F62\\\">\\\"sample data !\\\"</span><span style=\\\"color:#24292E\\\">);</span></span>\\n<span class=\\\"line\\\"><span style=\\\"color:#24292E\\\">}</span></span></code></pre>\"]]"},"__N_SSG":true}