{"pageProps":{"frontmatter":{"layout":"ballerina-left-nav-release-notes","title":"Swan Lake Alpha3","permalink":"/downloads/swan-lake-release-notes/swan-lake-alpha3/","active":"swan-lake-alpha3","redirect_from":["/downloads/swan-lake-release-notes/swan-lake-alpha3"]},"content":"### Overview of Ballerina Swan Lake Alpha3\n\nThe Ballerina Swan Lake Alpha3 release includes the language features planned for the Ballerina Swan Lake release. Moreover, this release includes improvements and bug fixes to the compiler, runtime, standard library, and developer tooling. This release note lists only the features and updates added after the Alpha2 release of Ballerina Swan Lake.\n\n- [Updating Ballerina](#updating-ballerina)\n    - [For Existing Users](#for-existing-users)\n    - [For New Users](#for-new-users)\n- [What is New in Ballerina Swan Lake Alpha3](#what-is-new-in-ballerina-swan-lake-alpha3)\n    - [Language](#language)\n    - [Runtime](#runtime)\n    - [Standard Library](#standard-library)\n    - [Code to Cloud](#code-to-cloud)\n    - [Ballerina Packages](#ballerina-packages)\n    - [Developer Tools](#developer-tools)\n    - [Breaking Changes](#breaking-changes)\n\n### Updating Ballerina\n\nIf you are already using Ballerina, you can directly update your distribution to Ballerina Swan Lake Alpha3 using the [Ballerina update tool](/learn/tooling-guide/cli-tools/update-tool/). To do this, first, execute the command below to get the update tool updated to its latest version. \n\n> `bal update`\n\nIf you are using an **update tool version below 0.8.14**, execute the `ballerina update` command to update it. Next, execute the command below to update to Swan Lake Alpha3.\n\n> `bal dist pull slalpha3`\n\n### Installing Ballerina\n\nIf you are a new user, then download the [installers](/downloads/#swanlake) to install.\n\n### What is new in Ballerina Swan Lake Alpha3\n\n#### Language\n\n##### Support for module-level variables with list, mapping, and error binding patterns\n\nVariable declarations with list, mapping, or error binding patterns are now allowed at the module level. Unlike simple variables, these variables must be initialized in the declaration.\n\nAlso, these variable declarations cannot contain the `isolated` or `configurable` qualifier.\n\n```ballerina\ntype Person record {|\n    string name;\n    boolean married;\n|};\n\nfunction getList() returns [int, float] => [1, 2.5];\n\nfunction getPerson() returns Person => {name: \"John\", married: true};\n\nfunction getError() returns error => error(\"error message\", code = 1001, fatal = true);\n\n// Module-level variable declaration with a list binding pattern. \n[int, float] [a, b] = getList();\n\n// Module-level variable declaration with a mapping binding pattern.\nPerson {name: firstName, married: isMarried} = getPerson();\n\n// Module-level variable declaration with an error binding pattern.\nerror error(message, code = errCode) = getError();\n```\n\n##### Support for module-level public variables\n\nModule-level variables can now be declared as public using the `public` qualifier. Such variables will be visible outside the modules in which they are declared.\n\nIsolated variables and variables declared with `var` cannot be declared as public variables.\n\n```ballerina\npublic string name = \"Ballerina\";\n\npublic [int, float] [a, b] = [1, 2.5];\n```\n\n##### Improvement to annotation attachment with empty mapping constructor expression\n\nIf the type of the annotation is a mapping type for which an empty mapping constructor is valid, the mapping constructor expression is no longer mandatory in the annotation attachment.\n\nThe absence of the mapping constructor expression in such an annotation attachment is equivalent to specifying a mapping constructor expression with no fields.\n```ballerina\ntype Annot record {|\n    int[] i = [];\n|};\n\npublic annotation Annot v1 on function;\n\n@v1 // Same as `@v1 {}`\npublic function main() {\n}\n```\n\n##### Introduction of the `function` function type descriptor to represent any function\n\nA new `function` type descriptor has been introduced to represent all function values.\n\n```ballerina\nimport ballerina/io;\n\nfunction add(int v1, int v2) returns int => v1 + v2;\n\nfunction compare(int v1, int v2) returns boolean => v1 < v2;\n\npublic function main() {\n    // A variable of type `function` can hold any function value.\n    function f = add;\n    io:println(\"Process (add, 1, 2): \", process(f, 1, 2)); // Prints `Process (add, 1, 2): 3`\n    io:println(\"Process (compare, 1, 2): \", process(compare, 1, 2)); // Prints `Process (compare, 1, 2): 0`\n}\n\nfunction process(function func, int v1, int v2) returns int {\n    // A function of type `function` cannot be called directly.\n    // A function value assigned to a `function`-typed variable\n    // can only be called after the type is narrowed to the relevant type.\n    if (func is function (int, int) returns int) {\n        return func(v1, v2);\n    }\n    return 0;\n}\n```\n\n##### New lang library functions\n\n###### New `xml:text()` function\n\nThis function can be used to select all the items in a sequence that are of type `xml:Text`.\n\n```ballerina\nxml name = xml `<name>Dan<middleName>Gerhard</middleName><!-- This is a comment -->Brown</name>`;\nxml:Text nameText = (name/*).text();\nio:println(nameText); // \"DanBrown\"\n```\n\n##### Bug fixes\n\nTo view bug fixes, see the [GitHub milestone for Swan Lake Alpha3](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+is%3Aclosed+milestone%3A%22Ballerina+Swan+Lake+-+Alpha3%22+label%3AType%2FBug+label%3ATeam%2FCompilerFE).\n\n#### Runtime\n\n##### New runtime Java API to create errors\n\nA new runtime Java API is introduced to create errors.\n```java\nBError createError(Module module, String errorTypeName, BString message, BError cause, Object details)\n```\nThe `createDistinctError` API has been deprecated and should not be used to create distinct errors. The new `createError` API can be used instead.\n\n##### Bug fixes\n\nTo view bug fixes, see the [GitHub milestone for Swan Lake Alpha3](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+is%3Aclosed+milestone%3A%22Ballerina+Swan+Lake+-+Alpha3%22+label%3AType%2FBug+label%3ATeam%2FjBallerina).\n\n#### Standard library\n\n##### Log package updates\n\n###### Introduced additional log levels and log functions\n\nIntroduced 2 additional log levels: `DEBUG` and `WARN`. The  `printDebug` and `printWarn` functions in the `ballerina/log` module can be used to publish logs at the respective log levels. The `print` function was renamed to `printInfo`.\n\nTo set the global log level, place the entry given below in the `Config.toml` file:\n```toml\n[log] \nlevel = \"[LOG_LEVEL]\"\n```\n\nEach module can also be assigned its own log level. To assign a log level to a module, provide the following entry in the `Config.toml` file:\n```toml\n[[log.modules]] \nname = \"[ORG_NAME]/[MODULE_NAME]\"\nlevel = \"[LOG_LEVEL]\"\n```\n\n##### OS package updates\n\n- Removed the `exec` function.\n\n##### Task package updates\n\nThe module has been revamped by removing the `Scheduler` and `Listener` classes and introducing the following functions to schedule and manage the job either one-time or periodically.\n\n- Configures the scheduler worker pool with the worker count and max waiting time.\n\n```ballerina\nimport ballerina/task;\n\ntask:Error? output = task:configureWorkerPool(6, 7000);\n```\n\n- Schedules the job at a specified time.\n\n```ballerina\nimport ballerina/task;\nimport ballerina/time;\n\nclass MyJob {\n   *task:Job;\n\n   public function execute() {\n       // logic goes here\n   }\n}\n\ntime:ZoneOffset zoneOffset = {hours: 5, minutes: 30};\ntime:Civil time = {\n    year: 2021,\n    month: 4,\n    day: 12,\n    hour: 23,\n    minute: 20,\n    second: 50.52,\n    timeAbbrev: \"Asia/Colombo\",\n    utcOffset: zoneOffset\n};\ntask:Error|task:JobId id = task:scheduleOneTimeJob(new MyJob(), time);\n```\n\n- Schedules the recurring job according to the given duration.\n\n```ballerina\nimport ballerina/task;\n\nclass MyJob {\n   *task:Job;\n\n   public function execute() {\n       // logic goes here\n   }\n}\ntask:Error|task:JobId id = task:scheduleJobRecurByFrequency(new MyJob(), 1);\n```\n\n- Unschedules the particular job.\n\n```ballerina\nimport ballerina/task;\n\ntask:Error? result = task:unscheduleJob(id);\n```\n\n- Pauses all the jobs.\n\n```ballerina\nimport ballerina/task;\n\ntask:Error? result = task:pauseAllJobs();\n```\n\n- Resumes all the jobs.\n\n```ballerina\nimport ballerina/task;\n\ntask:Error? result = task:resumeAllJobs();\n```\n\n- Pauses the particular job.\n\n```ballerina\nimport ballerina/task;\n\ntask:Error? result = task:pauseJob(id);\n```\n\n- Resumes the particular job.\n\n```ballerina\nimport ballerina/task;\n\ntask:Error? result = task:resumeJob(id);\n```\n\n- Gets all the running jobs.\n\n```ballerina\nimport ballerina/task;\n\ntask:JobId[] jobIds = task:getRunningJobs();\n```\n\n##### Time package updates\n\nRevamped the entire time package as follows:\n\n- Introduced the `time:Utc` record to represent the UTC timestamp.\n- Introduced the `time:Civil` record to represent the localized time.\n- Added necessary APIs to do time generation, manipulations, and conversions.\n\nSteps for migration from the previous version to the current version are listed [in this issue](https://github.com/ballerina-platform/ballerina-standard-library/issues/1079).\n\n##### Cache package updates\n\n- Introduced the new `EvictionPolicy` configuration to set the eviction policy in the `CacheConfig` record.\n\nThe `EvictionPolicy` record has been introduced with the option `LRU` as the module only supports the LRU eviction policy to evict the cache data when the cache is full.\n\n- Removed the `AbstractEvictionPolicy` object type.\n\nThis object type had the common APIs for the cache eviction functionalities to implement a custom eviction policy. It has been removed with the introduction of the above configuration.\n\n##### New `xmldata` package\n\nA new module is added to convert data in XML format to JSON format and vice-versa.\n\n- Converts a JSON object to an XML representation.\n\n```ballerina\nimport ballerina/xmldata;\n\njson data = {\n    name: \"John\",\n    age: 30\n};\nxml|xmldata:Error x = xmldata:fromJson(data);\n```\n\n- Converts an XML value to its JSON representation.\n\n```ballerina\nimport ballerina/xmldata;\n\njson|xmldata:Error j = xmldata:toJson(xml `foo`);\n```\n\n##### Removed `jsonutils`, `xmlutils`, `runtime`, and `reflect` packages\n\nThe `jsonutils`, `xmlutils`, `runtime`, and `reflect` packages were removed from Standard Libraries.\n\nThe XML/JSON conversation APIs in `jsonutils` and `xmltutils` packages are now supported by the `xmldata` package.\n\n##### HTTP package updates\n\n- Changed the return types of the client methods to depend on the `targetType` argument. The default `targetType` is `http:Response`.\n\n```ballerina \nhttp:Client myClient = check new (\"http://localhost:9090”);\nhttp:Response response = check myClient->post(\"/backend/getResponse\", \"want response\");\njson jsonPayload = check myClient->post(\"/backend/getJson\", \"want json\", targetType = json);\nxml xmlPayload = check myClient->post(\"/backend/getXml\", \"want xml\", targetType = xml);\n```\n\n- Introduced a header map as an optional argument for non-entity-body client remote methods (GET, HEAD, OPTIONS). \n\n```ballerina\nhttp:Client myClient = check new (\"http://localhost:9090”);\nmap<string|string[]> accHeaders = { \"Accept\" : \"application/json\" };\nvar response = myclient->get(\"/some/endpoint\", accHeaders);\n```\n\n- Introduced header map and media type as optional arguments for entity-body client remote methods (POST, PUT, PATCH, DELETE, EXECUTE).\n\n```ballerina\nhttp:Client myClient = check new (\"http://localhost:9090”);\njson payload = {}; \nmap<string|string[]> accHeaders = { \"Accept\" : \"application/json\" };\nvar response = myclient->post(\"/some/endpoint\", payload, headers = accHeaders);\n```\n\n- Improved the data types of outbound request/response payloads which can be set directly.  \n\n```ballerina\ntype RequestMessage Request|string|xml|json[]|byte[]|int|float|decimal|boolean|map<json>|table<map<json>>|\n                      table<map<json>>[]|mime:Entity[]|stream<byte[], io:Error>|();\n\ntype ResponseMessage Response|string|xml|json[]|byte[]|int|float|decimal|boolean|map<json>|table<map<json>>|\n                      table<map<json>>[]|mime:Entity[]|stream<byte[], io:Error>|();\n```\n\n- Marked HTTP client remote methods as isolated.\n\n- Introduced module error inheritance and remove error union types.\n\n##### WebSocket package updates\n\n- Introduced auth support for the WebSocket client.\nThe bearer token, Basic Auth, JWT, and OAuth2 support have been introduced with the WebSocket client declarative authentication.\n\n- Introduced HTTP cookie support for the WebSocket client.\n\n```ballerina\nhttp:Cookie cookie = new (\"username\", \"name\");\nhttp:Cookie[] httpCookies = [cookie];\n\nwebsocket:ClientConfiguration clientConf = {\n  cookies: httpCookies\n};\n\nwebsocket:Client wsClient = check new (\"ws://localhost:21316/ws\", config = clientConf);\n```\n\n- Made the `websocket:Caller` optional in WebSocket service remote functions.\n\n- Introduced support to send text, binary, and pong messages by returning them from the remote methods. \nText/binary data can now be sent to the peer by returning a `string` or a `byte[]` value from the `onTextMessage` and `onBinaryMessage` remote methods. Also, a pong frame can be sent to the peer by returning a `byte[]` value from the `onPing` remote method.\n\n```ballerina\nremote function onTextMessage(string text) returns string {\n    return \"Hello World!\";\n}\n```\n\n```ballerina\nremote function onPing(byte[] pingData) returns byte[] {\n    return pingData;\n}\n```\n\n- Removed the support for the `websocket:AsyncClient`.\n\n##### GraphQL package updates\n\n- Added the support for hierarchical resource paths.\nThe Ballerina GraphQL resources now can have hierarchical resource paths. Each intermediate resource path then maps to a new type in the generated schema.\n\n```ballerina\nimport ballerina/graphql;\n\nservice /graphql on new Listener(9104) {\n   isolated resource function get profile/name/first() returns string {\n       return \"Sherlock\";\n   }\n\n   isolated resource function get profile/name/last() returns string {\n       return \"Holmes\";\n   }\n\n   isolated resource function get profile/age() returns int {\n       return 40;\n   }\n}\n```\n\n- Supported resource functions to return optional types. \n\nThe Ballerina GraphQL resources now can return optional types. \n\n```ballerina\nresource function get profile/name/first(int id) returns string? {\n    if id == 0 {\n        return \"sherlock\";\n    }\n}\n```\n\n##### Email package updates\n\n- Enabled read/listen for multiple emails in a single TCP connection.\n    \n    Each POP3 or IMAP client/listener creation initiates the connection. Then, the email sending, receiving, or listening operations can be performed many times. Finally, the client/listener has to be closed.\n\n**POP3 client example**\n\n```ballerina\nemail:PopClient popClient = check new (\"pop.email.com\", \"reader@email.com\",\"pass456\");\nemail:Message? emailResponse = check popClient->receiveMessage();\ncheck popClient->close();\n```\n\nA similar format is used in the IMAP client. \n\n**POP3 service example**\n\n```ballerina\nservice object {} emailObserver = service object {\n   remote function onMessage(Message emailMessage) {\n\n   }\n\n   remote function onError(Error emailError) {\n\n   }\n\n   remote function onClose(Error? closeError) {\n\n   }\n\n};\n```\n\nNote how the `close()` method calls the `onClose` method in the service.\n\n- Made email body a mandatory field in `sendEmail` method API.\n\n- Renamed email sending method names removing `Email` in each of them \nRenamed `sendEmail` as `send`, `sendEmailMessage` as `sendMessage`, `receiveEmailMessage` as `receiveMessage` and `onEmailMessage` as `onMessage`.\n\n- Set the default `from` address of the `email:Message` record from the `SmtpClient` authentication field, `username`.\nEarlier, the username for authentication was decoupled from the message data. Now, the `from` field is made optional and the default value will be set from the username.\n\n- Made POP3 and IMAP clients as blocking clients by providing an optional `timeout` argument.\nThe time unit is in seconds and the data type is `decimal`. The default value is 0 in which the inbuilt polling interval is 100 milliseconds.\nA sample client code is as follows.\n```ballerina\nemail:Message|email:Error? email = popClient->receiveMessage(timeout = 2);\n```\n- In the `PopListener` and `ImapListener` configurations, the polling interval is not set with the  `decimal` type in seconds to the `pollingInterval` field, which was earlier named as `pollingIntervalInMillis`.\n\n- Renamed the `email:SmtpConfig`, `email:PopConfig`, `email:ImapConfig`, `email:PopListenerConfig`, and `email:ImapListenerConfiguration` as `email:SmtpConfiguration`, `email:PopConfiguration`, `email:ImapConfiguration`, `email:PopListenerConfiguration`, and `email:ImapListenerConfiguration` respectively.\n\n- Removed the `cronExpression` field from the `email:ImapListenerConfig` and `email:PopListenerConfig`.\n\n- Made the `body` field of the `send` method mandatory in the `email:SmtpClient`. \n\n##### WebSub package updates\n\n- Introduced a websub-listener configuration for the websub-listener.\n\n```ballerina\nimport ballerina/websub;\n\nwebsub:ListenerConfiguration configs = {\n    \t\tsecureSocket: {\n        \t\tkey: {\n            \t\tcertFile: \"../resource/path/to/public.crt\", \n                    keyFile: \"../resource/path/to/private.key\"\n        \t\t}\n    \t\t}    \n    // any additional configurations related to http-listener \n};\n\nservice /subscriber on new websub:Listener(9090, configs) {\n   // resources\n}\n```\n\n##### WebSubHub package updates\n\n- Included HTTP Headers parameter into the WebSub Hub API.\n\n```ballerina\nimport ballerina/websubhub;\nimport ballerina/http;\n\nlistener websubhub:Listener hubListener = new(9095);\n\nservice /websubhub on new websubhub:Listener(9090) {\n    remote function onRegisterTopic(TopicRegistration message, http:Headers requestHeaders)\n                                returns TopicRegistrationSuccess|TopicRegistrationError {\n\t\treturn {};\n    }\n    // http:Headers parameter will be an optional parameter for all the API endpoints\n}\n```\n\n- Introduced pre-initialized constant responses to be used in the `websubhub:Service` implementation.\n\n```ballerina\nimport ballerina/websubhub;\n\nservice /websubhub on new websubhub:Listener(9090) {\n\n    remote function onRegisterTopic(websubhub:TopicRegistration message)\n                                returns websubhub:TopicRegistrationSuccess {\n        log:print(\"Received topic-registration request \", message = message);\n        return websubhub:TOPIC_REGISTRATION_SUCCESS;\n    }\n\n    // implement other service methods\n}\n```\n\n- Initializing the `websubhub:HubClient` with the client configurations.\n\n```ballerina\nimport ballerina/websubhub;\n\nwebsubhub:ClientConfiguration config = {\n    retryConfig: {\n        interval: 3,\n            count: 3,\n            backOffFactor: 2.0,\n            maxWaitInterval: 20,\n            statusCodes: [500]\n        },\n        timeout: 2\n    };\n\nHubClient hubClientEP = check new(subscriptionMsg, config);\n\nwebsubhub:ContentDistributionMessage msg = {content: \"This is sample content delivery\"};\n\nvar publishResponse = hubClientEP->notifyContentDistribution(msg);\n```\n\n- Introduced the `websubhub-listener` configuration to configure a websubhub listener.\n\n```ballerina\nimport ballerina/websubhub;\n\nwebsubhub:ListenerConfiguration configs = {\n    \t\tsecureSocket: {\n        \t\t\tkey: {\n            \t\t\tcertFile: \"../resource/path/to/public.crt\", \nkeyFile: \"../resource/path/to/private.key\"\n        \t\t\t}\n    \t\t}\n    \n    \t// any additional configurations related to http-listener \n};\n\nservice /hub on new websubhub:Listener(9090, configs) {\n    \t\t// resources\n}\n```\n\n##### Security updates\n\n- Renamed the `ballerina/encoding` module as `ballerina/url` and updated the APIs.\n\n```ballerina\nimport ballerina/url;\n\nstring|url:Error encoded = url:encode(\"http://localhost:9090\", \"UTF-8\");\nstring|url:Error decoded = url:decode(\"http%3A%2F%2Flocalhost%3A9090\", \"UTF-8\");\n```\n\n- The Ballerina HTTP listener can be configured to authenticate and authorize the inbound requests with a Basic Auth file user store.\n\n- Improved client and listener `SecureSocket` APIs of HTTP, gRPC, WebSocket, GraphQL, WebSub, WebSubHub, TCP, Email, NATS, STAN, and RabbitMQ modules.\n\n```ballerina\npublic type ListenerSecureSocket record {|\n   crypto:KeyStore|CertKey key;\n   record {|\n       VerifyClient verifyClient = REQUIRE;\n       crypto:TrustStore|string cert;\n   |} mutualSsl?;\n   record {|\n       Protocol name;\n       string[] versions = [];\n   |} protocol?;\n   record {|\n       CertValidationType type = OCSP_STAPLING;\n       int cacheSize;\n       decimal cacheValidityPeriod;\n   |} certValidation?;\n   string[] ciphers = [];\n   boolean shareSession = true;\n   decimal handshakeTimeout?;\n   decimal sessionTimeout?;\n|};\n\npublic type ClientSecureSocket record {|\n   boolean enable = true;\n   crypto:TrustStore|string cert?;\n   crypto:KeyStore|CertKey key?;\n   record {|\n       Protocol name;\n       string[] versions = [];\n   |} protocol?;\n   record {|\n       CertValidationType type = OCSP_STAPLING;\n       int cacheSize;\n       decimal cacheValidityPeriod;\n   |} certValidation?;\n   string[] ciphers?;\n   boolean verifyHostName = true;\n   boolean shareSession = true;\n   decimal handshakeTimeout?;\n   decimal sessionTimeout?;\n|};\n\npublic type CertKey record {|\n   string certFile;\n   string keyFile;\n   string keyPassword?;\n|};\n \npublic enum VerifyClient {\n   REQUIRE,\n   OPTIONAL\n}\n \npublic enum Protocol {\n   SSL,\n   TLS,\n   DTLS\n}\n \npublic enum CertValidationType {\n   OCSP_CRL,\n   OCSP_STAPLING\n}\n```\n\n- Improved the `SecureSocket` configuration of the JDK11 client of the JWT and OAuth2 modules.\n\n- Added support for OAuth2 client authentication of the JDK11 client, which is used to call an authorization endpoint.\n\n##### TCP package updates\n\n- Introduced SSL/TLS support for both the client and listener.\n\n```ballerina\nimport ballerina/tcp;\n\npublic function main() returns error? {\n    tcp:Client socketClient = check new (\"localhost\", 9002, secureSocket = {\n        cert: \"../resource/path/to/public.crt\",\n        protocol: {\n            name: tcp:TLS,\n            versions: [\"TLSv1.2\", \"TLSv1.1\"]\n        },\n        ciphers: [\"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\"]\n    });\n\n    string msg = \"Hello Ballerina Echo from secure client\";\n    byte[] msgByteArray = msg.toBytes();\n    check socketClient->writeBytes(msgByteArray);\n\n    readonly & byte[] receivedData = check socketClient->readBytes();\n\n    check socketClient->close();\n}\n```\n\n```ballerina\nimport ballerina/tcp;\nimport ballerina/io;\n\ntcp:ListenerSecureSocket listenerSecureSocket = {\n    key: {\n        certFile: \"../resource/path/to/public.crt\",\n        keyFile: \"../resource/path/to/private.key\"\n    },\n    protocol: {\n        name: tcp:TLS,\n        versions: [\"TLSv1.2\", \"TLSv1.1\"]\n    },\n    ciphers: [\"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\"]\n}\n\nservice on new tcp:Listener(9002, secureSocket = listenerSecureSocket) {\n\n    isolated remote function onConnect(tcp:Caller caller) returns tcp:ConnectionService {\n        io:println(\"Client connected to secureEchoServer: \", caller.remotePort);\n        return new EchoService(caller);\n    }\n}\n\nservice class EchoService {\n  \n    remote function onBytes(readonly & byte[] data) returns (readonly & byte[])|tcp:Error? {\n        io:println(\"Echo: \", 'string:fromBytes(data));\n        return data;\n    }\n}\n```\n\n- Included a `tcp:Caller` as an optional parameter in the `onBytes()` method.\n\n```ballerina\nservice class EchoService {\n  \n    remote function onBytes(tcp:Caller caller, readonly & byte[] data) returns (readonly & byte[])|tcp:Error? {\n        io:println(\"Echo: \", 'string:fromBytes(data));\n        check caller->writeBytes(data);\n    }\n}\n```\n\n- Renamed `tcp:ListenerConfig` and `tcp:ClientConfig` to `tcp:ListenerConfiguration` and `tcp:ClientConfiguration`\n\n##### UDP package updates\n\n- Renamed `udp:ListenerConfig` and `udp:ClientConfig` to `udp:ListenerConfiguration` and `udp:ClientConfiguration`\n\n##### Kafka package updates\n\n- Renamed the `sendProducerRecord` function in the client object `Producer` to `send`.\n\n- Renamed the `flushRecords` function in the client object `Producer` to `’flush`.\n\n- Replaced the `kafka:ConsumerError` and `kafka:ProducerError` with `kafka:Error`.\n\n##### NATS package updates\n\n- Renamed the `ConnectionConfig` record to `ConnectionConfiguration`. \n\n- Included `url` as a field in the `ConnectionConfiguration` record. \n\n- Changed the `ConnectionConfiguration` in the client and listener init functions to an included record parameter. This allows the record field values to be passed as named parameters. \n\n##### STAN package updates\n\n- Renamed the `StreamingConfig` record to `StreamingConfiguration`. \n\n- Included the `url` as a field in the `StreamingConfiguration` record. \n\n- Changed the `StreamingConfiguration` in the client and listener init functions to an included record parameter. This allows the record field values to be passed as named parameters. \n\n##### RabbitMQ package updates\n\n- Renamed the `ConnectionConfig` record to `ConnectionConfiguration`. \n\n##### Common standard library updates\n\n- All the timeout configurations are converted to accept decimal values and the time unit is in seconds.\n\n#### Code to Cloud\n\n- Removed Docker annotation support.\n\n##### Bug fixes\n\nTo view bug fixes, see the [GitHub milestone for Swan Lake Alpha3](https://github.com/ballerina-platform/module-ballerina-c2c/issues?q=is%3Aissue+is%3Aclosed+label%3AType%2FBug+milestone%3A%22Ballerina+Swan+Lake+-+Alpha3%22).\n\n### Ballerina packages\n\n#### Introduced local repository support\n\n- Apart from the Ballerina Central remote repository, you can now push packages to the local repository which can be found at `<user-home>/.ballerina/repositories/local`. Refer to the section on changes to CLI commands for information regarding pushing to the local repository.\n- To use a package from the local repository, the 'repository' has to be specified in the TOML table of the relevant dependency in the `Dependencies.toml` file.\n\nE.g., to test a developed package before pushing it to Ballerina Central, build and push it to the local repository using the `push` command and add it to the `Dependencies.toml` file of the depending package as shown below.\n\n```toml\n[[dependency]]\norg = \"ballerinax\"\nname = \"googleapis_sheets\"\nversion = \"1.0.0\"\nrepository = \"local\"\n```\n\n### Developer tools\n\n#### CLI\n\n##### Changes to CLI commands\n\n- Build and test commands\n  - Support for providing `[(--key=value)...]` is removed from `bal build`. \n\n- Run command\n  - Providing the project path to the run command is now optional. The default source root is the present working directory similar to how the build command works.\n  - Program arguments should be followed by the end-of-options delimiter `--`.\n- New and init commands\n  - Introduced creation of the `Pacakge.md` file for a library template. Passing the `--template lib` flag will create the `Package.md` file in addition to the `Ballerina.toml` file and the source BAL files.\n- Push command\n  - Introduced pushing to the local repository. Passing `--repository=local` will push the Ballerina archive (.bala) to the local repository. For information about local repository support, see the [Ballerina Packages Changelist](#ballerina-packages).\n- Run `bal help <command>` to get more information on the command changes.\n\n- CLI Auto-Completion\n  - Installing On Linux Bash\n    - Set up auto-completion in the current bash shell.\n  \n    ```shell\n    source <(bal completion bash)\n    ```\n\n    - Set up auto-completion permanently in the bash shell.\n\n    ```shell\n    echo \"source <(bal completion bash)\" >> ~/.bashrc\n    ```\n\n  - Installing On Mac Bash\n    - Set up auto-completion permanently in the bash shell.\n\n    ```shell\n    echo \"$(bal completion bash)\" >> ~/.bash_profile\n    ```\n\n#### Test framework\n\n- Moved the Project Test Suite execution to a single JVM. Changed from running each Test Suite in a JVM instance. This improves the user experience when debugging tests. It no longer prompts to debug each test suite of a project.\n- Support for seamless integration of CICD tools by adding inbuilt path fixes to the JaCoCo XML generated for Ballerina packages.\n\n#### Debugger\n\n- Added conditional breakpoint support. (Conditional expressions can now be configured for Ballerina breakpoints in the Visual Studio Code Debug view).\n- Added support to configure environment variables in the launch mode.\n- Added expression evaluation support for type cast expressions.\n\n#### OpenAPI\n\n- Added JSON file generation support to the Ballerina to OpenAPI command.\n\n```shell\nbal openapi -i <ballerina file> --json\n```\n\n- Added improvements for handling the Ballerina resource method response type in the OpenAPI to Ballerina command.\n\n#### Bindgen tool\n\n- Improved the generated bindings with the use of distinct type classes.\n- Improved the internal mechanism used to generate the bindings. Previous handlebars-based implementation is now changed to a syntax-tree-based implementation.\n\n#### Documentation\n\n- Moved the standard library API documentation out to [Ballerina Central Docs](https://docs.central.ballerina.io) from the Ballerina Website.\n\n##### Language Server\n- The Ballerina Language Server now supports telemetry-based crash reporting. This was enabled through the LSP protocol's [telemetry events](https://microsoft.github.io/language-server-protocol/specifications/specification-current/#telemetry_event). If you wish to disable Ballerina Telemetry, uncheck the **Ballerina: Enable Telemetry** setting from VSCode.\n\nTo view bug fixes, see the [GitHub milestone for Swan Lake Alpha3](https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+is%3Aclosed+milestone%3A%22Ballerina+Swan+Lake+-+Alpha3%22+label%3AType%2FBug+label%3ATeam%2FLanguageServer).\n\n##### Ballerina Shell\n\n- The Ballerina Shell now supports redefining module-level definitions and variable declarations. \n\n```ballerina\n=$ int i = 3;\n=$ string j = \"Hi\";\n=$ string i = \"Hello\";  // Same variable can be redefined\n```\n\n- A new `/remove` command has been introduced to be used from within the Ballerina Shell to remove one or more declarations from the snippet memory.\n\n```ballerina\n=$ int i = 3;\n=$ string j = \"Hi\";\n=$ /remove i j\n=$ i\n| error: undefined symbol 'i'\n|       i\n|       ^\n| Compilation aborted due to errors.\n```\n\n- Ballerina Shell can now load definitions and declarations from a file. The file to load from can be specified using the `-f` or `--file` command-line options when launching the Ballerina Shell. Alternatively, the `/file` command can also be used for this purpose from within the Shell. \n\n```bash\n$ bal shell -f my_file.bal\n```\n\nThe `--force-dumb` command-line option will now have only a long option and the short option `-f` is now used to load from a file.\n\n- The Ballerina Shell now supports cyclic type definitions and list binding patterns.\n\n- The Ballerina Shell now preserves qualifiers such as the `final` qualifier of a variable declaration.\n\n##### Debugger\n\nNow, the debugger supports conditional breakpoints. Conditional expressions can be configured for Ballerina breakpoints in the VSCode debug view.\n\n#### Breaking changes\n1. `==` and `!=` equality expressions can no longer be used with variables of type `readonly`.\n2. Implicit conversion from `xml:Text` to `string` is no longer supported.\n","id":"swan-lake-alpha3"},"__N_SSG":true}