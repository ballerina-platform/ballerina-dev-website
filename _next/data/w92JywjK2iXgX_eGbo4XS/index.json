{"pageProps":{"samples":{"consuming-services":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/http;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerinax/googleapis.sheets;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> githubPAT </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> repository </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;ballerina-platform/ballerina-lang&quot;</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> sheetsAccessToken </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> spreadSheetId </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> sheetName </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Sheet1&quot;</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">PR</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> url;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> title;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> state;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> created_at;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> updated_at;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">public</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">main</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error?</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Client github </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> (</span><span style=\"color: #0A3069\">&quot;https://api.github.com/repos&quot;</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">map&lt;</span><span style=\"color: #0550AE\">string</span><span style=\"color: #CF222E\">&gt;</span><span style=\"color: #24292F\"> headers </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #0A3069\">&quot;Accept&quot;</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;application/vnd.github.v3+json&quot;</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #0A3069\">&quot;Authorization&quot;</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;token &quot;</span><span style=\"color: #24292F\"> + githubPAT</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    };</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    PR[] prs </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> github</span><span style=\"color: #CF222E\">-&gt;/</span><span style=\"color: #24292F\">[repository]</span><span style=\"color: #CF222E\">/</span><span style=\"color: #8250DF\">pulls</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">headers</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    sheets</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Client gsheets </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> ({auth</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> {token: sheetsAccessToken}});</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> gsheets</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">appendRowToSheet</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">spreadSheetId</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">sheetName</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            [</span><span style=\"color: #0A3069\">&quot;Issue&quot;</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">&quot;Title&quot;</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">&quot;State&quot;</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">&quot;Created At&quot;</span><span style=\"color: #24292F\">, </span><span style=\"color: #0A3069\">&quot;Updated At&quot;</span><span style=\"color: #24292F\">]);</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">foreach </span><span style=\"color: #0550AE\">var</span><span style=\"color: #24292F\"> {url, title, state, created_at, updated_at} </span><span style=\"color: #CF222E\">in</span><span style=\"color: #24292F\"> prs {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> gsheets</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">appendRowToSheet</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">spreadSheetId</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">sheetName</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">                [url, title, state, created_at, updated_at]);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span></code></pre>","graphql-api":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/graphql;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/http;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerinax/mysql;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerinax/mysql.driver </span><span style=\"color: #CF222E\">as</span><span style=\"color: #24292F\"> _;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> user </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> password </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> host </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> port </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> database </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> apiEndpoint </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">public</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> id;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> title;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> artist;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #24292F\"> price;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    Currency currency </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> USD;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">public</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">enum</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Currency</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">USD</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">LKR</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">EUR</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">GBP</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">service</span><span style=\"color: #24292F\"> / </span><span style=\"color: #CF222E\">on</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> graphql:Listener(</span><span style=\"color: #0550AE\">9000</span><span style=\"color: #24292F\">) {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">private</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">final</span><span style=\"color: #24292F\"> mysql</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Client db;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">private</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">final</span><span style=\"color: #24292F\"> http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Client forex;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">private</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">final</span><span style=\"color: #24292F\"> Currency baseCurrency </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> USD;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">init</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error?</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.db </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">host</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">user</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">password</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">database</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">port</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.forex </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">apiEndpoint</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">get</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">album</span><span style=\"color: #24292F\">(</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">Currency</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">currency</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">USD</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album</span><span style=\"color: #CF222E\">|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        Album album </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.db</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">queryRow</span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">`SELECT * FROM Albums WHERE id=${</span><span style=\"color: #24292F\">id</span><span style=\"color: #0A3069\">}`</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> currency </span><span style=\"color: #CF222E\">!=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.baseCurrency {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #24292F\"> rate;} exchange </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.forex</span><span style=\"color: #CF222E\">-&gt;/</span><span style=\"color: #8250DF\">currencyConversion</span><span style=\"color: #24292F\">(&#39;from </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.baseCurrency, </span><span style=\"color: #953800\">to</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> currency);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            album.price </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> album.price </span><span style=\"color: #CF222E\">*</span><span style=\"color: #24292F\"> exchange.rate;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            album.currency </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> currency;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> album;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span></code></pre>","grpc-api-proto":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">syntax </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;proto3&quot;</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> &quot;google/protobuf/wrappers.proto&quot;;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> &quot;google/protobuf/empty.proto&quot;;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">service</span><span style=\"color: #24292F\"> Albums {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    rpc </span><span style=\"color: #8250DF\">getAlbum</span><span style=\"color: #24292F\">(google.protobuf.StringValue)</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    rpc </span><span style=\"color: #8250DF\">addAlbum</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    rpc </span><span style=\"color: #8250DF\">listAlbums</span><span style=\"color: #24292F\">(google.protobuf.Empty)</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">stream</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">message Album {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> id </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">1</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> title </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">2</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> artist </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">3</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">float</span><span style=\"color: #24292F\"> price </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">4</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span></code></pre>","grpc-api":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/grpc;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> port </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">9090</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">Album[] albums </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> [</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    {id</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;1&quot;</span><span style=\"color: #24292F\">, title</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Blue Train&quot;</span><span style=\"color: #24292F\">, artist</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;John Coltrane&quot;</span><span style=\"color: #24292F\">, price</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">56.99</span><span style=\"color: #24292F\">},</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    {id</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;2&quot;</span><span style=\"color: #24292F\">, title</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Jeru&quot;</span><span style=\"color: #24292F\">, artist</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Gerry Mulligan&quot;</span><span style=\"color: #24292F\">, price</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">17.99</span><span style=\"color: #24292F\">},</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    {id</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;3&quot;</span><span style=\"color: #24292F\">, title</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;No Count Sarah&quot;</span><span style=\"color: #24292F\">, artist</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Sarah Vaughan&quot;</span><span style=\"color: #24292F\">, price</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">39.99</span><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">@</span><span style=\"color: #0550AE\">grpc</span><span style=\"color: #24292F\">:</span><span style=\"color: #0550AE\">Descriptor</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    value</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> DESCRIPTOR_RECORD_STORE</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">service</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Albums&quot;</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">on</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> grpc:Listener(</span><span style=\"color: #953800\">port</span><span style=\"color: #24292F\">) {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">remote</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">getAlbum</span><span style=\"color: #24292F\">(</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album</span><span style=\"color: #CF222E\">|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        Album[] filteredAlbums </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> albums.</span><span style=\"color: #8250DF\">filter</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">album</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">=&gt;</span><span style=\"color: #24292F\"> album.id </span><span style=\"color: #CF222E\">==</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> filteredAlbums.</span><span style=\"color: #8250DF\">length</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">&gt;</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">0</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> filteredAlbums.</span><span style=\"color: #8250DF\">pop</span><span style=\"color: #24292F\">();</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error</span><span style=\"color: #24292F\"> grpc</span><span style=\"color: #CF222E\">:</span><span style=\"color: #8250DF\">NotFoundError</span><span style=\"color: #24292F\">(</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">`Cannot find the album for ID ${</span><span style=\"color: #24292F\">id</span><span style=\"color: #0A3069\">}`</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">remote</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">addAlbum</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">album</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album</span><span style=\"color: #CF222E\">|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        albums.</span><span style=\"color: #8250DF\">push</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">album</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> album;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">remote</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">listAlbums</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">stream&lt;</span><span style=\"color: #24292F\">Album, </span><span style=\"color: #CF222E\">error?&gt;|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> albums.</span><span style=\"color: #8250DF\">toStream</span><span style=\"color: #24292F\">();</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span></code></pre>","kafka-consumer-producer":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerinax/kafka;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> groupId </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;order-consumers&quot;</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> orders </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;orders&quot;</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> paymentSuccessOrders </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;payment-success-orders&quot;</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #24292F\"> pollingInterval </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">1</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> kafkaEndpoint </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> kafka</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">DEFAULT_URL;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">public</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Order</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">readonly</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">&amp;</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span><span style=\"color: #CF222E\">|</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> id;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> desc;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    PaymentStatus paymentStatus;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">public</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">enum</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">PaymentStatus</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">SUCCESS</span><span style=\"color: #24292F\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">FAIL</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">final</span><span style=\"color: #24292F\"> kafka</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">ConsumerConfiguration consumerConfigs </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    groupId</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> groupId,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    topics</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> [orders],</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    offsetReset</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> kafka:OFFSET_RESET_EARLIEST,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    pollingInterval</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">service</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">on</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> kafka:Listener(</span><span style=\"color: #953800\">kafkaEndpoint</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">consumerConfigs</span><span style=\"color: #24292F\">) {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">private</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">final</span><span style=\"color: #24292F\"> kafka</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Producer orderProducer;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">init</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error?</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.orderProducer </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">kafkaEndpoint</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">remote</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">onConsumerRecord</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">Order</span><span style=\"color: #24292F\">[] </span><span style=\"color: #953800\">orders</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error?</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> Order &#39;order </span><span style=\"color: #CF222E\">in</span><span style=\"color: #24292F\"> orders</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">where</span><span style=\"color: #24292F\"> &#39;order.paymentStatus </span><span style=\"color: #CF222E\">==</span><span style=\"color: #24292F\"> SUCCESS</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">do</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">                </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.orderProducer</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">send</span><span style=\"color: #24292F\">({</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">                    topic</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> paymentSuccessOrders,</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">                    value</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> &#39;order</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">                });</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            };</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span></code></pre>","restful-api":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/http;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> port </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">8080</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">readonly</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">&amp;</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span><span style=\"color: #CF222E\">|</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> id;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> title;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> artist;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #24292F\"> price;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">table&lt;</span><span style=\"color: #24292F\">Album</span><span style=\"color: #CF222E\">&gt;</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">key</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">) albums </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">table</span><span style=\"color: #24292F\"> [</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        {id</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;1&quot;</span><span style=\"color: #24292F\">, title</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Blue Train&quot;</span><span style=\"color: #24292F\">, artist</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;John Coltrane&quot;</span><span style=\"color: #24292F\">, price</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">56.99</span><span style=\"color: #24292F\">},</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        {id</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;2&quot;</span><span style=\"color: #24292F\">, title</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Jeru&quot;</span><span style=\"color: #24292F\">, artist</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Gerry Mulligan&quot;</span><span style=\"color: #24292F\">, price</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">17.99</span><span style=\"color: #24292F\">},</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        {id</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;3&quot;</span><span style=\"color: #24292F\">, title</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Sarah Vaughan and Clifford Brown&quot;</span><span style=\"color: #24292F\">, artist</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0A3069\">&quot;Sarah Vaughan&quot;</span><span style=\"color: #24292F\">, price</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">39.99</span><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    ];</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">service</span><span style=\"color: #24292F\"> / </span><span style=\"color: #CF222E\">on</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> http:Listener(</span><span style=\"color: #953800\">port</span><span style=\"color: #24292F\">) {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">get</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">albums</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album[] {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> albums.</span><span style=\"color: #8250DF\">toArray</span><span style=\"color: #24292F\">();</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">get</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">albums</span><span style=\"color: #24292F\">/[</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">]() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album</span><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\">http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">NotFound {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        Album</span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\"> album </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> albums[id];</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> album </span><span style=\"color: #CF222E\">is</span><span style=\"color: #24292F\"> () {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">NOT_FOUND;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        } </span><span style=\"color: #CF222E\">else</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> album;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">post</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">albums</span><span style=\"color: #24292F\">(@</span><span style=\"color: #0550AE\">http</span><span style=\"color: #24292F\">:</span><span style=\"color: #0550AE\">Payload</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">album</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        albums.</span><span style=\"color: #8250DF\">add</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">album</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> album;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span></code></pre>","working-with-data":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/http;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/io;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Country</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> country;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> population;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> continent;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> cases;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> deaths;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #6E7781\">// Prints the top 10 countries having the highest case-fatality ratio.</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">public</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">main</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error?</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Client diseaseEp </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> (</span><span style=\"color: #0A3069\">&quot;https://disease.sh/v3&quot;</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    Country[] countries </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> diseaseEp</span><span style=\"color: #CF222E\">-&gt;/</span><span style=\"color: #24292F\">covid\\</span><span style=\"color: #CF222E\">-</span><span style=\"color: #0550AE\">19</span><span style=\"color: #CF222E\">/</span><span style=\"color: #24292F\">countries;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">json</span><span style=\"color: #24292F\"> summary </span><span style=\"color: #CF222E\">=</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">var</span><span style=\"color: #24292F\"> {country, continent, population, cases, deaths} </span><span style=\"color: #CF222E\">in</span><span style=\"color: #24292F\"> countries</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">where</span><span style=\"color: #24292F\"> population </span><span style=\"color: #CF222E\">&gt;=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">100000</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">&amp;&amp;</span><span style=\"color: #24292F\"> deaths </span><span style=\"color: #CF222E\">&gt;=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">100</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">let</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #24292F\"> caseFatalityRatio </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">&lt;</span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #CF222E\">&gt;</span><span style=\"color: #24292F\">deaths </span><span style=\"color: #CF222E\">/</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">&lt;</span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #CF222E\">&gt;</span><span style=\"color: #24292F\">cases </span><span style=\"color: #CF222E\">*</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">100</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">order</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">by</span><span style=\"color: #24292F\"> caseFatalityRatio </span><span style=\"color: #CF222E\">descending</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">limit</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">10</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">select</span><span style=\"color: #24292F\"> {country, continent, population, caseFatalityRatio};</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    io</span><span style=\"color: #CF222E\">:</span><span style=\"color: #8250DF\">println</span><span style=\"color: #24292F\">(</span><span style=\"color: #953800\">summary</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span></code></pre>","working-with-databases":"<pre class=\"shiki github-light\" style=\"background-color: #ffffff\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/http;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerina/sql;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerinax/mysql;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">import</span><span style=\"color: #24292F\"> ballerinax/mysql.driver </span><span style=\"color: #CF222E\">as</span><span style=\"color: #24292F\"> _;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> host </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">int</span><span style=\"color: #24292F\"> port </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> user </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> password </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">configurable</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> database </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">?</span><span style=\"color: #24292F\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">type</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">record</span><span style=\"color: #24292F\"> {</span><span style=\"color: #CF222E\">|</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> id;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> title;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> artist;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #0550AE\">decimal</span><span style=\"color: #24292F\"> price;</span></span>\n<span class=\"line\"><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\">};</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #CF222E\">service</span><span style=\"color: #24292F\"> / </span><span style=\"color: #CF222E\">on</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> http:Listener(</span><span style=\"color: #0550AE\">8080</span><span style=\"color: #24292F\">) {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">private</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">final</span><span style=\"color: #24292F\"> mysql</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Client db;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">init</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">error?</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.db </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">new</span><span style=\"color: #24292F\"> (</span><span style=\"color: #953800\">host</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">user</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">password</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">database</span><span style=\"color: #24292F\">, </span><span style=\"color: #953800\">port</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">get</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">albums</span><span style=\"color: #24292F\">() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album[]</span><span style=\"color: #CF222E\">|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">stream&lt;</span><span style=\"color: #24292F\">Album, sql</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Error?</span><span style=\"color: #CF222E\">&gt;</span><span style=\"color: #24292F\"> albumStream </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.db</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">query</span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">`SELECT * FROM Albums`</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">from</span><span style=\"color: #24292F\"> Album album </span><span style=\"color: #CF222E\">in</span><span style=\"color: #24292F\"> albumStream </span><span style=\"color: #CF222E\">select</span><span style=\"color: #24292F\"> album;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">get</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">albums</span><span style=\"color: #24292F\">/[</span><span style=\"color: #0550AE\">string</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">id</span><span style=\"color: #24292F\">]() </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album</span><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\">http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">NotFound</span><span style=\"color: #CF222E\">|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        Album</span><span style=\"color: #CF222E\">|</span><span style=\"color: #24292F\">sql</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">Error result </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.db</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">queryRow</span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">`SELECT * FROM Albums WHERE id = ${</span><span style=\"color: #24292F\">id</span><span style=\"color: #0A3069\">}`</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">if</span><span style=\"color: #24292F\"> result </span><span style=\"color: #CF222E\">is</span><span style=\"color: #24292F\"> sql</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">NoRowsError {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> http</span><span style=\"color: #CF222E\">:</span><span style=\"color: #24292F\">NOT_FOUND;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        } </span><span style=\"color: #CF222E\">else</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">            </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> result;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #24292F\">    </span><span style=\"color: #CF222E\">resource</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">function</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">post</span><span style=\"color: #24292F\"> </span><span style=\"color: #8250DF\">album</span><span style=\"color: #24292F\">(@</span><span style=\"color: #0550AE\">http</span><span style=\"color: #24292F\">:</span><span style=\"color: #0550AE\">Payload</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">Album</span><span style=\"color: #24292F\"> </span><span style=\"color: #953800\">album</span><span style=\"color: #24292F\">) </span><span style=\"color: #CF222E\">returns</span><span style=\"color: #24292F\"> Album</span><span style=\"color: #CF222E\">|error</span><span style=\"color: #24292F\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        _ </span><span style=\"color: #CF222E\">=</span><span style=\"color: #24292F\"> </span><span style=\"color: #CF222E\">check</span><span style=\"color: #24292F\"> </span><span style=\"color: #0550AE\">self</span><span style=\"color: #24292F\">.db</span><span style=\"color: #CF222E\">-&gt;</span><span style=\"color: #8250DF\">execute</span><span style=\"color: #24292F\">(</span><span style=\"color: #0A3069\">`</span></span>\n<span class=\"line\"><span style=\"color: #0A3069\">            INSERT INTO Albums (id, title, artist, price)</span></span>\n<span class=\"line\"><span style=\"color: #0A3069\">            VALUES (${</span><span style=\"color: #24292F\">album</span><span style=\"color: #0A3069\">.</span><span style=\"color: #24292F\">id</span><span style=\"color: #0A3069\">}, ${</span><span style=\"color: #24292F\">album</span><span style=\"color: #0A3069\">.</span><span style=\"color: #24292F\">title</span><span style=\"color: #0A3069\">}, ${</span><span style=\"color: #24292F\">album</span><span style=\"color: #0A3069\">.</span><span style=\"color: #24292F\">artist</span><span style=\"color: #0A3069\">}, ${</span><span style=\"color: #24292F\">album</span><span style=\"color: #0A3069\">.</span><span style=\"color: #24292F\">price</span><span style=\"color: #0A3069\">});`</span><span style=\"color: #24292F\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">        </span><span style=\"color: #CF222E\">return</span><span style=\"color: #24292F\"> album;</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292F\">}</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"></span></code></pre>"}},"__N_SSG":true}