{"pageProps":{"tagline":"Connects an application to a messaging channel","desc":"Message Endpoint is a client of the messaging channel. It abstracts the details of communication to the application.","category":"Messaging Systems","index":5,"helps":"Ballerina supports a rich set of libraries that abstract various messaging protocols (such as HTTP, gRPC, and Kafka) and provides a `Client` interface that acts as a message endpoint.","link":"https://www.enterpriseintegrationpatterns.com/patterns/messaging/MessageEndpoint.html","tags":["Message Endpoint","Message Channel"],"content":[{"headerCode":"<pre class=\"shiki github-light\" style=\"background-color: #fff\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #D73A49\">import</span><span style=\"color: #24292E\"> ballerina/http;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D73A49\">type</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\">Currency</span><span style=\"color: #24292E\"> </span><span style=\"color: #032F62\">&quot;AUD&quot;</span><span style=\"color: #D73A49\">|</span><span style=\"color: #032F62\">&quot;INR&quot;</span><span style=\"color: #D73A49\">|</span><span style=\"color: #032F62\">&quot;BGP&quot;</span><span style=\"color: #24292E\">;</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D73A49\">final</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">readonly</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">&amp;</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">map&lt;</span><span style=\"color: #005CC5\">decimal</span><span style=\"color: #D73A49\">&gt;</span><span style=\"color: #24292E\"> rates </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #032F62\">&quot;AUD&quot;</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">1.59</span><span style=\"color: #24292E\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #032F62\">&quot;INR&quot;</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">83.24</span><span style=\"color: #24292E\">,</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #032F62\">&quot;GBP&quot;</span><span style=\"color: #D73A49\">:</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">0.83</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">};</span></span>\n<span class=\"line\"></span></code></pre>","mainCode":"<pre class=\"shiki github-light\" style=\"background-color: #fff\" tabindex=\"0\"><code><span class=\"line\"></span>\n<span class=\"line\"><span style=\"color: #D73A49\">service</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\">/api/v1/rates</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">on</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">new</span><span style=\"color: #24292E\"> http:Listener(</span><span style=\"color: #005CC5\">8080</span><span style=\"color: #24292E\">) {</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    </span><span style=\"color: #D73A49\">isolated</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">resource</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">function</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\">get</span><span style=\"color: #24292E\"> </span><span style=\"color: #6F42C1\">covert</span><span style=\"color: #24292E\">(</span><span style=\"color: #E36209\">Currency</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\">base</span><span style=\"color: #24292E\">, </span><span style=\"color: #E36209\">Currency</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\">target</span><span style=\"color: #24292E\">, </span><span style=\"color: #005CC5\">decimal</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\">amount</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">1.00</span><span style=\"color: #24292E\">) </span><span style=\"color: #D73A49\">returns</span><span style=\"color: #24292E\"> </span><span style=\"color: #005CC5\">decimal</span><span style=\"color: #24292E\"> {</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">        </span><span style=\"color: #005CC5\">decimal</span><span style=\"color: #24292E\"> baseUsdValue </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> rates.</span><span style=\"color: #6F42C1\">get</span><span style=\"color: #24292E\">(</span><span style=\"color: #E36209\">base</span><span style=\"color: #24292E\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">        </span><span style=\"color: #005CC5\">decimal</span><span style=\"color: #24292E\"> targetUsdValue </span><span style=\"color: #D73A49\">=</span><span style=\"color: #24292E\"> rates.</span><span style=\"color: #6F42C1\">get</span><span style=\"color: #24292E\">(</span><span style=\"color: #E36209\">target</span><span style=\"color: #24292E\">);</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">        </span><span style=\"color: #D73A49\">return</span><span style=\"color: #24292E\"> (</span><span style=\"color: #E36209\">targetUsdValue</span><span style=\"color: #24292E\"> </span><span style=\"color: #D73A49\">/</span><span style=\"color: #24292E\"> </span><span style=\"color: #E36209\">baseUsdValue</span><span style=\"color: #24292E\">) </span><span style=\"color: #D73A49\">*</span><span style=\"color: #24292E\"> amount;</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">    }</span></span>\n<span class=\"line\"><span style=\"color: #24292E\">}</span></span>\n<span class=\"line\"></span></code></pre>","raw":"import ballerina/http;\n\ntype Currency \"AUD\"|\"INR\"|\"BGP\";\n\nfinal readonly & map<decimal> rates = {\n    \"AUD\": 1.59,\n    \"INR\": 83.24,\n    \"GBP\": 0.83\n};\n\nservice /api/v1/rates on new http:Listener(8080) {\n    isolated resource function get covert(Currency base, Currency target, decimal amount = 1.00) returns decimal {\n        decimal baseUsdValue = rates.get(base);\n        decimal targetUsdValue = rates.get(target);\n        return (targetUsdValue / baseUsdValue) * amount;\n    }\n}\n","name":"message-endpoint.bal"}],"name":" Message Endpoint"},"__N_SSG":true}