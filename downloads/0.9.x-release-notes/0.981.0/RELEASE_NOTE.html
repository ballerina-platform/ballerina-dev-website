<div class="release_notes">
<h1>Overview to Ballerina 0.981.0</h1>
<p>This release has considered about further stabilizing previous release with bug fixing effort. Apart from that there is a major improvement on Websocket standard library with the introduction of supporting union type for <code>pushText()</code> and multiple type support for <code>onText()</code> functions. Also there are few language syntax changes.</p>
<h1>Compatibility and Support</h1>
<p>The <code>native</code> keyword has been changed to <code>extern</code> due to Ballerina moving towards a model of native compilation. With this model, code will be an external library and everything is native. Libraries can be written or not written in Ballerina.</p>
<p>Old syntax:</p>
<pre class="line-numbers language-ballerina"><code class="language-ballerina">public native function string::toUpper() returns string;
</code></pre>

<p>New syntax:</p>
<pre class="line-numbers language-ballerina"><code class="language-ballerina">public extern function string::toUpper() returns string;
</code></pre>

<h1>Improvements</h1>
<h2>Language &amp; Runtime</h2>
<ul>
<li>Bitwise complement (~) operator inverts the bits of its operand expression. The static type of the operand must be int, and the static type of the result is an int.</li>
</ul>
<pre class="line-numbers language-ballerina"><code class="language-ballerina">int i = 387465;
int j = ~i;
</code></pre>

<ul>
<li>Introduce index based access for tuples. Elements of a tuple type can now be accessed via indexes as follows:</li>
</ul>
<pre class="line-numbers language-ballerina"><code class="language-ballerina">(boolean, int, string) x = (true, 3, &quot;abc&quot;);
boolean tempBool = x[0];
string tempString = x[2];
x[1] = 4;
</code></pre>

<h2>Standard Library</h2>
<ul>
<li>
<p><strong>WebSocket</strong></p>
</li>
<li>
<p>The <code>pushText</code> function takes a union type instead of a string type. The new signature is as follows: </p>
</li>
</ul>
<pre class="line-numbers language-ballerina"><code class="language-ballerina">public function pushText(string|json|xml|boolean|int|float|byte|byte[] data, boolean final = true) returns error? 
</code></pre>

<ul>
<li>The <code>onText</code> function can take a string, JSON, XML, record, or byte[] types instead of only string. The <code>onText</code> signature can be any one of the following:</li>
</ul>
<pre class="line-numbers language-ballerina"><code class="language-ballerina">onText(endpoint caller, string text, boolean final)
onText(endpoint caller, json jsonVal)
onText(endpoint caller, xml xmlVal)
onText(endpoint caller, Person person)
onText(endpoint caller, byte[] data)
</code></pre>

<blockquote>
<p><strong>Note</strong>: In the above code snippet, Person is a record type.</p>
</blockquote>
<p>For all values except for string type, the values are aggregated if a continuation frame is received. Hence the value of final is not relevant in the case of other types except string.</p>
<h2>IDEs &amp; Language Server</h2>
<h3>Composer</h3>
<ul>
<li>Sealed types source generation support.</li>
</ul>
<h3>Language Server</h3>
<ul>
<li>Nil lifting completion support.</li>
</ul>
<h1>Bug Fixes</h1>
<p>Please see <a href="https://github.com/ballerina-platform/ballerina-lang/issues?q=is%3Aissue+milestone%3A0.981.0+is%3Aclosed+label%3AType%2FBug">Github milestone</a> for bug fixes.</p>
<h1>Getting Started</h1>
<p>You can download the Ballerina distributions, try samples, and read the documentation at https://ballerina.io. You can also visit the [Quick Tour] (https://ballerina.io/learn/quick-tour/) to get started. We encourage you to report issues, improvements, and suggestions at the <a href="https://github.com/ballerina-platform/ballerina-lang">Ballerina Github Repository</a>.</p>
</div>