<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="The health tool generates accelerators for developing healthcare integrations in Ballerina."/><meta name="keywords" content="ballerina, programming language, health, contract"/><title>Health tool (FHIR/HL7)</title><meta property="og:type" content="article"/><meta property="og:title" content="Ballerina - Health tool (FHIR/HL7)"/><meta property="og:description" content="The health tool generates accelerators for developing healthcare integrations in Ballerina."/><meta property="og:description" content="The health tool generates accelerators for developing healthcare integrations in Ballerina."/><meta name="twitter:title" content="Ballerina - Health tool (FHIR/HL7)"/><meta property="twitter:description" content="The health tool generates accelerators for developing healthcare integrations in Ballerina."/><meta property="twitter:text:description" content="The health tool generates accelerators for developing healthcare integrations in Ballerina."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="22"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/84d63cd5841d26da.css" as="style"/><link rel="stylesheet" href="/_next/static/css/84d63cd5841d26da.css" data-n-g=""/><link rel="preload" href="/_next/static/css/95db1c06d9f84932.css" as="style"/><link rel="stylesheet" href="/_next/static/css/95db1c06d9f84932.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-5253930864c55d75.js" defer=""></script><script src="/_next/static/chunks/framework-a070cbfff3c750c5.js" defer=""></script><script src="/_next/static/chunks/main-a66eb456a358e5ca.js" defer=""></script><script src="/_next/static/chunks/pages/_app-dd55adbd3efd9c19.js" defer=""></script><script src="/_next/static/chunks/9733-caeb053dcf01b5fd.js" defer=""></script><script src="/_next/static/chunks/6599-9963ddbd9dc78df5.js" defer=""></script><script src="/_next/static/chunks/2788-7f829084e4503c21.js" defer=""></script><script src="/_next/static/chunks/5607-2558859a3efb47ff.js" defer=""></script><script src="/_next/static/chunks/4862-0277ec1334e5346a.js" defer=""></script><script src="/_next/static/chunks/2092-643ce819261b95c6.js" defer=""></script><script src="/_next/static/chunks/4564-079435fb4878d182.js" defer=""></script><script src="/_next/static/chunks/5795-c59bab88fcc5a40c.js" defer=""></script><script src="/_next/static/chunks/7635-cf1d056e644b6f98.js" defer=""></script><script src="/_next/static/chunks/3404-827c3694de3e711d.js" defer=""></script><script src="/_next/static/chunks/pages/learn/integration-technology-tools/%5B...slug%5D-60bd119064441d44.js" defer=""></script><script src="/_next/static/dT7wIIgWi37CTYOfjcyQJ/_buildManifest.js" defer=""></script><script src="/_next/static/dT7wIIgWi37CTYOfjcyQJ/_ssgManifest.js" defer=""></script><script src="/_next/static/dT7wIIgWi37CTYOfjcyQJ/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper vstack gap-0"><div class="wrap-page-content container-fluid"><div class="row"><div class="leftNav d-none d-sm-block col-xxl-2 col-sm-3"><div class="LeftNav_leftNavAccordian__i9BmP accordion accordion-flush"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="why-ballerina" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Why Ballerina</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="cloud-native" href="/why-ballerina/cloud-native">Cloud native</a></li><li><a id="flexibly-typed" href="/why-ballerina/flexibly-typed">Flexibly typed</a></li><li><a id="data-oriented" href="/why-ballerina/data-oriented">Data oriented</a></li><li><a id="graphical" href="/why-ballerina/graphical">Graphical</a></li><li><a id="concurrent" href="/why-ballerina/concurrent">Concurrent</a></li><li><a id="reliable-maintainable" href="/why-ballerina/reliable-maintainable">Reliable, maintainable</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="get-started" class="LeftNav_mainDir__aO30Y accordion-header"><button class="LeftNav_nonAcBtn__RvVTg">Get started</button></h2></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="learn-the-language" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Learn the language</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="language-basics" href="/learn/language-basics">Language basics</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="distinctive-language-features" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Distinctive language features</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="network-interaction" href="/learn/distinctive-language-features/network-interaction">Network interaction</a></li><li><a id="data" href="/learn/distinctive-language-features/data">Data</a></li><li><a id="concurrency" href="/learn/distinctive-language-features/concurrency">Concurrency </a></li><li><a id="advanced-general-purpose-language-features" href="/learn/distinctive-language-features/advanced-general-purpose-language-features">Advanced, general-purpose language features</a></li></div></ul></div></div></div><li><a id="language-walkthrough" href="/learn/language-walkthrough">Language walkthrough</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="featured-scenarios" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Featured scenarios</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="write-a-restful-api-with-ballerina" href="/learn/write-a-restful-api-with-ballerina">Write a RESTful API with Ballerina</a></li><li><a id="write-a-grpc-service-with-ballerina" href="/learn/write-a-grpc-service-with-ballerina">Write a gRPC service with Ballerina</a></li><li><a id="write-a-graphql-api-with-ballerina" href="/learn/write-a-graphql-api-with-ballerina">Write a GraphQL API with Ballerina</a></li><li><a id="work-with-data-using-queries-in-ballerina" href="/learn/work-with-data-using-queries-in-ballerina">Work with data using queries in Ballerina</a></li><li><a id="build-a-data-service-in-ballerina" href="/learn/build-a-data-service-in-ballerina">Build a data service in Ballerina </a></li><li><a id="deploy-ballerina-on-kubernetes" href="/learn/deploy-ballerina-on-kubernetes">Deploy Ballerina on Kubernetes</a></li><li><a id="manage-data-persistence-with-bal-persist" href="/learn/manage-data-persistence-with-bal-persist">Manage data persistence with bal persist</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="learn-the-platform" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Learn the platform</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="source-code-dependencies" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Source code &amp; dependencies</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="organize-ballerina-code" href="/learn/organize-ballerina-code">Organize Ballerina code</a></li><li><a id="package-references" href="/learn/package-references">Package references</a></li><li><a id="manage-dependencies" href="/learn/manage-dependencies">Manage dependencies</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="style-guide" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Style guide</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="coding-conventions" href="/learn/style-guide/coding-conventions">Coding conventions</a></li><li><a id="top-level-definitions" href="/learn/style-guide/top-level-definitions">Top-level definitions</a></li><li><a id="operators-keywords-and-types" href="/learn/style-guide/operators-keywords-and-types">Operators, keywords, and types</a></li><li><a id="statements" href="/learn/style-guide/statements">Statements</a></li><li><a id="expressions" href="/learn/style-guide/expressions">Expressions</a></li><li><a id="annotations-documentation-and-comments" href="/learn/style-guide/annotations-documentation-and-comments">Annotations, documentation and comments</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="test-document-the-code" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Test, debug &amp; document the code</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="test-ballerina-code" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Test Ballerina code</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="test-a-simple-function" href="/learn/test-ballerina-code/test-a-simple-function">Test a simple function</a></li><li><a id="write-tests" href="/learn/test-ballerina-code/write-tests">Write tests</a></li><li><a id="structure-tests" href="/learn/test-ballerina-code/structure-tests">Structure tests</a></li><li><a id="configure-tests" href="/learn/test-ballerina-code/configure-tests">Configure tests</a></li><li><a id="code-coverage-and-reporting" href="/learn/test-ballerina-code/code-coverage-and-reporting">Code coverage and reporting</a></li><li><a id="define-data-driven-tests" href="/learn/test-ballerina-code/define-data-driven-tests">Define data-driven tests</a></li><li><a id="define-test-groups" href="/learn/test-ballerina-code/define-test-groups">Define test groups</a></li><li><a id="test-services-and-clients" href="/learn/test-ballerina-code/test-services-and-clients">Test services and clients</a></li><li><a id="mocking" href="/learn/test-ballerina-code/mocking">Mocking</a></li><li><a id="execute-tests" href="/learn/test-ballerina-code/execute-tests">Execute tests</a></li></div></ul></div></div></div><li><a id="debug-ballerina-programs" href="/learn/debug-ballerina-programs">Debug Ballerina programs</a></li><li><a id="generate-code-documentation" href="/learn/generate-code-documentation">Generate code documentation</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="run-in-the-cloud" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Run in the cloud</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="code-to-cloud-deployment" href="/learn/run-in-the-cloud/code-to-cloud-deployment">Code to cloud deployment</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="function-as-a-service" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Function as a service</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="aws-lambda" href="/learn/run-in-the-cloud/function-as-a-service/aws-lambda">AWS Lambda</a></li><li><a id="azure-functions" href="/learn/run-in-the-cloud/function-as-a-service/azure-functions">Azure Functions</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="configure-observe" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Configure &amp; observe</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="configure-ballerina-programs" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Configure Ballerina programs</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="configure-a-sample-ballerina-service" href="/learn/configure-ballerina-programs/configure-a-sample-ballerina-service">Configure a sample Ballerina service</a></li><li><a id="provide-values-to-configurable-variables" href="/learn/configure-ballerina-programs/provide-values-to-configurable-variables">Provide values to configurable variables</a></li><li><a id="configure-values" href="/learn/configure-ballerina-programs/configure-values">Configure values </a></li></div></ul></div></div></div><li><a id="observe-ballerina-programs" href="/learn/observe-ballerina-programs">Observe Ballerina Programs</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="java-interoperability" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Java interoperability</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="call-java-code-from-ballerina" href="/learn/call-java-code-from-ballerina">Call Java code from Ballerina</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="java-interoperability-guide" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Java interoperability guide</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="java-interoperability" href="/learn/java-interoperability-guide/java-interoperability">Java interoperability</a></li><li><a id="the-bindgen-tool" href="/learn/java-interoperability-guide/the-bindgen-tool">The Bindgen Tool</a></li><li><a id="ballerina-ffi" href="/learn/java-interoperability-guide/ballerina-ffi">Ballerina FFI</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="ballerina-tooling" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Ballerina tooling</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="ballerina-shell" href="/learn/ballerina-shell">Ballerina Shell</a></li><li><a id="openapi-tool" href="/learn/openapi-tool">OpenAPI tool</a></li><li><a id="graphql-tool" href="/learn/graphql-tool">GraphQL tool</a></li><li><a id="asyncapi-tool" href="/learn/asyncapi-tool">AsyncAPI tool</a></li><li><a id="strand-dump-tool" href="/learn/strand-dump-tool">Strand dump tool</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="cli-documentation" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">CLI documentation</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="cli-commands" href="/learn/cli-documentation/cli-commands">CLI commands</a></li><li><a id="update-tool" href="/learn/cli-documentation/update-tool">Update Tool</a></li><li><a id="grpc" href="/learn/cli-documentation/grpc">gRPC/Protocol Buffers</a></li><li><a id="openapi" href="/learn/cli-documentation/openapi">OpenAPI </a></li><li><a id="graphql" href="/learn/cli-documentation/graphql">GraphQL</a></li><li><a id="asyncapi" href="/learn/cli-documentation/asyncapi">AsyncAPI</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="ballerina-persist" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Bal persist</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="bal-persist-overview" href="/learn/bal-persist-overview">Overview</a></li><li><a id="persist-model" href="/learn/persist-model">Data model</a></li><li><a id="persist-cli-tool" href="/learn/persist-cli-tool">CLI tool</a></li><li><a id="persist-client-api" href="/learn/persist-client-api">Type-safe client API</a></li><li><a id="supported-data-stores" href="/learn/supported-data-stores">Supported data stores</a></li></div></ul></div></div></div><li><a id="publish-packages-to-ballerina-central" href="/learn/publish-packages-to-ballerina-central">Publish packages to Ballerina Central</a></li><li><a id="ballerina-specifications" href="/learn/ballerina-specifications">Ballerina specifications</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="graalvm-executable" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Build a GraalVM executable</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="graalvm-executable-overview" href="/learn/graalvm-executable-overview">GraalVM executable overview</a></li><li><a id="build-the-executable-in-a-container" href="/learn/build-the-executable-in-a-container">Build the executable in a container</a></li><li><a id="build-the-executable-locally" href="/learn/build-the-executable-locally/">Build the executable locally</a></li></div></ul></div></div></div></div></ul></div></div></div></div></div><div class="d-block d-sm-none col-12"><button type="button" class="learnMob btn btn-primary">Learn</button></div><div class="mdContent col-xxl-7 col-sm-7 col-12"><div class="container"><div class="topRow"><div class="col-11"><h1>Health tool (FHIR/HL7)</h1></div><div class="gitIcon col-1"><a href="https://github.com/ballerina-platform/ballerina-dev-website/blob/master/swan-lake/integration-technology-tools/health-tool.md" target="_blank" rel="noreferrer" title="Edit in GitHub"></a></div></div><p class="intro">The health tool generates accelerators for developing healthcare integrations in Ballerina.</p><p>The Health tool can generate accelerators primarily focussed on the <a href="https://www.hl7.org/fhir/overview.html" target="_blank">Fast Healthcare Interoperability Resources (FHIR)</a> standard. The Health tool is supported from Ballerina Swan Lake version 2201.7.0 onwards.</p>
<h2 id="ballerina-fhir-package-generator" data-section="ballerina-fhir-package-generator" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Ballerina FHIR package generator</h2>
<p>This tool generates a Ballerina package for a given FHIR implementation guide. The FHIR resources in the implementation guide will be represented as Ballerina records including the correct cardinality constraints and metadata.</p>
<p>FHIR integration developers can leverage the generated package when transforming custom health data into FHIR format without referring to the specification.</p>
<h2 id="prerequisites" data-section="prerequisites" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Prerequisites</h2>
<ul>
<li>
<p><a href="https://ballerina.io/downloads/" target="_blank">Ballerina 2201.7.0 (Swan Lake Update 7)</a></p>
</li>
<li>
<p>A directory containing all FHIR specification definition files. You can download a preferred standard implementation guide from the <a href="http://fhir.org/guides/registry/" target="_blank">FHIR Implementation Guide registry</a></p>
<blockquote>
<p><strong>Note:</strong> It is recommended to use the STU version of the implementation guides. Make sure that the downloaded specification archive has the <code>StructureDefinition</code>, <code>ValueSet</code>, and <code>CodeSystem</code> files for the Implementation Guide (IG) resources when extracted.</p>
</blockquote>
</li>
</ul>
<h2 id="available-parameters" data-section="available-parameters" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Available parameters</h2>
<p>The parameters that are available with the tool are listed below.</p>








































<div class="mdTable"><table><thead><tr><th>Parameter</th><th>Description</th><th>Mandatory/Optional</th></tr></thead><tbody><tr><td><code>-m, --mode</code></td><td>Mode can be <code>package</code>. If <code>mode</code> is set to <code>package</code>, a Ballerina package will be generated including all the records and types. New modes will be added in future releases.</td><td>mandatory</td></tr><tr><td><code>-o, --output</code></td><td>Location of the generated Ballerina artifacts. If this path is not specified, the output will be written to the same directory from which the command is run.</td><td>optional</td></tr><tr><td><code>--package-name</code></td><td>Name of the Ballerina package to be generated. The package name can be explicitly set using this argument. Unless specified, the default name of the implementation guide will be taken to construct the name of the package. For more information, see <a href="https://ballerina.io/learn/package-references/#the-name-field" target="_blank">the <code>name</code> field</a>.</td><td>optional</td></tr><tr><td><code>--org-name</code></td><td>Organization name of the Ballerina package to be generated. For more information, see <a href="https://ballerina.io/learn/package-references/#the-org-field" target="_blank"> the <code>org</code> field</a>.</td><td>optional</td></tr><tr><td><code>-v, --version</code></td><td>Print the version information of the Health tool.</td><td>optional</td></tr><tr><td><code>-h, --help</code></td><td>Print the usage details of the Health tool.</td><td>optional</td></tr></tbody></table></div>
<h2 id="example" data-section="example" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Example</h2>
<p>Follow the steps below to try out an example of using the Health tool.</p>
<ol>
<li>
<p>Pull the Health tool from Ballerina Central.</p>
<pre><pre class="default"><code>$ bal tool pull health
health:1.0.0 pulled successfully.
health:1.0.0 successfully set as the active version.
</code></pre></pre>
</li>
<li>
<p>Download the <strong>JSON Definitions ZIP archive</strong> from the <a href="http://hl7.org/fhir/us/carin-bb/STU2/downloads.html" target="_blank">Carin BB implementation guide</a> and extract it to your current directory.</p>
</li>
<li>
<p>Run the tool with the <a href="#available-parameters">required arguments</a>.</p>
<blockquote>
<p><strong>Note:</strong> Provide values for mandatory arguments. Make sure to give the directory path of the downloaded FHIR definitions as the last argument.</p>
</blockquote>
<pre><pre class="default"><code>$ bal health fhir -m package --org-name healthcare --package-name carinbb.lib -o gen ./definitions.json
Ballerina FHIR package generation completed successfully.
</code></pre></pre>
</li>
<li>
<p>Build the generated package and push it to a repository.</p>
<blockquote>
<p><strong>Info:</strong> You can push either to the local repository or the remote repository in Ballerina Central.</p>
</blockquote>
<pre><pre class="default"><code>$ cd gen/carinbb.lib
$ bal pack
Compiling source
        healthcare/carinbb.lib:0.0.1

Creating bala
        target/bala/healthcare-carinbb.lib-any-0.0.1.bala
</code></pre></pre>
<pre><pre class="default"><code>$ bal push --repository local
Successfully pushed target/bala/healthcare-carinbb.lib-any-0.0.1.bala to &#x27;local&#x27; repository.
</code></pre></pre>
</li>
<li>
<p>Create a Ballerina project and import the generated package.</p>
<blockquote>
<p><strong>Note:</strong> Make sure to add the correct version and repository to the <code>Ballerina.toml</code> file.</p>
</blockquote>
<pre><pre class="default"><code>[package]
org = &quot;healthcare&quot;
name = &quot;integration.carinbb&quot;
version = &quot;1.0.0&quot;
distribution = &quot;2201.7.0&quot;

[[dependency]]
org = &quot;healthcare&quot;
name = &quot;carinbb.lib&quot;
version = &quot;0.0.1&quot;
repository = &quot;local&quot;
</code></pre></pre>
</li>
<li>
<p>Implement the business logic/mapping using the generated FHIR resource records.</p>
<pre><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/http;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerinax/health.fhir.r4;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> healthcare/carinbb.lib </span><span style="color: #D73A49">as</span><span style="color: #24292E"> carinbb;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">listener</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Listener httpListener </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> (</span><span style="color: #005CC5">9090</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Patient</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> id;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> lastName?;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> firstName;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> middleName;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> gender?;</span></span>
<span class="line"><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> / </span><span style="color: #D73A49">on</span><span style="color: #24292E"> httpListener {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">isolated</span><span style="color: #24292E"> </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get</span><span style="color: #24292E"> [</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">fhirType</span><span style="color: #24292E">]/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">id</span><span style="color: #24292E">]() </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> @http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Payload {mediaType</span><span style="color: #D73A49">:</span><span style="color: #24292E"> [</span><span style="color: #032F62">&quot;application/fhir+json&quot;</span><span style="color: #24292E">, </span><span style="color: #032F62">&quot;application/fhir+xml&quot;</span><span style="color: #24292E">]} r4</span><span style="color: #D73A49">:</span><span style="color: #24292E">FHIRWireFormat</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D">// Mock the patient payload from the legacy healthcare system.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        Patient patient </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">            id</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;2121&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">            lastName</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">            firstName</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;John&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">            middleName</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;Hemish&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">            gender</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;male&quot;</span></span>
<span class="line"><span style="color: #24292E">        };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #6A737D">// Convert to the Carin BB Patient structure.</span></span>
<span class="line"><span style="color: #24292E">        carinbb</span><span style="color: #D73A49">:</span><span style="color: #24292E">C4BBPatient c4bbPatient </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">            id</span><span style="color: #D73A49">:</span><span style="color: #24292E"> patient.id,</span></span>
<span class="line"><span style="color: #24292E">            identifier</span><span style="color: #D73A49">:</span><span style="color: #24292E"> [</span></span>
<span class="line"><span style="color: #24292E">                {</span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #6F42C1">system</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;http://hl7.org/fhir/sid/us-ssn&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #6F42C1">value</span><span style="color: #24292E">: patient.id</span></span>
<span class="line"><span style="color: #24292E">                }</span></span>
<span class="line"><span style="color: #24292E">            ]</span></span>
<span class="line"><span style="color: #24292E">    ,</span></span>
<span class="line"><span style="color: #24292E">            gender</span><span style="color: #D73A49">:</span><span style="color: #24292E"> &lt;carinbb:PatientGender</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E">patient.gender,</span></span>
<span class="line"><span style="color: #24292E">            name</span><span style="color: #D73A49">:</span><span style="color: #24292E"> [</span></span>
<span class="line"><span style="color: #24292E">                {</span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #6F42C1">family</span><span style="color: #24292E">: patient.lastName,</span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #6F42C1">given</span><span style="color: #24292E">: [patient.firstName, patient.middleName]</span></span>
<span class="line"><span style="color: #24292E">                }</span></span>
<span class="line"><span style="color: #24292E">            ]</span></span>
<span class="line"><span style="color: #24292E">        };</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> c4bbPatient.</span><span style="color: #6F42C1">toJson</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></pre>
</li>
<li>
<p>Run the Ballerina project and validate the output.</p>
<pre><pre class="default"><code>$ bal run
Compiling source
        healthcare/integration.carinbb:1.0.0

Running executable
</code></pre></pre>
</li>
<li>
<p>Invoke the API to test it.</p>
<pre><pre class="default"><code>$ curl --location --request GET &#x27;http://localhost:9090/Patient/2121&#x27;
</code></pre></pre>
<p>You can view the response shown below.</p>
<pre><pre class="default"><code>{
&quot;resourceType&quot;: &quot;Patient&quot;,
&quot;gender&quot;: &quot;male&quot;,
&quot;id&quot;: &quot;2121&quot;,
&quot;identifier&quot;: [
    {
    &quot;system&quot;: &quot;http://hl7.org/fhir/sid/us-ssn&quot;,
    &quot;value&quot;: &quot;2121&quot;
    }
],
&quot;meta&quot;: {
    &quot;profile&quot;: [
    &quot;http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-Patient&quot;
    ]
},
&quot;name&quot;: [
    {
    &quot;family&quot;: &quot;Doe&quot;,
    &quot;given&quot;: [
        &quot;John&quot;,
        &quot;Hemish&quot;
    ]
    }
]
}  
</code></pre></pre>
</li>
</ol></div></div><div class="pageToc d-none d-sm-block col-xxl-3 col-sm-2"></div></div></div><div class="Footer_stack__Y9iHo vstack gap-0"><div class="Footer_footer__gXdNn container"><div class="row"><div class="col-lg-6 col-md-6 col-sm-12 col-12"><div class="row"><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_socialMedia__99VpI"><div class="Footer_smIcons__HD9f7"><ul><li><a href="https://github.com/ballerina-platform" target="_blank" rel="noreferrer" title="GitHub"></a></li><li><a href="https://twitter.com/ballerinalang" target="_blank" rel="noreferrer" title="Twitter"></a></li><li><a href="https://discord.gg/ballerinalang" target="_blank" rel="noreferrer" title="Discord"></a></li><li><a href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank" rel="noreferrer" title="Stackoverflow"></a></li><li><a href="https://www.youtube.com/c/Ballerinalang" target="_blank" rel="noreferrer" title="YouTube"></a></li><li><a href="https://www.linkedin.com/company/79080790" target="_blank" rel="noreferrer" title="LinkedIn"></a></li></ul></div></div><div class="Footer_footerLinks__M9jUM"><ul><li><a href="/downloads/">DOWNLOAD</a></li><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose">REPORT ISSUES</a></li></ul></div></div><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_subscription__N96Xy"><div class="Footer_subscribe__6aRU2"><a href="/community/#subscribe-to-our-newsletter">Subscribe to our newsletter</a></div><div class="Footer_subscribe__6aRU2"><a class="Footer_subRss__E8gAT" href="https://blog.ballerina.io/feed.xml" target="_blank" rel="noreferrer">Subscribe via RSS</a></div></div></div></div></div><div class="Footer_inspire__ZAi5V col-lg-6 col-md-6 col-sm-12 col-12"><p>In the creation of Ballerina, we were inspired by many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub, and WSO2.</p></div></div><div class="Footer_policyLinks__q3ge1 row"><div class="col-sm-2 col-12"><span class="footerLink">© 2018-2023 WSO2 LLC</span></div><div class="col-sm-10 col-12"><ul><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li><li><a href="/license-of-site/">SITE LICENSE</a></li><li><a href="/terms-of-service/">TERMS OF SERVICE</a></li><li><a href="/privacy-policy/">PRIVACY POLICY</a></li><li><a href="/cookie-policy/">COOKIE POLICY</a></li><li><a href="/security-policy/">SECURITY POLICY</a></li><li><a href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"layout":"ballerina-health-support-left-nav-pages-swanlake","title":"Health tool (FHIR/HL7)","description":"The health tool generates accelerators for developing healthcare integrations in Ballerina.","keywords":"ballerina, programming language, health, contract","permalink":"/learn/health-tool/","active":"health-tool","intro":"The health tool generates accelerators for developing healthcare integrations in Ballerina."},"content":"\nThe Health tool can generate accelerators primarily focussed on the \u003ca href=\"https://www.hl7.org/fhir/overview.html\" target=\"_blank\"\u003eFast Healthcare Interoperability Resources (FHIR)\u003c/a\u003e standard. The Health tool is supported from Ballerina Swan Lake version 2201.7.0 onwards.\n\n## Ballerina FHIR package generator\n\nThis tool generates a Ballerina package for a given FHIR implementation guide. The FHIR resources in the implementation guide will be represented as Ballerina records including the correct cardinality constraints and metadata.\n\nFHIR integration developers can leverage the generated package when transforming custom health data into FHIR format without referring to the specification.\n\n## Prerequisites\n\n- \u003ca href=\"https://ballerina.io/downloads/\" target=\"_blank\"\u003eBallerina 2201.7.0 (Swan Lake Update 7)\u003c/a\u003e\n- A directory containing all FHIR specification definition files. You can download a preferred standard implementation guide from the \u003ca href=\"http://fhir.org/guides/registry/\" target=\"_blank\"\u003eFHIR Implementation Guide registry\u003c/a\u003e\n\n    \u003e**Note:** It is recommended to use the STU version of the implementation guides. Make sure that the downloaded specification archive has the `StructureDefinition`, `ValueSet`, and `CodeSystem` files for the Implementation Guide (IG) resources when extracted.\n\n## Available parameters\n\nThe parameters that are available with the tool are listed below.\n\n| Parameter      | Description                                                                                                                                                                                                                                                                                                                                                                     | Mandatory/Optional |\n|----------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------|\n| `-m, --mode`     | Mode can be `package`. If `mode` is set to `package`, a Ballerina package will be generated including all the records and types. New modes will be added in future releases.                                                                                                                                                                                                      | mandatory          |\n| `-o, --output`   | Location of the generated Ballerina artifacts. If this path is not specified, the output will be written to the same directory from which the command is run.                                                                                                                                                                                                                   | optional           |\n| `--package-name` | Name of the Ballerina package to be generated. The package name can be explicitly set using this argument. Unless specified, the default name of the implementation guide will be taken to construct the name of the package. For more information, see \u003ca href=\"https://ballerina.io/learn/package-references/#the-name-field\" target=\"_blank\"\u003ethe \u003ccode\u003ename\u003c/code\u003e field\u003c/a\u003e. | optional           |\n| `--org-name`     | Organization name of the Ballerina package to be generated. For more information, see \u003ca href=\"https://ballerina.io/learn/package-references/#the-org-field\" target=\"_blank\"\u003e the \u003ccode\u003eorg\u003c/code\u003e field\u003c/a\u003e.                                                                                                                                                                   | optional           |\n| `-v, --version`  | Print the version information of the Health tool.                                                                                                                                                                                                                                                                                                                               | optional           |\n| `-h, --help`     | Print the usage details of the Health tool.                                                                                                                                                                                                                                                                                                                                     | optional           |\n\n## Example\n\nFollow the steps below to try out an example of using the Health tool.\n\n1. Pull the Health tool from Ballerina Central.\n\n    ```\n    $ bal tool pull health\n    health:1.0.0 pulled successfully.\n    health:1.0.0 successfully set as the active version.\n    ```\n\n2. Download the **JSON Definitions ZIP archive** from the \u003ca href=\"http://hl7.org/fhir/us/carin-bb/STU2/downloads.html\" target=\"_blank\"\u003eCarin BB implementation guide\u003c/a\u003e and extract it to your current directory.\n\n3. Run the tool with the [required arguments](#available-parameters).\n\n    \u003e**Note:** Provide values for mandatory arguments. Make sure to give the directory path of the downloaded FHIR definitions as the last argument.\n\n    ```\n    $ bal health fhir -m package --org-name healthcare --package-name carinbb.lib -o gen ./definitions.json\n    Ballerina FHIR package generation completed successfully.\n    ```\n\n4. Build the generated package and push it to a repository.\n\n    \u003e**Info:** You can push either to the local repository or the remote repository in Ballerina Central.\n\n    ```\n    $ cd gen/carinbb.lib\n    $ bal pack\n    Compiling source\n            healthcare/carinbb.lib:0.0.1\n\n    Creating bala\n            target/bala/healthcare-carinbb.lib-any-0.0.1.bala\n    ```\n\n    ```\n    $ bal push --repository local\n    Successfully pushed target/bala/healthcare-carinbb.lib-any-0.0.1.bala to 'local' repository.\n    ```\n\n5. Create a Ballerina project and import the generated package. \n\n    \u003e**Note:** Make sure to add the correct version and repository to the `Ballerina.toml` file.\n\n    ```\n    [package]\n    org = \"healthcare\"\n    name = \"integration.carinbb\"\n    version = \"1.0.0\"\n    distribution = \"2201.7.0\"\n\n    [[dependency]]\n    org = \"healthcare\"\n    name = \"carinbb.lib\"\n    version = \"0.0.1\"\n    repository = \"local\"\n    ```\n\n6. Implement the business logic/mapping using the generated FHIR resource records.\n\n    ```ballerina\n    import ballerina/http;\n    import ballerinax/health.fhir.r4;\n    import healthcare/carinbb.lib as carinbb;\n\n    listener http:Listener httpListener = new (9090);\n\n    public type Patient record {\n        string id;\n        string lastName?;\n        string firstName;\n        string middleName;\n        string gender?;\n    };\n\n    service / on httpListener {\n\n        isolated resource function get [string fhirType]/[string id]() returns @http:Payload {mediaType: [\"application/fhir+json\", \"application/fhir+xml\"]} r4:FHIRWireFormat|error {\n\n            // Mock the patient payload from the legacy healthcare system.\n\n            Patient patient = {\n                id: \"2121\",\n                lastName: \"Doe\",\n                firstName: \"John\",\n                middleName: \"Hemish\",\n                gender: \"male\"\n            };\n\n            // Convert to the Carin BB Patient structure.\n            carinbb:C4BBPatient c4bbPatient = {\n                id: patient.id,\n                identifier: [\n                    {\n                        system: \"http://hl7.org/fhir/sid/us-ssn\",\n                        value: patient.id\n                    }\n                ]\n        ,\n                gender: \u003ccarinbb:PatientGender\u003epatient.gender,\n                name: [\n                    {\n                        family: patient.lastName,\n                        given: [patient.firstName, patient.middleName]\n                    }\n                ]\n            };\n\n            return c4bbPatient.toJson();\n        }\n    }\n    ```\n\n7. Run the Ballerina project and validate the output.\n\n    ```\n    $ bal run\n    Compiling source\n            healthcare/integration.carinbb:1.0.0\n\n    Running executable\n    ```\n\n8. Invoke the API to test it.\n\n    ```\n    $ curl --location --request GET 'http://localhost:9090/Patient/2121'\n    ```\n\n    You can view the response shown below.\n\n    ```\n    {\n    \"resourceType\": \"Patient\",\n    \"gender\": \"male\",\n    \"id\": \"2121\",\n    \"identifier\": [\n        {\n        \"system\": \"http://hl7.org/fhir/sid/us-ssn\",\n        \"value\": \"2121\"\n        }\n    ],\n    \"meta\": {\n        \"profile\": [\n        \"http://hl7.org/fhir/us/carin-bb/StructureDefinition/C4BB-Patient\"\n        ]\n    },\n    \"name\": [\n        {\n        \"family\": \"Doe\",\n        \"given\": [\n            \"John\",\n            \"Hemish\"\n        ]\n        }\n    ]\n    }  \n    ```\n","id":"health-tool","sub":"","third":"","slug":"health-tool","codes":"[[-572513141,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerinax/health.fhir.r4;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e healthcare/carinbb.lib \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eas\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e carinbb;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003elistener\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eListener httpListener \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e9090\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ePatient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e lastName?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e firstName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e middleName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e gender?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e / \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e httpListener {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eisolated\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003efhirType\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eid\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]() \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e @http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ePayload {mediaType\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;application/fhir+json\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;application/fhir+xml\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]} r4\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eFHIRWireFormat\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #6A737D\\\"\u003e// Mock the patient payload from the legacy healthcare system.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Patient patient \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            id\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;2121\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            lastName\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Doe\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            firstName\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;John\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            middleName\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Hemish\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            gender\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;male\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        };\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #6A737D\\\"\u003e// Convert to the Carin BB Patient structure.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        carinbb\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eC4BBPatient c4bbPatient \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            id\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient.id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            identifier\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003esystem\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://hl7.org/fhir/sid/us-ssn\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003evalue\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: patient.id\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            ]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    ,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            gender\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u0026lt;carinbb:PatientGender\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003epatient.gender,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            name\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003efamily\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: patient.lastName,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003egiven\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: [patient.firstName, patient.middleName]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            ]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        };\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e c4bbPatient.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003etoJson\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/learn/integration-technology-tools/[...slug]","query":{"slug":["health-tool"]},"buildId":"dT7wIIgWi37CTYOfjcyQJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>