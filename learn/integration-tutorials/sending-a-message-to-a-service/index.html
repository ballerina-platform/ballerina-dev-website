<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="Integration tutorial for sending a message to a service."/><meta name="keywords" content="ballerinalang, integration, microservices, programming language, cloud native, ballerina language"/><title>Sending a message to a service - The Ballerina programming language</title><meta property="og:type" content="article"/><meta property="og:title" content="Sending a message to a service - The Ballerina programming language"/><meta property="og:description" content="Integration tutorial for sending a message to a service."/><meta property="og:image" itemProp="image" content="https://ballerina.io/images/ballerina-learn-integration-tutorials-page-sm-banner.png"/><meta property="og:title" content="Sending a message to a service - The Ballerina programming language"/><meta property="og:image" content="https://ballerina.io/images/ballerina-learn-integration-tutorials-page-sm-banner.png"/><meta property="twitter:description" content="Integration tutorial for sending a message to a service."/><meta property="twitter:text:description" content="Integration tutorial for sending a message to a service."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:title" content="Ballerina"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="Ballerina"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="25"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta HTTP-EQUIV="X-Frame-Options" CONTENT="SAMEORIGIN"/><meta HTTP-EQUIV="Content-Security-Policy" CONTENT="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/efb46e4b2eb09be0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/efb46e4b2eb09be0.css" data-n-g=""/><link rel="preload" href="/_next/static/css/ed928f4e0113510f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ed928f4e0113510f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-616846e9d9e99a18.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-bbd31250c7dfa44e.js" defer=""></script><script src="/_next/static/chunks/1bfc9850-521b3a596dcadac5.js" defer=""></script><script src="/_next/static/chunks/9733-fbb4953a2fa6f36d.js" defer=""></script><script src="/_next/static/chunks/8999-d460056eee862859.js" defer=""></script><script src="/_next/static/chunks/5530-3a0ee3d9119ba327.js" defer=""></script><script src="/_next/static/chunks/2092-46b4be65607751ad.js" defer=""></script><script src="/_next/static/chunks/3066-532e3a00a68674d9.js" defer=""></script><script src="/_next/static/chunks/4564-48f98e5c795b6df7.js" defer=""></script><script src="/_next/static/chunks/5795-09d5873166d022de.js" defer=""></script><script src="/_next/static/chunks/pages/learn/integration/integration-tutorials/%5Bslug%5D-af642f26690d6a3b.js" defer=""></script><script src="/_next/static/4lgVw8IoL38HjCi_fHvUa/_buildManifest.js" defer=""></script><script src="/_next/static/4lgVw8IoL38HjCi_fHvUa/_ssgManifest.js" defer=""></script><script src="/_next/static/4lgVw8IoL38HjCi_fHvUa/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper other vstack gap-0"><div class="wrap-page-content container"><div class="row"><div class="mdContent col-sm-10 col-12"><div class="row"><div style="margin-bottom:20px;" class="patternContent col-12"><div class="backToLanding" href="/learn/integration-tutorials/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#3ad1ca" class="bi bi-box-arrow-left ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"></path><path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"></path></svg><p class="m-0 p-0">Back to integration tutorials</p></div></div></div><div class="topRow innerRow row"><div class="col-11"><h1>Sending a message to a service</h1></div><div class="gitIcon col-1"><a href="https://github.com/ballerina-platform/ballerina-dev-website/blob/master/swan-lake/integration-tutorials/sending-a-message-to-a-service.md" target="_blank" rel="noreferrer" title="Edit in GitHub"></a></div></div><div style="margin-top:40px;margin-bottom:0;align-items:center" class="pageContentRow innerRow row"><div class="col-12"><p>This tutorial helps you understand the basics of how Ballerina can be used to do client calls and develop RESTful APIs.</p></div></div><div class="pageContentRow innerRow row"><div class="col-12"><h2 id="overview" data-section="overview" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Overview</h2>
<p>In this tutorial, you will develop a service that allows a user to retrieve a list of doctors based on the doctor&#x27;s specialization (category). The information about the doctors is retrieved from a separate microservice.</p>
<p>To implement this use case, you will develop a REST service with a single resource using Visual Studio Code with the Ballerina Swan Lake extension, and then, run the service. The resource will receive the user request, retrieve details from the backend service, and respond to the user request with the relevant doctor details.</p>
<h3 id="concepts-covered" data-section="concepts-covered" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Concepts covered</h3>
<ul>
<li>REST API</li>
<li>HTTP client</li>
</ul>
<h2 id="develop-the-application" data-section="develop-the-application" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Develop the application</h2>
<h3 id="step-1-set-up-the-workspace" data-section="step-1-set-up-the-workspace" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 1: Set up the workspace</h3>
<p>Install <a href="https://ballerina.io/downloads/" target="_blank" rel="nofollow noopener noreferrer">Ballerina Swan Lake</a> and the <a href="https://marketplace.visualstudio.com/items?itemName=wso2.ballerina" target="_blank" rel="nofollow noopener noreferrer">Ballerina Swan Lake extension</a> on VS Code.</p>
<h3 id="step-2-develop-the-service" data-section="step-2-develop-the-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 2: Develop the service</h3>
<p>Follow the instructions given in this section to develop the service.</p>
<ol>
<li>
<p>Create a new Ballerina project using the <code>bal</code> command and open it in VS Code.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><code>$ bal new sending-a-message-to-a-service
</code></pre></pre>
</li>
<li>
<p>Introduce the source code in files with the <code>.bal</code> extension (e.g., the <code>main.bal</code> file).</p>
<p>Import the</p>
<ul>
<li><code>ballerina/http</code> module to develop the REST API and define the client that can be used to send requests to the backend service</li>
<li><code>ballerina/log</code> module to log some information for each client request</li>
</ul>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/http;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/log;</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Define two <a href="https://ballerina.io/learn/by-example/#configurability" target="_blank" rel="nofollow noopener noreferrer">configurable variables</a> for the port on which the listener should listen and the URL of the backend service.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E"> port </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">8290</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> healthcareBackend </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;http://localhost:9090/healthcare&quot;</span><span style="color: #24292E">;</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Define an <a href="https://ballerina.io/learn/by-example/#http-client" target="_blank" rel="nofollow noopener noreferrer"><code>http:Client</code> client</a> to send requests to the backend service.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">final</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client queryDoctorEP </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">() </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> </span><span style="color: #D73A49">=&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> (</span><span style="color: #E36209">healthcareBackend</span><span style="color: #24292E">);</span></span></code></pre></div></div></pre>
<p>The argument to the <code>new</code> expression is the URL for the backend service.</p>
</li>
<li>
<p>Define a record corresponding to the payload from the backend service.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Doctor</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> name;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospital;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> category;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> availability;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">decimal</span><span style="color: #24292E"> fee;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span></code></pre></div></div></pre>
<p>The payload will be an array of JSON objects in which, the structure of each JSON object matches this record. Note that you can use the &quot;Paste JSON as record&quot; VS Code command to generate the record if you have the JSON payload.</p>
</li>
<li>
<p>Define the <a href="https://ballerina.io/learn/by-example/#rest-service" target="_blank" rel="nofollow noopener noreferrer">HTTP service (REST API)</a> that has the resource that accepts user requests, retrieves relevant details from the backend service, and responds to the request. Use <code>/healthcare</code> as the service path (or the context) of the service, which is attached to the listener listening on port <code>port</code>. Define an HTTP resource that allows the <code>GET</code> operation on resource path <code>/querydoctor</code> and accepts the <code>category</code> (corresponding to the specialization) as a path parameter.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> </span><span style="color: #6F42C1">/healthcare</span><span style="color: #24292E"> </span><span style="color: #D73A49">on</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> http:Listener(</span><span style="color: #E36209">port</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get</span><span style="color: #24292E"> </span><span style="color: #6F42C1">querydoctor</span><span style="color: #24292E">/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">category</span><span style="color: #24292E">]() {</span></span>
<span class="line"><span style="color: #24292E">        </span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Implement the logic to retrieve and respond with relevant details.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> </span><span style="color: #6F42C1">/healthcare</span><span style="color: #24292E"> </span><span style="color: #D73A49">on</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> http:Listener(</span><span style="color: #E36209">port</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get</span><span style="color: #24292E"> </span><span style="color: #6F42C1">querydoctor</span><span style="color: #24292E">/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">category</span><span style="color: #24292E">]() </span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> Doctor[]</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">|</span><span style="color: #24292E">http:InternalServerError {</span></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printInfo</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving information&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">specialization</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> category);</span></span>
<span class="line"><span style="color: #24292E">        </span></span>
<span class="line"><span style="color: #24292E">        Doctor[]</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError resp </span><span style="color: #D73A49">=</span><span style="color: #24292E"> queryDoctorEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[category];</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> resp </span><span style="color: #D73A49">is</span><span style="color: #24292E"> Doctor[] {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> resp;</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> resp </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`category not found: ${</span><span style="color: #24292E">category</span><span style="color: #032F62">}`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> resp.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
<ul>
<li>
<p>The <code>log:printInfo</code> statement <a href="https://ballerina.io/learn/by-example/#log" target="_blank" rel="nofollow noopener noreferrer">logs</a> information about the request.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printInfo</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving information&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">specialization</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> category);</span></span></code></pre></div></div></pre>
</li>
<li>
<p>The call to the backend is done using a remote method call expression (using <code>-&gt;</code>), which distinguishes network calls from normal method calls. <a href="https://ballerina.io/learn/by-example/http-client-data-binding/" target="_blank" rel="nofollow noopener noreferrer">Client data binding</a> is used to directly try and bind the JSON response on success to the expected array of records.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">Doctor[]</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError resp </span><span style="color: #D73A49">=</span><span style="color: #24292E"> queryDoctorEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[category];</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Use the <code>is</code> check to decide the response based on the response to the client call. If the client call was successful and the respond payload was an array of <code>Doctor</code> records (as expected), then, directly return the array from the resource. If the request failed, send an <code>http:NotFound</code> response if the client call failed with a <code>4xx</code> status code or return an <code>http:InternalServerError</code> response for other failures.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printInfo</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving information&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">specialization</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> category);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">Doctor[]</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError resp </span><span style="color: #D73A49">=</span><span style="color: #24292E"> queryDoctorEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[category];</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> resp </span><span style="color: #D73A49">is</span><span style="color: #24292E"> Doctor[] {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> resp;</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving doctor information failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">resp</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> resp </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`category not found: ${</span><span style="color: #24292E">category</span><span style="color: #032F62">}`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> resp.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span></code></pre></div></div></pre>
</li>
</ul>
</li>
</ol>
<p>You have successfully developed the required service.</p>
<h4 id="complete-source" data-section="complete-source" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Complete source</h4>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/http;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/log;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Doctor</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> name;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospital;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> category;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> availability;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">decimal</span><span style="color: #24292E"> fee;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E"> port </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">8290</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> healthcareBackend </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;http://localhost:9090/healthcare&quot;</span><span style="color: #24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">final</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client queryDoctorEP </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">() </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> </span><span style="color: #D73A49">=&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> (</span><span style="color: #E36209">healthcareBackend</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> </span><span style="color: #6F42C1">/healthcare</span><span style="color: #24292E"> </span><span style="color: #D73A49">on</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> http:Listener(</span><span style="color: #E36209">port</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get</span><span style="color: #24292E"> </span><span style="color: #6F42C1">querydoctor</span><span style="color: #24292E">/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">category</span><span style="color: #24292E">]() </span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> Doctor[]</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">|</span><span style="color: #24292E">http:InternalServerError {</span></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printInfo</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving information&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">specialization</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> category);</span></span>
<span class="line"><span style="color: #24292E">        </span></span>
<span class="line"><span style="color: #24292E">        Doctor[]</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError resp </span><span style="color: #D73A49">=</span><span style="color: #24292E"> queryDoctorEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[category];</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> resp </span><span style="color: #D73A49">is</span><span style="color: #24292E"> Doctor[] {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> resp;</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"><span style="color: #24292E">        </span></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving doctor information failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">resp</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> resp </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`category not found: ${</span><span style="color: #24292E">category</span><span style="color: #032F62">}`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> resp.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
<h4 id="sequence-diagram" data-section="sequence-diagram" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Sequence diagram</h4>
<p>The <a href="https://wso2.com/ballerina/vscode/docs/implement-the-code/sequence-diagram-view/" target="_blank" rel="nofollow noopener noreferrer">sequence diagram view</a> for the implemented resource method is the following.</p>
<img src="/learn/images/tutorial_sending_a_message_to_a_service.png" alt="Sequence Diagram" height="800" style="width:auto;max-width:100%"/>
<h3 id="step-3-build-and-run-the-service" data-section="step-3-build-and-run-the-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 3: Build and run the service</h3>
<p>You can run this service by navigating to the project root and using the <code>bal run</code> command.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"></div><code>sending-a-message-to-a-service$ bal run
Compiling source
        integration_tutorials/sending_a_message_to_a_service:0.1.0

Running executable
</code></pre></pre>
<h3 id="step-4-try-out-the-use-case" data-section="step-4-try-out-the-use-case" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 4: Try out the use case</h3>
<p>Let&#x27;s test the use case by sending a request to the service.</p>
<h4 id="start-the-backend-service" data-section="start-the-backend-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Start the backend service</h4>
<p>Download the JAR file for the <a href="https://github.com/ballerina-guides/integration-tutorials/blob/main/backends/hospital-service/hospitalservice.jar" target="_blank" rel="nofollow noopener noreferrer">backend service</a>, and execute the following command to start the service:</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><code>$ bal run hospitalservice.jar
</code></pre></pre>
<h4 id="send-a-request" data-section="send-a-request" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Send a request</h4>
<p>Let&#x27;s send a request to the service using cURL as follows.</p>
<ol>
<li>
<p>Install and set up <a href="https://curl.se/" target="_blank" rel="nofollow noopener noreferrer">cURL</a> as your client.</p>
</li>
<li>
<p>Execute the following command.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><code>$ curl -v http://localhost:8290/healthcare/querydoctor/surgery
</code></pre></pre>
</li>
</ol>
<h4 id="verify-the-response" data-section="verify-the-response" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Verify the response</h4>
<p>You will see the response message from the backend with a list of details of the available doctors.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">[</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grand oak community hospital&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;category&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;surgery&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;availability&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;9.00 a.m - 11.00 a.m&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;fee&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">7000.0</span></span>
<span class="line"><span style="color: #24292E">    },</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;anne clement&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;clemency medical center&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;category&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;surgery&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;availability&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;8.00 a.m - 10.00 a.m&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;fee&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">12000.0</span></span>
<span class="line"><span style="color: #24292E">    },</span></span>
<span class="line"><span style="color: #24292E">    {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;seth mears&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;pine valley community hospital&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;category&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;surgery&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;availability&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;3.00 p.m - 5.00 p.m&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;fee&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">8000.0</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">]</span></span></code></pre></div></div></pre>
<p>Now, check the terminal in which you ran the Ballerina service. You should see a log similar to the following.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"></div><code>time = 2023-08-15T13:01:34.022+05:30 level = INFO module = integration_tutorials/sending_a_message_to_a_service message = &quot;Retrieving information&quot; specialization = &quot;surgery&quot;
</code></pre></pre>
<h3 id="step-5-write-tests-for-the-use-case" data-section="step-5-write-tests-for-the-use-case" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 5: Write tests for the use case</h3>
<p>Let&#x27;s test the use case by writing a test case that sends a request to the service and validates the payload for a successful request. Testing is enabled by the <a href="https://ballerina.io/learn/test-ballerina-code/test-services-and-clients/" target="_blank" rel="nofollow noopener noreferrer">Ballerina test framework</a>.</p>
<ol>
<li>
<p>Introduce the tests in a <code>.bal</code> file within a directory named <code>tests</code> in the package. Import the <code>ballerina/test</code> module to use the Ballerina test framework and the <code>ballerina/http</code> module to use an <code>http:Client</code> client object to send requests to the implemented service and mock the backend service.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/http;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/test;</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Mock the backend service by mocking the <code>http:Client</code> object and the <code>get</code> resource method. Then, mock the <code>initializeHttpClient</code> function, using the <code>@test:Mock</code> annotation, to return the mock HTTP client.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">public</span><span style="color: #24292E"> </span><span style="color: #D73A49">client class</span><span style="color: #24292E"> </span><span style="color: #6F42C1">MockHttpClient</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">isolated</span><span style="color: #24292E"> </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get</span><span style="color: #24292E"> [</span><span style="color: #005CC5">string</span><span style="color: #D73A49">...</span><span style="color: #24292E"> </span><span style="color: #E36209">path</span><span style="color: #24292E">](</span><span style="color: #D73A49">map&lt;</span><span style="color: #005CC5">string</span><span style="color: #D73A49">|</span><span style="color: #005CC5">string</span><span style="color: #24292E">[]</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E">? </span><span style="color: #E36209">headers</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> (), </span></span>
<span class="line"><span style="color: #24292E">                                                    http</span><span style="color: #D73A49">:</span><span style="color: #24292E">TargetType targetType </span><span style="color: #D73A49">=</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Response,</span></span>
<span class="line"><span style="color: #24292E">                                                    </span><span style="color: #D73A49">*</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">QueryParams params) </span></span>
<span class="line"><span style="color: #24292E">                                                </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Response</span><span style="color: #D73A49">|</span><span style="color: #24292E">anydata</span><span style="color: #D73A49">|</span><span style="color: #24292E">http:ClientError {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">match</span><span style="color: #24292E"> path[</span><span style="color: #005CC5">0</span><span style="color: #24292E">] {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #032F62">&quot;surgery&quot;</span><span style="color: #24292E"> </span><span style="color: #D73A49">=&gt;</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #6F42C1">getSurgeryResponsePayload</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">error</span><span style="color: #24292E"> (</span><span style="color: #032F62">&quot;unknown specialization&quot;</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                                            </span><span style="color: #E36209">body</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #032F62">`unknown specialization: ${</span><span style="color: #24292E">path</span><span style="color: #032F62">[</span><span style="color: #005CC5">0</span><span style="color: #032F62">]</span><span style="color: #032F62">}`</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                                            </span><span style="color: #E36209">headers</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> {}, </span></span>
<span class="line"><span style="color: #24292E">                                            </span><span style="color: #E36209">statusCode</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">STATUS_NOT_FOUND);</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">@</span><span style="color: #005CC5">test</span><span style="color: #24292E">:</span><span style="color: #005CC5">Mock</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    functionName</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;initializeHttpClient&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClientMock</span><span style="color: #24292E">() </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> </span><span style="color: #D73A49">=&gt;</span></span>
<span class="line"><span style="color: #24292E">    test</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">mock</span><span style="color: #24292E">(</span><span style="color: #E36209">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client, </span><span style="color: #D73A49">new</span><span style="color: #24292E"> </span><span style="color: #E36209">MockHttpClient</span><span style="color: #24292E">());</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Use the <code>@test:Config</code> annotation to indicate that a function is a test function. Implement the test to send a request to the service and test for value equality between the retrieved payload and the expected payload using the <code>test:assertEquals</code> function.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">@</span><span style="color: #005CC5">test</span><span style="color: #24292E">:</span><span style="color: #005CC5">Config</span></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">testSuccessfulRequest</span><span style="color: #24292E">() </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> </span><span style="color: #D73A49">error?</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    Doctor[] doctors </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> cl</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">surgery;</span></span>
<span class="line"><span style="color: #24292E">    test</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">assertEquals</span><span style="color: #24292E">(</span><span style="color: #E36209">doctors</span><span style="color: #24292E">, </span><span style="color: #E36209">getSurgeryResponsePayload</span><span style="color: #24292E">());</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Run the <code>bal test</code> command from the project root to run the tests.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"></div><code>sending-a-message-to-a-service$ bal test
Compiling source
        integration_tutorials/sending_a_message_to_a_service:0.1.0

Running Tests

        sending_a_message_to_a_service
time = 2023-08-17T09:01:23.758+05:30 level = INFO module = integration_tutorials/sending_a_message_to_a_service message = &quot;Retrieving information&quot; specialization = &quot;surgery&quot;


                1 passing
                0 failing
                0 skipped
</code></pre></pre>
</li>
</ol>
<p>You have now developed and tested a simple Ballerina REST service, which receives a request, logs a message, sends a request to a backend service, and responds to the original request with the response from the backend service.</p>
<h2 id="complete-implementation" data-section="complete-implementation" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Complete implementation</h2>
<p>Check out the <a href="https://github.com/ballerina-guides/integration-tutorials/tree/main/sending-a-message-to-a-service" target="_blank" rel="nofollow noopener noreferrer">complete implementation</a> on GitHub.</p>
<h2 id="references" data-section="references" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>References</h2>
<ul>
<li><a href="https://lib.ballerina.io/ballerina/http/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/http</code> API docs</a></li>
<li><a href="https://lib.ballerina.io/ballerina/log/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/log</code> API docs</a></li>
<li><a href="https://lib.ballerina.io/ballerina/test/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/test</code> API docs</a></li>
</ul></div></div></div><div class="pageToc d-none d-sm-block col-sm-2"></div></div></div><div class="Footer_stack__Y9iHo vstack gap-0"><div class="Footer_footer__gXdNn container"><div class="row"><div class="col-lg-6 col-md-6 col-sm-12 col-12"><div class="row"><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_socialMedia__99VpI"><div class="Footer_smIcons__HD9f7"><ul><li><a href="https://github.com/ballerina-platform" target="_blank" rel="noreferrer" title="GitHub"></a></li><li><a href="https://twitter.com/ballerinalang" target="_blank" rel="noreferrer" title="X"></a></li><li><a href="https://discord.gg/ballerinalang" target="_blank" rel="noreferrer" title="Discord"></a></li><li><a href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank" rel="noreferrer" title="Stackoverflow"></a></li><li><a href="https://www.youtube.com/c/Ballerinalang" target="_blank" rel="noreferrer" title="YouTube"></a></li><li><a href="https://www.linkedin.com/showcase/ballerinalang/" target="_blank" rel="noreferrer" title="LinkedIn"></a></li></ul></div></div><div class="Footer_footerLinks__M9jUM"><ul><li><a href="/downloads/">DOWNLOAD</a></li><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose">REPORT ISSUES</a></li></ul></div></div><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_subscription__N96Xy"><div class="Footer_subscribe__6aRU2"><a href="/community/#subscribe-to-our-newsletter">Subscribe to our newsletter</a></div><div class="Footer_subscribe__6aRU2"><a class="Footer_subRss__E8gAT" href="https://blog.ballerina.io/feed.xml" target="_blank" rel="noreferrer">Subscribe via RSS</a></div></div></div></div></div><div class="Footer_inspire__ZAi5V col-lg-6 col-md-6 col-sm-12 col-12"><p>In the creation of Ballerina, we were inspired by many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub, and WSO2.</p></div></div><div class="Footer_policyLinks__q3ge1 row"><div class="col-sm-2 col-12"><span class="footerLink">© 2023 WSO2 LLC</span></div><div class="col-sm-10 col-12"><ul><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li><li><a href="/license-of-site/">SITE LICENSE</a></li><li><a href="/terms-of-service/">TERMS OF SERVICE</a></li><li><a href="/privacy-policy/">PRIVACY POLICY</a></li><li><a href="/cookie-policy/">COOKIE POLICY</a></li><li><a href="/security-policy/">SECURITY POLICY</a></li><li><a href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"layout":"ballerina-sending-a-message-to-a-service-left-nav-pages-swanlake","title":"Sending a message to a service","permalink":"/learn/sending-a-message-to-a-service/","description":"Integration tutorial for sending a message to a service.","keywords":"ballerina, programming language, client, restful-api, integration","active":"sending-a-message-to-a-service","intro":"This tutorial helps you understand the basics of how Ballerina can be used to do client calls and develop RESTful APIs."},"content":"\n## Overview\n\nIn this tutorial, you will develop a service that allows a user to retrieve a list of doctors based on the doctor's specialization (category). The information about the doctors is retrieved from a separate microservice. \n\nTo implement this use case, you will develop a REST service with a single resource using Visual Studio Code with the Ballerina Swan Lake extension, and then, run the service. The resource will receive the user request, retrieve details from the backend service, and respond to the user request with the relevant doctor details.\n\n### Concepts covered\n\n- REST API\n- HTTP client\n\n## Develop the application\n\n### Step 1: Set up the workspace\n\nInstall [Ballerina Swan Lake](https://ballerina.io/downloads/) and the [Ballerina Swan Lake extension](https://marketplace.visualstudio.com/items?itemName=wso2.ballerina) on VS Code.\n\n### Step 2: Develop the service\n\nFollow the instructions given in this section to develop the service.\n\n1. Create a new Ballerina project using the `bal` command and open it in VS Code.\n\n    ```\n    $ bal new sending-a-message-to-a-service\n    ```\n\n2. Introduce the source code in files with the `.bal` extension (e.g., the `main.bal` file). \n\n    Import the \n    - `ballerina/http` module to develop the REST API and define the client that can be used to send requests to the backend service\n    - `ballerina/log` module to log some information for each client request\n\n    ```ballerina\n    import ballerina/http;\n    import ballerina/log;\n    ```\n\n3. Define two [configurable variables](https://ballerina.io/learn/by-example/#configurability) for the port on which the listener should listen and the URL of the backend service.\n\n    ```ballerina\n    configurable int port = 8290;\n    configurable string healthcareBackend = \"http://localhost:9090/healthcare\";\n    ```\n\n4. Define an [`http:Client` client](https://ballerina.io/learn/by-example/#http-client) to send requests to the backend service.\n\n    ```ballerina\n    final http:Client queryDoctorEP = check initializeHttpClient();\n\n    function initializeHttpClient() returns http:Client|error =\u003e new (healthcareBackend);\n    ```\n\n    The argument to the `new` expression is the URL for the backend service.\n\n5. Define a record corresponding to the payload from the backend service.\n\n    ```ballerina\n    type Doctor record {|\n        string name;\n        string hospital;\n        string category;\n        string availability;\n        decimal fee;\n    |};\n    ```\n\n    The payload will be an array of JSON objects in which, the structure of each JSON object matches this record. Note that you can use the \"Paste JSON as record\" VS Code command to generate the record if you have the JSON payload.\n\n6. Define the [HTTP service (REST API)](https://ballerina.io/learn/by-example/#rest-service) that has the resource that accepts user requests, retrieves relevant details from the backend service, and responds to the request. Use `/healthcare` as the service path (or the context) of the service, which is attached to the listener listening on port `port`. Define an HTTP resource that allows the `GET` operation on resource path `/querydoctor` and accepts the `category` (corresponding to the specialization) as a path parameter.\n\n    ```ballerina\n    service /healthcare on new http:Listener(port) {\n        resource function get querydoctor/[string category]() {\n            \n        }\n    }\n    ```\n\n7. Implement the logic to retrieve and respond with relevant details.\n\n    ```ballerina\n    service /healthcare on new http:Listener(port) {\n        resource function get querydoctor/[string category]() \n                returns Doctor[]|http:NotFound|http:InternalServerError {\n            log:printInfo(\"Retrieving information\", specialization = category);\n            \n            Doctor[]|http:ClientError resp = queryDoctorEP-\u003e/[category];\n            if resp is Doctor[] {\n                return resp;\n            }\n\n            if resp is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `category not found: ${category}`};\n            }\n\n            return \u003chttp:InternalServerError\u003e {body: resp.message()};\n        }\n    }\n    ```\n\n    - The `log:printInfo` statement [logs](https://ballerina.io/learn/by-example/#log) information about the request.\n\n        ```ballerina\n        log:printInfo(\"Retrieving information\", specialization = category);\n        ```\n\n    - The call to the backend is done using a remote method call expression (using `-\u003e`), which distinguishes network calls from normal method calls. [Client data binding](https://ballerina.io/learn/by-example/http-client-data-binding/) is used to directly try and bind the JSON response on success to the expected array of records.\n\n        ```ballerina\n        Doctor[]|http:ClientError resp = queryDoctorEP-\u003e/[category];\n        ```\n\n    - Use the `is` check to decide the response based on the response to the client call. If the client call was successful and the respond payload was an array of `Doctor` records (as expected), then, directly return the array from the resource. If the request failed, send an `http:NotFound` response if the client call failed with a `4xx` status code or return an `http:InternalServerError` response for other failures.\n\n        ```ballerina\n        log:printInfo(\"Retrieving information\", specialization = category);\n\n        Doctor[]|http:ClientError resp = queryDoctorEP-\u003e/[category];\n        if resp is Doctor[] {\n            return resp;\n        }\n\n        log:printError(\"Retrieving doctor information failed\", resp);\n        if resp is http:ClientRequestError {\n            return \u003chttp:NotFound\u003e {body: string `category not found: ${category}`};\n        }\n\n        return \u003chttp:InternalServerError\u003e {body: resp.message()};\n        ```\n\nYou have successfully developed the required service.\n\n#### Complete source\n\n```ballerina\nimport ballerina/http;\nimport ballerina/log;\n\ntype Doctor record {|\n    string name;\n    string hospital;\n    string category;\n    string availability;\n    decimal fee;\n|};\n\nconfigurable int port = 8290;\nconfigurable string healthcareBackend = \"http://localhost:9090/healthcare\";\n\nfinal http:Client queryDoctorEP = check initializeHttpClient();\n\nfunction initializeHttpClient() returns http:Client|error =\u003e new (healthcareBackend);\n\nservice /healthcare on new http:Listener(port) {\n    resource function get querydoctor/[string category]() \n            returns Doctor[]|http:NotFound|http:InternalServerError {\n        log:printInfo(\"Retrieving information\", specialization = category);\n        \n        Doctor[]|http:ClientError resp = queryDoctorEP-\u003e/[category];\n        if resp is Doctor[] {\n            return resp;\n        }\n        \n        log:printError(\"Retrieving doctor information failed\", resp);\n        if resp is http:ClientRequestError {\n            return \u003chttp:NotFound\u003e {body: string `category not found: ${category}`};\n        }\n\n        return \u003chttp:InternalServerError\u003e {body: resp.message()};\n    }\n}\n```\n\n#### Sequence diagram\n\nThe [sequence diagram view](https://wso2.com/ballerina/vscode/docs/implement-the-code/sequence-diagram-view/) for the implemented resource method is the following.\n\n\u003cimg src=\"/learn/images/tutorial_sending_a_message_to_a_service.png\" alt=\"Sequence Diagram\" height=\"800\" style=\"width:auto; max-width:100%\"\u003e\n\n### Step 3: Build and run the service\n\nYou can run this service by navigating to the project root and using the `bal run` command.\n\n```\nsending-a-message-to-a-service$ bal run\nCompiling source\n        integration_tutorials/sending_a_message_to_a_service:0.1.0\n\nRunning executable\n```\n\n### Step 4: Try out the use case\n\nLet's test the use case by sending a request to the service.\n\n#### Start the backend service\n\nDownload the JAR file for the [backend service](https://github.com/ballerina-guides/integration-tutorials/blob/main/backends/hospital-service/hospitalservice.jar), and execute the following command to start the service:\n\n```\n$ bal run hospitalservice.jar\n```\n\n#### Send a request\n\nLet's send a request to the service using cURL as follows.\n\n1. Install and set up [cURL](https://curl.se/) as your client.\n\n2. Execute the following command.\n\n    ```\n    $ curl -v http://localhost:8290/healthcare/querydoctor/surgery\n    ```\n\n#### Verify the response\n\nYou will see the response message from the backend with a list of details of the available doctors.\n\n```json\n[\n    {\n        \"name\": \"thomas collins\",\n        \"hospital\": \"grand oak community hospital\",\n        \"category\": \"surgery\",\n        \"availability\": \"9.00 a.m - 11.00 a.m\",\n        \"fee\": 7000.0\n    },\n    {\n        \"name\": \"anne clement\",\n        \"hospital\": \"clemency medical center\",\n        \"category\": \"surgery\",\n        \"availability\": \"8.00 a.m - 10.00 a.m\",\n        \"fee\": 12000.0\n    },\n    {\n        \"name\": \"seth mears\",\n        \"hospital\": \"pine valley community hospital\",\n        \"category\": \"surgery\",\n        \"availability\": \"3.00 p.m - 5.00 p.m\",\n        \"fee\": 8000.0\n    }\n]\n```\n\nNow, check the terminal in which you ran the Ballerina service. You should see a log similar to the following.\n\n```\ntime = 2023-08-15T13:01:34.022+05:30 level = INFO module = integration_tutorials/sending_a_message_to_a_service message = \"Retrieving information\" specialization = \"surgery\"\n```\n\n### Step 5: Write tests for the use case\n\nLet's test the use case by writing a test case that sends a request to the service and validates the payload for a successful request. Testing is enabled by the [Ballerina test framework](https://ballerina.io/learn/test-ballerina-code/test-services-and-clients/).\n\n1. Introduce the tests in a `.bal` file within a directory named `tests` in the package. Import the `ballerina/test` module to use the Ballerina test framework and the `ballerina/http` module to use an `http:Client` client object to send requests to the implemented service and mock the backend service.\n\n    ```ballerina\n    import ballerina/http;\n    import ballerina/test;\n    ```\n\n2. Mock the backend service by mocking the `http:Client` object and the `get` resource method. Then, mock the `initializeHttpClient` function, using the `@test:Mock` annotation, to return the mock HTTP client.\n\n    ```ballerina\n    public client class MockHttpClient {\n        isolated resource function get [string... path](map\u003cstring|string[]\u003e? headers = (), \n                                                        http:TargetType targetType = http:Response,\n                                                        *http:QueryParams params) \n                                                    returns http:Response|anydata|http:ClientError {\n            match path[0] {\n                \"surgery\" =\u003e {\n                    return getSurgeryResponsePayload();\n                }\n            }\n            return \u003chttp:ClientRequestError\u003e error (\"unknown specialization\", \n                                                body = string `unknown specialization: ${path[0]}`, \n                                                headers = {}, \n                                                statusCode = http:STATUS_NOT_FOUND);\n        }\n    }\n\n    @test:Mock {\n        functionName: \"initializeHttpClient\"\n    }\n    function initializeHttpClientMock() returns http:Client|error =\u003e\n        test:mock(http:Client, new MockHttpClient());\n    ```\n\n3. Use the `@test:Config` annotation to indicate that a function is a test function. Implement the test to send a request to the service and test for value equality between the retrieved payload and the expected payload using the `test:assertEquals` function.\n\n    ```ballerina\n    @test:Config\n    function testSuccessfulRequest() returns error? {\n        Doctor[] doctors = check cl-\u003e/surgery;\n        test:assertEquals(doctors, getSurgeryResponsePayload());\n    }\n    ```\n\n4. Run the `bal test` command from the project root to run the tests.\n\n    ```\n    sending-a-message-to-a-service$ bal test\n    Compiling source\n            integration_tutorials/sending_a_message_to_a_service:0.1.0\n\n    Running Tests\n\n            sending_a_message_to_a_service\n    time = 2023-08-17T09:01:23.758+05:30 level = INFO module = integration_tutorials/sending_a_message_to_a_service message = \"Retrieving information\" specialization = \"surgery\"\n\n\n                    1 passing\n                    0 failing\n                    0 skipped\n    ```\n\nYou have now developed and tested a simple Ballerina REST service, which receives a request, logs a message, sends a request to a backend service, and responds to the original request with the response from the backend service.\n\n## Complete implementation\n\nCheck out the [complete implementation](https://github.com/ballerina-guides/integration-tutorials/tree/main/sending-a-message-to-a-service) on GitHub.\n\n## References\n\n- [`ballerina/http` API docs](https://lib.ballerina.io/ballerina/http/latest)\n- [`ballerina/log` API docs](https://lib.ballerina.io/ballerina/log/latest)\n- [`ballerina/test` API docs](https://lib.ballerina.io/ballerina/test/latest)\n","slug":"sending-a-message-to-a-service","codes":"[[-539073824,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/log;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1933303010,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e port \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e healthcareBackend \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://localhost:9090/healthcare\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1590572071,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient queryDoctorEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ehealthcareBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1328887029,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eDoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e availability;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[294272076,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003e/healthcare\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003equerydoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]() {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[565093922,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003e/healthcare\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003equerydoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]() \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Doctor[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving information\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003especialization\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Doctor[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e queryDoctorEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Doctor[] {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`category not found: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1014309238,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003elog\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving information\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003especialization\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[791774642,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eDoctor[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e queryDoctorEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category];\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-869984733,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003elog\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving information\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003especialization\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eDoctor[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e queryDoctorEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Doctor[] {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003elog\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving doctor information failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eresp\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`category not found: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[32805270,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/log;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eDoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e availability;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e port \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e healthcareBackend \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://localhost:9090/healthcare\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient queryDoctorEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ehealthcareBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003e/healthcare\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003equerydoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]() \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Doctor[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving information\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003especialization\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Doctor[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e queryDoctorEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Doctor[] {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving doctor information failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eresp\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`category not found: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e resp.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1431345120,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;thomas collins\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;grand oak community hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;category\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;surgery\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;availability\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;9.00 a.m - 11.00 a.m\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;fee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e7000.0\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;anne clement\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;clemency medical center\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;category\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;surgery\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;availability\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;8.00 a.m - 10.00 a.m\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;fee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e12000.0\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;seth mears\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;pine valley community hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;category\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;surgery\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;availability\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;3.00 p.m - 5.00 p.m\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;fee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e8000.0\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[475684256,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/test;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1838933736,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eclient class\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eMockHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eisolated\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e...\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epath\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e](\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003emap\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e? \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eheaders\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (), \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                                                    http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eTargetType targetType \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eResponse,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                                                    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eQueryParams params) \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                                                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eResponse\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eanydata\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp:ClientError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ematch\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e path[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e] {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;surgery\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003egetSurgeryResponsePayload\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;unknown specialization\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                                            \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ebody\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown specialization: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003epath\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e]\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                                            \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eheaders\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {}, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                                            \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003estatusCode\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eSTATUS_NOT_FOUND);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e@\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003etest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eMock\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    functionName\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;initializeHttpClient\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClientMock\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u0026gt;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    test\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emock\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient, \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eMockHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1817740955,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e@\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003etest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eConfig\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003etestSuccessfulRequest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eerror?\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    Doctor[] doctors \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e cl\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003esurgery;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    test\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eassertEquals\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003edoctors\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003egetSurgeryResponsePayload\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/learn/integration/integration-tutorials/[slug]","query":{"slug":"sending-a-message-to-a-service"},"buildId":"4lgVw8IoL38HjCi_fHvUa","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>