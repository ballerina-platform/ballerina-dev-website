<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="Integration tutorial for sending emails from a service."/><meta name="keywords" content="ballerinalang, integration, microservices, programming language, cloud native, ballerina language"/><title>Sending emails from a service - The Ballerina programming language</title><meta property="og:type" content="article"/><meta property="og:title" content="Sending emails from a service - The Ballerina programming language"/><meta property="og:description" content="Integration tutorial for sending emails from a service."/><meta property="og:image" itemProp="image" content="https://ballerina.io/images/ballerina-learn-integration-tutorials-page-sm-banner.png"/><meta property="og:title" content="Sending emails from a service - The Ballerina programming language"/><meta property="og:image" content="https://ballerina.io/images/ballerina-learn-integration-tutorials-page-sm-banner.png"/><meta name="twitter:title" content="Sending emails from a service - The Ballerina programming language"/><meta property="twitter:description" content="Integration tutorial for sending emails from a service."/><meta property="twitter:text:description" content="Integration tutorial for sending emails from a service."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="24"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta http-equiv="X-Frame-Options" content="SAMEORIGIN"/><meta http-equiv="Content-Security-Policy" content="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/9bb35c8110b0fa38.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9bb35c8110b0fa38.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-163a486a43645075.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ba2391f08766dae9.js" defer=""></script><script src="/_next/static/chunks/1bfc9850-07afe3a69e1ba759.js" defer=""></script><script src="/_next/static/chunks/7621-d6bcd83f463fef72.js" defer=""></script><script src="/_next/static/chunks/1058-de0b031bc614d462.js" defer=""></script><script src="/_next/static/chunks/6084-4e54ad5efcb8d3b5.js" defer=""></script><script src="/_next/static/chunks/5530-11a262420fdd225c.js" defer=""></script><script src="/_next/static/chunks/9684-074b9a695fa68133.js" defer=""></script><script src="/_next/static/chunks/3066-532e3a00a68674d9.js" defer=""></script><script src="/_next/static/chunks/2659-19793be73574112a.js" defer=""></script><script src="/_next/static/chunks/pages/learn/integration/integration-tutorials/%5Bslug%5D-324f677c05b606db.js" defer=""></script><script src="/_next/static/c8UVawooki32d65FyPmDu/_buildManifest.js" defer=""></script><script src="/_next/static/c8UVawooki32d65FyPmDu/_ssgManifest.js" defer=""></script><script src="/_next/static/c8UVawooki32d65FyPmDu/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper other vstack gap-0"><div class="wrap-page-content container"><div class="row"><div class="mdContent col-sm-10 col-12"><div class="row"><div style="margin-bottom:20px;" class="patternContent col-12"><div class="backToLanding" href="/learn/integration-tutorials/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#3ad1ca" class="bi bi-box-arrow-left ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"></path><path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"></path></svg><p class="m-0 p-0">Back to integration tutorials</p></div></div></div><div class="topRow innerRow row"><div class="col-11"><h1>Sending emails from a service</h1></div><div class="gitIcon col-1"><a href="https://github.com/ballerina-platform/ballerina-dev-website/blob/master/swan-lake/integration-tutorials/sending-emails-from-a-service.md" target="_blank" rel="noreferrer" title="Edit in GitHub"></a></div></div><div style="margin-top:40px;margin-bottom:0;align-items:center" class="pageContentRow innerRow row"><div class="col-12"><p>This tutorial helps you understand the basics of Ballerina constructs, which allow you to do client calls, develop RESTful APIs, and send emails using the SMTP protocol.</p></div></div><div class="pageContentRow innerRow row"><div class="col-12"><h2 id="overview" data-section="overview" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Overview</h2>
<p>In this tutorial, you will develop a service that accepts requests to make an appointment at a hospital, makes the appointment, and sends an email to the client confirming the appointment details.</p>
<p>To implement this use case, you will develop a REST service with a single resource using Visual Studio Code with the Ballerina Swan Lake extension. This resource will receive the user request, reserve the appointment, and send an email to the user with the appointment details.</p>
<p>The flow is as follows.</p>
<ol>
<li>
<p>Receive a request with a JSON payload in the following form.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#005CC5">    "patient"</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#005CC5">        "name"</span><span style="color:#24292E">: </span><span style="color:#032F62">"John Doe"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "dob"</span><span style="color:#24292E">: </span><span style="color:#032F62">"1940-03-19"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "ssn"</span><span style="color:#24292E">: </span><span style="color:#032F62">"234-23-525"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "address"</span><span style="color:#24292E">: </span><span style="color:#032F62">"California"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "phone"</span><span style="color:#24292E">: </span><span style="color:#032F62">"8770586755"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "email"</span><span style="color:#24292E">: </span><span style="color:#032F62">"johndoe@gmail.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "cardNo"</span><span style="color:#24292E">: </span><span style="color:#032F62">"7844481124110331"</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#005CC5">    "doctor"</span><span style="color:#24292E">: </span><span style="color:#032F62">"thomas collins"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "hospital_id"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grandoaks"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "hospital"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grand oak community hospital"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "appointment_date"</span><span style="color:#24292E">: </span><span style="color:#032F62">"2023-10-02"</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Extract necessary details from the request (e.g., hospital, patient, doctor, etc.) and make a call to the hospital backend service to request an appointment. A response similar to the following will be returned from the hospital backend service on success.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#005CC5">    "appointmentNumber"</span><span style="color:#24292E">: </span><span style="color:#005CC5">1</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "doctor"</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#005CC5">        "name"</span><span style="color:#24292E">: </span><span style="color:#032F62">"thomas collins"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "hospital"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grand oak community hospital"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "category"</span><span style="color:#24292E">: </span><span style="color:#032F62">"surgery"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "availability"</span><span style="color:#24292E">: </span><span style="color:#032F62">"9.00 a.m - 11.00 a.m"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "fee"</span><span style="color:#24292E">: </span><span style="color:#005CC5">7000.0</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#005CC5">    "patient"</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#005CC5">        "name"</span><span style="color:#24292E">: </span><span style="color:#032F62">"John Doe"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "dob"</span><span style="color:#24292E">: </span><span style="color:#032F62">"1940-03-19"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "ssn"</span><span style="color:#24292E">: </span><span style="color:#032F62">"234-23-525"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "address"</span><span style="color:#24292E">: </span><span style="color:#032F62">"California"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "phone"</span><span style="color:#24292E">: </span><span style="color:#032F62">"8770586755"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "email"</span><span style="color:#24292E">: </span><span style="color:#032F62">"johndoe@gmail.com"</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#005CC5">    "hospital"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grand oak community hospital"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "confirmed"</span><span style="color:#24292E">: </span><span style="color:#005CC5">false</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "appointmentDate"</span><span style="color:#24292E">: </span><span style="color:#032F62">"2023-10-02"</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Call the payment backend service to make the payment to confirm the appointment. If the payment is successful, the response payload will be similar to that shown below.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#005CC5">    "appointmentNo"</span><span style="color:#24292E">: </span><span style="color:#005CC5">1</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "doctorName"</span><span style="color:#24292E">: </span><span style="color:#032F62">"thomas collins"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "patient"</span><span style="color:#24292E">: </span><span style="color:#032F62">"John Doe"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "actualFee"</span><span style="color:#24292E">: </span><span style="color:#005CC5">7000</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "discount"</span><span style="color:#24292E">: </span><span style="color:#005CC5">20</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "discounted"</span><span style="color:#24292E">: </span><span style="color:#005CC5">5600.0</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "paymentID"</span><span style="color:#24292E">: </span><span style="color:#032F62">"8458c75a-c8e0-4d49-8da4-5e56043b1a20"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "status"</span><span style="color:#24292E">: </span><span style="color:#032F62">"settled"</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>If the payment is successful, send an email to the user with the appointment details.</p>
</li>
</ol>
<h3 id="concepts-covered" data-section="concepts-covered" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Concepts covered</h3>
<ul>
<li>REST API</li>
<li>HTTP Client</li>
<li>Email Client</li>
</ul>
<h2 id="develop-the-application" data-section="develop-the-application" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Develop the application</h2>
<h3 id="step-1-set-up-the-workspace" data-section="step-1-set-up-the-workspace" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 1: Set up the workspace</h3>
<p>Install <a href="https://ballerina.io/downloads/" target="_blank" rel="nofollow noopener noreferrer">Ballerina Swan Lake</a> and the <a href="https://marketplace.visualstudio.com/items?itemName=wso2.ballerina" target="_blank" rel="nofollow noopener noreferrer">Ballerina Swan Lake VS Code extension</a> on VS Code.</p>
<h3 id="step-2-develop-the-service" data-section="step-2-develop-the-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 2: Develop the service</h3>
<p>Follow the instructions given in this section to develop the service.</p>
<ol>
<li>
<p>Create a new Ballerina project using the <code>bal</code> command and open it in VS Code.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#ffffff;tab-index:0"><code>$ bal new sending-emails-from-a-service
</code></pre></div></div></pre>
</li>
<li>
<p>Remove the generated content in the <code>main.bal</code> file and open the diagram view in VS Code.</p>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/open_diagram_view.gif" alt="Open diagram view"/></p>
</li>
<li>
<p>Generate record types corresponding to the payloads from the hospital and payment backend services by providing samples of the expected JSON payloads.</p>
<p>The payload from the hospital backend service will be a JSON object similar to the following.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#005CC5">    "appointmentNumber"</span><span style="color:#24292E">: </span><span style="color:#005CC5">1</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "doctor"</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#005CC5">        "name"</span><span style="color:#24292E">: </span><span style="color:#032F62">"thomas collins"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "hospital"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grand oak community hospital"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "category"</span><span style="color:#24292E">: </span><span style="color:#032F62">"surgery"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "availability"</span><span style="color:#24292E">: </span><span style="color:#032F62">"9.00 a.m - 11.00 a.m"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "fee"</span><span style="color:#24292E">: </span><span style="color:#005CC5">7000.0</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#005CC5">    "patient"</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#005CC5">        "name"</span><span style="color:#24292E">: </span><span style="color:#032F62">"John Doe"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "dob"</span><span style="color:#24292E">: </span><span style="color:#032F62">"1940-03-19"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "ssn"</span><span style="color:#24292E">: </span><span style="color:#032F62">"234-23-525"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "address"</span><span style="color:#24292E">: </span><span style="color:#032F62">"California"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "phone"</span><span style="color:#24292E">: </span><span style="color:#032F62">"8770586755"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "email"</span><span style="color:#24292E">: </span><span style="color:#032F62">"johndoe@gmail.com"</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#005CC5">    "hospital"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grand oak community hospital"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "confirmed"</span><span style="color:#24292E">: </span><span style="color:#005CC5">false</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "appointmentDate"</span><span style="color:#24292E">: </span><span style="color:#032F62">"2023-10-02"</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></pre>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/define_records.gif" alt="Define records"/></p>
<p>The generated records will be as follows.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Patient</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> name;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> dob;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> ssn;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> address;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> phone;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> email;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Doctor</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> name;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> category;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> availability;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> fee;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Appointment</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> appointmentNumber;</span></span>
<span class="line"><span style="color:#24292E">    Doctor doctor;</span></span>
<span class="line"><span style="color:#24292E">    Patient patient;</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> confirmed;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> appointmentDate;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Payment</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> appointmentNo;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> doctorName;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> patient;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> actualFee;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> discount;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> discounted;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> paymentID;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> status;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> PatientWithCardNo</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">Patient;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> cardNo;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ReservationRequest</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    PatientWithCardNo patient;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> doctor;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital_id;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> appointment_date;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ReservationResponse</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> appointmentNo;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> doctorName;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> patient;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> actualFee;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> discount;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> discounted;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> paymentID;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> status;</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre></div></div></pre>
<blockquote>
<p><strong>Note:</strong>
While it is possible to work with the JSON payload directly, using record types offers several advantages including enhanced type safety, data validation, and better tooling experience (e.g., completion).</p>
</blockquote>
<blockquote>
<p><strong>Note:</strong>
When the fields of the JSON objects are expected to be exactly those specified in the sample payload, the generated records can be updated to be <a href="https://ballerina.io/learn/by-example/controlling-openness/" target="_blank" rel="nofollow noopener noreferrer">closed records</a>, which would indicate that no other fields are allowed or expected.</p>
</blockquote>
</li>
<li>
<p>Define the <a href="https://ballerina.io/learn/by-example/#rest-service" target="_blank" rel="nofollow noopener noreferrer">HTTP service (REST API)</a> that has the resource that accepts user requests, retrieves relevant details from the backend service, and sends an email to the client.</p>
<ul>
<li>
<p>Open the <a href="https://wso2.com/ballerina/vscode/docs/design-the-services/http-api-designer" target="_blank" rel="nofollow noopener noreferrer">Ballerina HTTP API Designer</a> in VS Code.</p>
</li>
<li>
<p>Use <code>/healthcare</code> as the service path (or the context) for the service attached to the listener that is listening on port <code>8290</code>.</p>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_service.gif" alt="Define the service"/></p>
</li>
<li>
<p>Define an HTTP resource that allows the <code>POST</code> operation on the resource path <code>/categories/{category}/reserve</code> and accepts the <code>category</code> path parameter (corresponding to the specialization). Use <code>ReservationRequest</code> as a parameter indicating that the resource expects a JSON object corresponding to <code>ReservationRequest</code> as the payload. Use <code>http:Created</code>, <code>http:NotFound</code>, and <code>http:InternalServerError</code> as the response types.</p>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_resource.gif" alt="Define the resource"/></p>
<p>The generated service will be as follows.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /healthcare</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> http:Listener(</span><span style="color:#005CC5">8290</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    resource</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> post</span><span style="color:#6F42C1"> categories</span><span style="color:#24292E">/[</span><span style="color:#005CC5">string</span><span style="color:#E36209"> category</span><span style="color:#24292E">]/reserve(</span><span style="color:#E36209">ReservationRequest</span><span style="color:#E36209"> payload</span><span style="color:#24292E">) </span></span>
<span class="line"><span style="color:#D73A49">            returns</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Created</span><span style="color:#D73A49">|</span><span style="color:#24292E">http:NotFound</span><span style="color:#D73A49">|</span><span style="color:#24292E">http:InternalServerError {</span></span>
<span class="line"><span style="color:#24292E">        </span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></pre>
</li>
</ul>
</li>
<li>
<p>Define <a href="https://ballerina.io/learn/by-example/#configurability" target="_blank" rel="nofollow noopener noreferrer">configurable variables</a> for the URLs of the backend services. Also, define configurable variables for the host, username, and password of the SMTP client.</p>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_configurable_variable.gif" alt="Define a configurable variable"/></p>
<p>The generated code will be as follows.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> hospitalServicesBackend </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "http://localhost:9090"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> paymentBackend </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "http://localhost:9090/healthcare/payments"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> host </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "smtp.gmail.com"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> username </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> password </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span></code></pre></div></div></pre>
<blockquote>
<p><strong>Note:</strong> Enable two factor authentication on your Google account, generate an app password, and use the app password in place of your email password. The app password can be generated with <a href="https://myaccount.google.com/apppasswords" target="_blank" rel="nofollow noopener noreferrer">this link</a>.</p>
</blockquote>
</li>
<li>
<p>Define two <a href="https://ballerina.io/learn/by-example/#http-client" target="_blank" rel="nofollow noopener noreferrer"><code>http:Client</code></a> objects to send requests to the backend services and one <a href="https://ballerina.io/learn/by-example/#email-client" target="_blank" rel="nofollow noopener noreferrer"><code>email:SmtpClient</code></a> object to send emails.</p>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_client.gif" alt="Define the clients"/></p>
<p>The generated code will be as follows.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">final</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client hospitalServicesEP </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">hospitalServicesBackend</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">final</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client paymentEP </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">paymentBackend</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">final</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">SmtpClient smtpClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">host</span><span style="color:#24292E">, </span><span style="color:#E36209">username</span><span style="color:#24292E">, </span><span style="color:#E36209">password</span><span style="color:#24292E">);</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Implement the logic.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /healthcare</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> http:Listener(</span><span style="color:#005CC5">8290</span><span style="color:#24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    resource</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> post</span><span style="color:#6F42C1"> categories</span><span style="color:#24292E">/[</span><span style="color:#005CC5">string</span><span style="color:#E36209"> category</span><span style="color:#24292E">]/reserve(</span><span style="color:#E36209">ReservationRequest</span><span style="color:#E36209"> payload</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">            returns</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Created</span><span style="color:#D73A49">|</span><span style="color:#24292E">http:NotFound</span><span style="color:#D73A49">|</span><span style="color:#24292E">http:InternalServerError {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        PatientWithCardNo patient </span><span style="color:#D73A49">=</span><span style="color:#24292E"> payload.patient;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        Appointment</span><span style="color:#D73A49">|</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientError appointment </span><span style="color:#D73A49">=</span></span>
<span class="line"><span style="color:#24292E">                hospitalServicesEP</span><span style="color:#D73A49">->/</span><span style="color:#24292E">[payload.hospital_id]</span><span style="color:#D73A49">/</span><span style="color:#24292E">categories</span><span style="color:#D73A49">/</span><span style="color:#24292E">[category]</span><span style="color:#D73A49">/</span><span style="color:#24292E">reserve.</span><span style="color:#6F42C1">post</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">            patient</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">                name</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.name,</span></span>
<span class="line"><span style="color:#24292E">                dob</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.dob,</span></span>
<span class="line"><span style="color:#24292E">                ssn</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.ssn,</span></span>
<span class="line"><span style="color:#24292E">                address</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.address,</span></span>
<span class="line"><span style="color:#24292E">                phone</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.phone,</span></span>
<span class="line"><span style="color:#24292E">                email</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.email</span></span>
<span class="line"><span style="color:#24292E">            },</span></span>
<span class="line"><span style="color:#E36209">            doctor</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payload.doctor,</span></span>
<span class="line"><span style="color:#E36209">            hospital</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payload.hospital,</span></span>
<span class="line"><span style="color:#E36209">            appointment_date</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payload.appointment_date</span></span>
<span class="line"><span style="color:#24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> appointment </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> Appointment {</span></span>
<span class="line"><span style="color:#24292E">            log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Appointment reservation failed"</span><span style="color:#24292E">, </span><span style="color:#E36209">appointment</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> appointment </span><span style="color:#D73A49">is</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientRequestError {</span></span>
<span class="line"><span style="color:#D73A49">                return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">NotFound</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> string </span><span style="color:#032F62">`unknown hospital, doctor, or category`</span><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#D73A49">            return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">InternalServerError</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">()};</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> appointmentNumber </span><span style="color:#D73A49">=</span><span style="color:#24292E"> appointment.appointmentNumber;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        Payment</span><span style="color:#D73A49">|</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientError payment </span><span style="color:#D73A49">=</span><span style="color:#24292E"> paymentEP</span><span style="color:#D73A49">->/</span><span style="color:#24292E">.</span><span style="color:#6F42C1">post</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">            appointmentNumber,</span></span>
<span class="line"><span style="color:#24292E">            doctor</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.doctor,</span></span>
<span class="line"><span style="color:#24292E">            patient</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.patient,</span></span>
<span class="line"><span style="color:#24292E">            fee</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.doctor.fee,</span></span>
<span class="line"><span style="color:#24292E">            confirmed</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.confirmed,</span></span>
<span class="line"><span style="color:#24292E">            card_number</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.cardNo</span></span>
<span class="line"><span style="color:#24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> payment </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> Payment {</span></span>
<span class="line"><span style="color:#24292E">            log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Payment settlement failed"</span><span style="color:#24292E">, </span><span style="color:#E36209">payment</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> payment </span><span style="color:#D73A49">is</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientRequestError {</span></span>
<span class="line"><span style="color:#D73A49">                return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">NotFound</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> string </span><span style="color:#032F62">`payment failed: unknown appointment number`</span><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#D73A49">            return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">InternalServerError</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payment.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">()};</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? sendMessage </span><span style="color:#D73A49">=</span><span style="color:#24292E"> smtpClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">sendMessage</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">            to</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.email,</span></span>
<span class="line"><span style="color:#24292E">            subject</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Appointment reservation confirmed at "</span><span style="color:#24292E"> + payload.hospital,</span></span>
<span class="line"><span style="color:#24292E">            body</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> getEmailContent</span><span style="color:#24292E">(</span><span style="color:#E36209">appointmentNumber</span><span style="color:#24292E">, </span><span style="color:#E36209">appointment</span><span style="color:#24292E">, </span><span style="color:#E36209">payment</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> sendMessage </span><span style="color:#D73A49">is</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error {</span></span>
<span class="line"><span style="color:#D73A49">            return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">InternalServerError</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> sendMessage.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">()};</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Created</span><span style="color:#D73A49">></span><span style="color:#24292E">{};</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getEmailContent</span><span style="color:#24292E">(</span><span style="color:#005CC5">int</span><span style="color:#E36209"> appointmentNumber</span><span style="color:#24292E">, </span><span style="color:#E36209">Appointment</span><span style="color:#E36209"> appointment</span><span style="color:#24292E">, </span><span style="color:#E36209">Payment</span><span style="color:#E36209"> payment</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">        returns</span><span style="color:#005CC5"> string</span><span style="color:#D73A49"> =></span></span>
<span class="line"><span style="color:#D73A49">    let</span><span style="color:#24292E"> Patient patient </span><span style="color:#D73A49">=</span><span style="color:#24292E"> appointment.patient, Doctor doctor </span><span style="color:#D73A49">=</span><span style="color:#24292E"> appointment.doctor </span><span style="color:#D73A49">in</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#032F62"> `Appointment Confirmation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Appointment Details</span></span>
<span class="line"><span style="color:#032F62">        Appointment Number: ${</span><span style="color:#24292E">appointmentNumber</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Appointment Date: ${</span><span style="color:#24292E">appointment</span><span style="color:#032F62">.</span><span style="color:#24292E">appointmentDate</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Patient Details</span></span>
<span class="line"><span style="color:#032F62">        Name: ${</span><span style="color:#24292E">patient</span><span style="color:#032F62">.</span><span style="color:#24292E">name</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Contact Number: ${</span><span style="color:#24292E">patient</span><span style="color:#032F62">.</span><span style="color:#24292E">phone</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Doctor Details</span></span>
<span class="line"><span style="color:#032F62">        Name: ${</span><span style="color:#24292E">doctor</span><span style="color:#032F62">.</span><span style="color:#24292E">name</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Specialization: ${</span><span style="color:#24292E">doctor</span><span style="color:#032F62">.</span><span style="color:#24292E">category</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Payment Details</span></span>
<span class="line"><span style="color:#032F62">        Doctor Fee: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">actualFee</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Discount: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">discount</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Total Fee: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">discounted</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Payment Status: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">status</span><span style="color:#032F62">}`</span><span style="color:#24292E">;</span></span></code></pre></div></div></pre>
<ul>
<li>
<p>The first backend call is a <code>POST</code> request to the hospital service to reserve the appointment. The <code>hospital_id</code> and <code>category</code> values are used as path parameters.</p>
</li>
<li>
<p>Use the <code>is</code> check to decide the flow based on the response to the client call. If the request failed with a <code>4xx</code> status code, return an <code>http:NotFound</code> response. Else, if the payload could not be bound to <code>Appointment</code> as expected or if there were any other failures, respond with an <code>http:InternalServerError</code> response.</p>
</li>
<li>
<p>If the appointment reservation was successful, we can make the payment by making a <code>POST</code> request to the payment service. The payload includes details extracted out from the original request (for <code>card_number</code>) and the appointment reservation response (for <code>appointmentNumber</code>, <code>doctor</code>, <code>patient</code>, <code>fee</code>, and <code>confirmed</code>).</p>
</li>
<li>
<p>If the payment was successful, the next and final step is to send an email to the user with the appointment details. We send the email specifying the user&#x27;s email address, the subject, and the email body.</p>
</li>
<li>
<p>If the email is sent successfully, the response will be an <code>http:Created</code> response. If the email sending process resulted in an error, an <code>http:InternalServerError</code> response will be returned.</p>
</li>
</ul>
</li>
</ol>
<p>You have successfully developed the required service.</p>
<h4 id="complete-source" data-section="complete-source" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Complete source</h4>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/email;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/http;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/log;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Patient</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> name;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> dob;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> ssn;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> address;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> phone;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> email;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Doctor</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> name;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> category;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> availability;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> fee;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Appointment</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> appointmentNumber;</span></span>
<span class="line"><span style="color:#24292E">    Doctor doctor;</span></span>
<span class="line"><span style="color:#24292E">    Patient patient;</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> confirmed;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> appointmentDate;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> Payment</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> appointmentNo;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> doctorName;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> patient;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> actualFee;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> discount;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> discounted;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> paymentID;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> status;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> PatientWithCardNo</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">Patient;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> cardNo;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ReservationRequest</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">    PatientWithCardNo patient;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> doctor;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital_id;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> hospital;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> appointment_date;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">type</span><span style="color:#6F42C1"> ReservationResponse</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> appointmentNo;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> doctorName;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> patient;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> actualFee;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> discount;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> discounted;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> paymentID;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> status;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> hospitalServicesBackend </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "http://localhost:9090"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> paymentBackend </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "http://localhost:9090/healthcare/payments"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> host </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "smtp.gmail.com"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> username </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> password </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">final</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client hospitalServicesEP </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">hospitalServicesBackend</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">final</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client paymentEP </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">paymentBackend</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">final</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">SmtpClient smtpClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">host</span><span style="color:#24292E">, </span><span style="color:#E36209">username</span><span style="color:#24292E">, </span><span style="color:#E36209">password</span><span style="color:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /healthcare</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> http:Listener(</span><span style="color:#005CC5">8290</span><span style="color:#24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    resource</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> post</span><span style="color:#6F42C1"> categories</span><span style="color:#24292E">/[</span><span style="color:#005CC5">string</span><span style="color:#E36209"> category</span><span style="color:#24292E">]/reserve(</span><span style="color:#E36209">ReservationRequest</span><span style="color:#E36209"> payload</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">            returns</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Created</span><span style="color:#D73A49">|</span><span style="color:#24292E">http:NotFound</span><span style="color:#D73A49">|</span><span style="color:#24292E">http:InternalServerError {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        PatientWithCardNo patient </span><span style="color:#D73A49">=</span><span style="color:#24292E"> payload.patient;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        Appointment</span><span style="color:#D73A49">|</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientError appointment </span><span style="color:#D73A49">=</span></span>
<span class="line"><span style="color:#24292E">                hospitalServicesEP</span><span style="color:#D73A49">->/</span><span style="color:#24292E">[payload.hospital_id]</span><span style="color:#D73A49">/</span><span style="color:#24292E">categories</span><span style="color:#D73A49">/</span><span style="color:#24292E">[category]</span><span style="color:#D73A49">/</span><span style="color:#24292E">reserve.</span><span style="color:#6F42C1">post</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">            patient</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">                name</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.name,</span></span>
<span class="line"><span style="color:#24292E">                dob</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.dob,</span></span>
<span class="line"><span style="color:#24292E">                ssn</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.ssn,</span></span>
<span class="line"><span style="color:#24292E">                address</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.address,</span></span>
<span class="line"><span style="color:#24292E">                phone</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.phone,</span></span>
<span class="line"><span style="color:#24292E">                email</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.email</span></span>
<span class="line"><span style="color:#24292E">            },</span></span>
<span class="line"><span style="color:#E36209">            doctor</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payload.doctor,</span></span>
<span class="line"><span style="color:#E36209">            hospital</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payload.hospital,</span></span>
<span class="line"><span style="color:#E36209">            appointment_date</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payload.appointment_date</span></span>
<span class="line"><span style="color:#24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> appointment </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> Appointment {</span></span>
<span class="line"><span style="color:#24292E">            log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Appointment reservation failed"</span><span style="color:#24292E">, </span><span style="color:#E36209">appointment</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> appointment </span><span style="color:#D73A49">is</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientRequestError {</span></span>
<span class="line"><span style="color:#D73A49">                return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">NotFound</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> string </span><span style="color:#032F62">`unknown hospital, doctor, or category`</span><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#D73A49">            return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">InternalServerError</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">()};</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> appointmentNumber </span><span style="color:#D73A49">=</span><span style="color:#24292E"> appointment.appointmentNumber;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        Payment</span><span style="color:#D73A49">|</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientError payment </span><span style="color:#D73A49">=</span><span style="color:#24292E"> paymentEP</span><span style="color:#D73A49">->/</span><span style="color:#24292E">.</span><span style="color:#6F42C1">post</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">            appointmentNumber,</span></span>
<span class="line"><span style="color:#24292E">            doctor</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.doctor,</span></span>
<span class="line"><span style="color:#24292E">            patient</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.patient,</span></span>
<span class="line"><span style="color:#24292E">            fee</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.doctor.fee,</span></span>
<span class="line"><span style="color:#24292E">            confirmed</span><span style="color:#D73A49">:</span><span style="color:#24292E"> appointment.confirmed,</span></span>
<span class="line"><span style="color:#24292E">            card_number</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.cardNo</span></span>
<span class="line"><span style="color:#24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> payment </span><span style="color:#D73A49">!is</span><span style="color:#24292E"> Payment {</span></span>
<span class="line"><span style="color:#24292E">            log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Payment settlement failed"</span><span style="color:#24292E">, </span><span style="color:#E36209">payment</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> payment </span><span style="color:#D73A49">is</span><span style="color:#24292E"> http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ClientRequestError {</span></span>
<span class="line"><span style="color:#D73A49">                return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">NotFound</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> string </span><span style="color:#032F62">`payment failed: unknown appointment number`</span><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#D73A49">            return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">InternalServerError</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> payment.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">()};</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? sendMessage </span><span style="color:#D73A49">=</span><span style="color:#24292E"> smtpClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">sendMessage</span><span style="color:#24292E">({</span></span>
<span class="line"><span style="color:#24292E">            to</span><span style="color:#D73A49">:</span><span style="color:#24292E"> patient.email,</span></span>
<span class="line"><span style="color:#24292E">            subject</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Appointment reservation confirmed at "</span><span style="color:#24292E"> + payload.hospital,</span></span>
<span class="line"><span style="color:#24292E">            body</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> getEmailContent</span><span style="color:#24292E">(</span><span style="color:#E36209">appointmentNumber</span><span style="color:#24292E">, </span><span style="color:#E36209">appointment</span><span style="color:#24292E">, </span><span style="color:#E36209">payment</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> sendMessage </span><span style="color:#D73A49">is</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error {</span></span>
<span class="line"><span style="color:#D73A49">            return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">InternalServerError</span><span style="color:#D73A49">></span><span style="color:#24292E">{body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> sendMessage.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">()};</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#D73A49"> &#x3C;</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Created</span><span style="color:#D73A49">></span><span style="color:#24292E">{};</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">function</span><span style="color:#6F42C1"> getEmailContent</span><span style="color:#24292E">(</span><span style="color:#005CC5">int</span><span style="color:#E36209"> appointmentNumber</span><span style="color:#24292E">, </span><span style="color:#E36209">Appointment</span><span style="color:#E36209"> appointment</span><span style="color:#24292E">, </span><span style="color:#E36209">Payment</span><span style="color:#E36209"> payment</span><span style="color:#24292E">)</span></span>
<span class="line"><span style="color:#D73A49">        returns</span><span style="color:#005CC5"> string</span><span style="color:#D73A49"> =></span></span>
<span class="line"><span style="color:#D73A49">    let</span><span style="color:#24292E"> Patient patient </span><span style="color:#D73A49">=</span><span style="color:#24292E"> appointment.patient, Doctor doctor </span><span style="color:#D73A49">=</span><span style="color:#24292E"> appointment.doctor </span><span style="color:#D73A49">in</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#032F62"> `Appointment Confirmation</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Appointment Details</span></span>
<span class="line"><span style="color:#032F62">        Appointment Number: ${</span><span style="color:#24292E">appointmentNumber</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Appointment Date: ${</span><span style="color:#24292E">appointment</span><span style="color:#032F62">.</span><span style="color:#24292E">appointmentDate</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Patient Details</span></span>
<span class="line"><span style="color:#032F62">        Name: ${</span><span style="color:#24292E">patient</span><span style="color:#032F62">.</span><span style="color:#24292E">name</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Contact Number: ${</span><span style="color:#24292E">patient</span><span style="color:#032F62">.</span><span style="color:#24292E">phone</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Doctor Details</span></span>
<span class="line"><span style="color:#032F62">        Name: ${</span><span style="color:#24292E">doctor</span><span style="color:#032F62">.</span><span style="color:#24292E">name</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Specialization: ${</span><span style="color:#24292E">doctor</span><span style="color:#032F62">.</span><span style="color:#24292E">category</span><span style="color:#032F62">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#032F62">    Payment Details</span></span>
<span class="line"><span style="color:#032F62">        Doctor Fee: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">actualFee</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Discount: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">discount</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Total Fee: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">discounted</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        Payment Status: ${</span><span style="color:#24292E">payment</span><span style="color:#032F62">.</span><span style="color:#24292E">status</span><span style="color:#032F62">}`</span><span style="color:#24292E">;</span></span></code></pre></div></div></pre>
<h3 id="step-3-build-and-run-the-service" data-section="step-3-build-and-run-the-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 3: Build and run the service</h3>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/run_the_service.gif" alt="Run the service"/></p>
<blockquote>
<p><strong>Note:</strong>
Alternatively, you can run this service by navigating to the project root and using the <code>bal run</code> command.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"></div><div><pre class="shiki github-light" style="background-color:#ffffff;tab-index:0"><code>sending-emails-from-a-service$ bal run
Compiling source
        integration_tutorials/sending-emails-from-a-service:0.1.0

Running executable
</code></pre></div></div></pre>
</blockquote>
<h3 id="step-4-try-out-the-use-case" data-section="step-4-try-out-the-use-case" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 4: Try out the use case</h3>
<p>Let&#x27;s test the use case by sending a request to the service.</p>
<h4 id="start-the-backend-service" data-section="start-the-backend-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Start the backend service</h4>
<p>Download the JAR file for the <a href="https://github.com/ballerina-guides/integration-tutorials/blob/main/backends/hospital-service/hospitalservice.jar" target="_blank" rel="nofollow noopener noreferrer">backend service</a> and execute the following command to start the service.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#ffffff;tab-index:0"><code>$ bal run hospitalservice.jar
</code></pre></div></div></pre>
<h4 id="send-a-request" data-section="send-a-request" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Send a request</h4>
<p>Use the <a href="https://wso2.com/ballerina/vscode/docs/try-the-services/try-http-services/" target="_blank" rel="nofollow noopener noreferrer">Try it</a> feature to send a request to the service. Specify <code>surgery</code> as the path parameter. Use the following as the request payload.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:10px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">{</span></span>
<span class="line"><span style="color:#005CC5">    "patient"</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#005CC5">        "name"</span><span style="color:#24292E">: </span><span style="color:#032F62">"John Doe"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "dob"</span><span style="color:#24292E">: </span><span style="color:#032F62">"1940-03-19"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "ssn"</span><span style="color:#24292E">: </span><span style="color:#032F62">"234-23-525"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "address"</span><span style="color:#24292E">: </span><span style="color:#032F62">"California"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "phone"</span><span style="color:#24292E">: </span><span style="color:#032F62">"8770586755"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "email"</span><span style="color:#24292E">: </span><span style="color:#032F62">"johndoe@gmail.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">        "cardNo"</span><span style="color:#24292E">: </span><span style="color:#032F62">"7844481124110331"</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#005CC5">    "doctor"</span><span style="color:#24292E">: </span><span style="color:#032F62">"thomas collins"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "hospital_id"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grandoaks"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "hospital"</span><span style="color:#24292E">: </span><span style="color:#032F62">"grand oak community hospital"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#005CC5">    "appointment_date"</span><span style="color:#24292E">: </span><span style="color:#032F62">"2023-10-02"</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></pre>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/try_it.gif" alt="Send a request"/></p>
<h4 id="verify-the-email" data-section="verify-the-email" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Verify the email</h4>
<p>You will receive an email with information similar to the following for a successful appointment reservation.</p>
<p><img src="/learn/images/integration-tutorials/sending-emails-from-a-service/email.png" alt="Email"/></p>
<h2 id="complete-implementation" data-section="complete-implementation" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Complete implementation</h2>
<p>Check out the <a href="https://github.com/ballerina-guides/integration-tutorials/tree/main/sending-emails-from-a-service" target="_blank" rel="nofollow noopener noreferrer">complete implementation</a> on GitHub.</p>
<h2 id="references" data-section="references" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>References</h2>
<ul>
<li><a href="https://lib.ballerina.io/ballerina/http/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/http</code> API docs</a></li>
<li><a href="https://lib.ballerina.io/ballerina/email/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/email</code> API docs</a></li>
<li><a href="https://lib.ballerina.io/ballerina/log/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/log</code> API docs</a></li>
</ul></div></div></div><div class="pageToc d-none d-sm-block col-sm-2"></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"layout":"ballerina-sending-emails-from-a-service-left-nav-pages-swanlake","title":"Sending emails from a service","permalink":"/learn/sending-emails-from-a-service/","description":"Integration tutorial for sending emails from a service.","keywords":"ballerina, programming language, client, restful-api, integration, smtp, email","active":"sending-emails-from-a-service","intro":"This tutorial helps you understand the basics of Ballerina constructs, which allow you to do client calls, develop RESTful APIs, and send emails using the SMTP protocol."},"content":"\n## Overview\n\nIn this tutorial, you will develop a service that accepts requests to make an appointment at a hospital, makes the appointment, and sends an email to the client confirming the appointment details.\n\nTo implement this use case, you will develop a REST service with a single resource using Visual Studio Code with the Ballerina Swan Lake extension. This resource will receive the user request, reserve the appointment, and send an email to the user with the appointment details.\n\nThe flow is as follows.\n\n1. Receive a request with a JSON payload in the following form.\n\n    ```json\n    {\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\",\n            \"cardNo\": \"7844481124110331\"\n        },\n        \"doctor\": \"thomas collins\",\n        \"hospital_id\": \"grandoaks\",\n        \"hospital\": \"grand oak community hospital\",\n        \"appointment_date\": \"2023-10-02\"\n    }\n    ```\n\n2. Extract necessary details from the request (e.g., hospital, patient, doctor, etc.) and make a call to the hospital backend service to request an appointment. A response similar to the following will be returned from the hospital backend service on success.\n\n    ```json\n    {\n        \"appointmentNumber\": 1,\n        \"doctor\": {\n            \"name\": \"thomas collins\",\n            \"hospital\": \"grand oak community hospital\",\n            \"category\": \"surgery\",\n            \"availability\": \"9.00 a.m - 11.00 a.m\",\n            \"fee\": 7000.0\n        },\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\"\n        },\n        \"hospital\": \"grand oak community hospital\",\n        \"confirmed\": false,\n        \"appointmentDate\": \"2023-10-02\"\n    }\n    ```\n\n3. Call the payment backend service to make the payment to confirm the appointment. If the payment is successful, the response payload will be similar to that shown below.\n\n    ```json\n    {\n        \"appointmentNo\": 1,\n        \"doctorName\": \"thomas collins\",\n        \"patient\": \"John Doe\",\n        \"actualFee\": 7000,\n        \"discount\": 20,\n        \"discounted\": 5600.0,\n        \"paymentID\": \"8458c75a-c8e0-4d49-8da4-5e56043b1a20\",\n        \"status\": \"settled\"\n    }\n    ```\n\n4. If the payment is successful, send an email to the user with the appointment details. \n\n### Concepts covered\n\n- REST API\n- HTTP Client\n- Email Client\n\n## Develop the application\n\n### Step 1: Set up the workspace\n\nInstall [Ballerina Swan Lake](https://ballerina.io/downloads/) and the [Ballerina Swan Lake VS Code extension](https://marketplace.visualstudio.com/items?itemName=wso2.ballerina) on VS Code.\n\n### Step 2: Develop the service\n\nFollow the instructions given in this section to develop the service.\n\n1. Create a new Ballerina project using the `bal` command and open it in VS Code.\n\n    ```\n    $ bal new sending-emails-from-a-service\n    ```\n\n2. Remove the generated content in the `main.bal` file and open the diagram view in VS Code.\n\n    ![Open diagram view](/learn/images/integration-tutorials/sending-emails-from-a-service/open_diagram_view.gif)\n\n3. Generate record types corresponding to the payloads from the hospital and payment backend services by providing samples of the expected JSON payloads.\n\n    The payload from the hospital backend service will be a JSON object similar to the following.\n\n    ```json\n    {\n        \"appointmentNumber\": 1,\n        \"doctor\": {\n            \"name\": \"thomas collins\",\n            \"hospital\": \"grand oak community hospital\",\n            \"category\": \"surgery\",\n            \"availability\": \"9.00 a.m - 11.00 a.m\",\n            \"fee\": 7000.0\n        },\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\"\n        },\n        \"hospital\": \"grand oak community hospital\",\n        \"confirmed\": false,\n        \"appointmentDate\": \"2023-10-02\"\n    }\n    ```\n\n    ![Define records](/learn/images/integration-tutorials/sending-emails-from-a-service/define_records.gif)\n\n    The generated records will be as follows.\n\n    ```ballerina\n    type Patient record {\n        string name;\n        string dob;\n        string ssn;\n        string address;\n        string phone;\n        string email;\n    };\n\n    type Doctor record {\n        string name;\n        string hospital;\n        string category;\n        string availability;\n        decimal fee;\n    };\n\n    type Appointment record {\n        int appointmentNumber;\n        Doctor doctor;\n        Patient patient;\n        boolean confirmed;\n        string hospital;\n        string appointmentDate;\n    };\n\n    type Payment record {\n        int appointmentNo;\n        string doctorName;\n        string patient;\n        decimal actualFee;\n        int discount;\n        decimal discounted;\n        string paymentID;\n        string status;\n    };\n\n    type PatientWithCardNo record {\n        *Patient;\n        string cardNo;\n    };\n\n    type ReservationRequest record {\n        PatientWithCardNo patient;\n        string doctor;\n        string hospital_id;\n        string hospital;\n        string appointment_date;\n    };\n\n    type ReservationResponse record {\n        int appointmentNo;\n        string doctorName;\n        string patient;\n        decimal actualFee;\n        int discount;\n        decimal discounted;\n        string paymentID;\n        string status;\n    };\n    ```\n\n    \u003e **Note:**\n    \u003e While it is possible to work with the JSON payload directly, using record types offers several advantages including enhanced type safety, data validation, and better tooling experience (e.g., completion).\n\n    \u003e **Note:** \n    \u003e When the fields of the JSON objects are expected to be exactly those specified in the sample payload, the generated records can be updated to be [closed records](https://ballerina.io/learn/by-example/controlling-openness/), which would indicate that no other fields are allowed or expected.\n\n4. Define the [HTTP service (REST API)](https://ballerina.io/learn/by-example/#rest-service) that has the resource that accepts user requests, retrieves relevant details from the backend service, and sends an email to the client.\n\n    - Open the [Ballerina HTTP API Designer](https://wso2.com/ballerina/vscode/docs/design-the-services/http-api-designer) in VS Code.\n\n    - Use `/healthcare` as the service path (or the context) for the service attached to the listener that is listening on port `8290`.\n\n        ![Define the service](/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_service.gif)\n     \n    - Define an HTTP resource that allows the `POST` operation on the resource path `/categories/{category}/reserve` and accepts the `category` path parameter (corresponding to the specialization). Use `ReservationRequest` as a parameter indicating that the resource expects a JSON object corresponding to `ReservationRequest` as the payload. Use `http:Created`, `http:NotFound`, and `http:InternalServerError` as the response types.\n\n        ![Define the resource](/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_resource.gif)\n\n        The generated service will be as follows.\n\n        ```ballerina\n        service /healthcare on new http:Listener(8290) {\n            resource function post categories/[string category]/reserve(ReservationRequest payload) \n                    returns http:Created|http:NotFound|http:InternalServerError {\n                \n            }\n        }\n        ```\n\n5. Define [configurable variables](https://ballerina.io/learn/by-example/#configurability) for the URLs of the backend services. Also, define configurable variables for the host, username, and password of the SMTP client.\n\n    ![Define a configurable variable](/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_configurable_variable.gif)\n\n    The generated code will be as follows.\n\n    ```ballerina\n    configurable string hospitalServicesBackend = \"http://localhost:9090\";\n    configurable string paymentBackend = \"http://localhost:9090/healthcare/payments\";\n    configurable string host = \"smtp.gmail.com\";\n    configurable string username = ?;\n    configurable string password = ?;\n    ```\n\n    \u003e **Note:** Enable two factor authentication on your Google account, generate an app password, and use the app password in place of your email password. The app password can be generated with [this link](https://myaccount.google.com/apppasswords).\n\n6. Define two [`http:Client`](https://ballerina.io/learn/by-example/#http-client) objects to send requests to the backend services and one [`email:SmtpClient`](https://ballerina.io/learn/by-example/#email-client) object to send emails.\n   \n   ![Define the clients](/learn/images/integration-tutorials/sending-emails-from-a-service/define_a_client.gif)\n\n   The generated code will be as follows.\n\n   ```ballerina\n   final http:Client hospitalServicesEP = check new (hospitalServicesBackend);\n   final http:Client paymentEP = check new (paymentBackend);\n   final email:SmtpClient smtpClient = check new (host, username, password);\n   ```\n\n7. Implement the logic.\n\n    ```ballerina\n    service /healthcare on new http:Listener(8290) {\n\n        resource function post categories/[string category]/reserve(ReservationRequest payload)\n                returns http:Created|http:NotFound|http:InternalServerError {\n\n            PatientWithCardNo patient = payload.patient;\n\n            Appointment|http:ClientError appointment =\n                    hospitalServicesEP-\u003e/[payload.hospital_id]/categories/[category]/reserve.post({\n                patient: {\n                    name: patient.name,\n                    dob: patient.dob,\n                    ssn: patient.ssn,\n                    address: patient.address,\n                    phone: patient.phone,\n                    email: patient.email\n                },\n                doctor: payload.doctor,\n                hospital: payload.hospital,\n                appointment_date: payload.appointment_date\n            });\n\n            if appointment !is Appointment {\n                log:printError(\"Appointment reservation failed\", appointment);\n                if appointment is http:ClientRequestError {\n                    return \u003chttp:NotFound\u003e{body: string `unknown hospital, doctor, or category`};\n                }\n                return \u003chttp:InternalServerError\u003e{body: appointment.message()};\n            }\n\n            int appointmentNumber = appointment.appointmentNumber;\n\n            Payment|http:ClientError payment = paymentEP-\u003e/.post({\n                appointmentNumber,\n                doctor: appointment.doctor,\n                patient: appointment.patient,\n                fee: appointment.doctor.fee,\n                confirmed: appointment.confirmed,\n                card_number: patient.cardNo\n            });\n\n            if payment !is Payment {\n                log:printError(\"Payment settlement failed\", payment);\n                if payment is http:ClientRequestError {\n                    return \u003chttp:NotFound\u003e{body: string `payment failed: unknown appointment number`};\n                }\n                return \u003chttp:InternalServerError\u003e{body: payment.message()};\n            }\n\n            email:Error? sendMessage = smtpClient-\u003esendMessage({\n                to: patient.email,\n                subject: \"Appointment reservation confirmed at \" + payload.hospital,\n                body: getEmailContent(appointmentNumber, appointment, payment)\n            });\n\n            if sendMessage is email:Error {\n                return \u003chttp:InternalServerError\u003e{body: sendMessage.message()};\n            }\n            return \u003chttp:Created\u003e{};\n        }\n    }\n\n    function getEmailContent(int appointmentNumber, Appointment appointment, Payment payment)\n            returns string =\u003e\n        let Patient patient = appointment.patient, Doctor doctor = appointment.doctor in\n        string `Appointment Confirmation\n\n        Appointment Details\n            Appointment Number: ${appointmentNumber}\n            Appointment Date: ${appointment.appointmentDate}\n\n        Patient Details\n            Name: ${patient.name}\n            Contact Number: ${patient.phone}\n\n        Doctor Details\n            Name: ${doctor.name}\n            Specialization: ${doctor.category}\n\n        Payment Details\n            Doctor Fee: ${payment.actualFee}\n            Discount: ${payment.discount}\n            Total Fee: ${payment.discounted}\n            Payment Status: ${payment.status}`;\n    ```\n\n   - The first backend call is a `POST` request to the hospital service to reserve the appointment. The `hospital_id` and `category` values are used as path parameters.\n\n   - Use the `is` check to decide the flow based on the response to the client call. If the request failed with a `4xx` status code, return an `http:NotFound` response. Else, if the payload could not be bound to `Appointment` as expected or if there were any other failures, respond with an `http:InternalServerError` response.\n\n   - If the appointment reservation was successful, we can make the payment by making a `POST` request to the payment service. The payload includes details extracted out from the original request (for `card_number`) and the appointment reservation response (for `appointmentNumber`, `doctor`, `patient`, `fee`, and `confirmed`).\n\n   - If the payment was successful, the next and final step is to send an email to the user with the appointment details. We send the email specifying the user's email address, the subject, and the email body.\n\n   - If the email is sent successfully, the response will be an `http:Created` response. If the email sending process resulted in an error, an `http:InternalServerError` response will be returned.\n\nYou have successfully developed the required service.\n\n#### Complete source\n\n```ballerina\nimport ballerina/email;\nimport ballerina/http;\nimport ballerina/log;\n\ntype Patient record {|\n    string name;\n    string dob;\n    string ssn;\n    string address;\n    string phone;\n    string email;\n|};\n\ntype Doctor record {|\n    string name;\n    string hospital;\n    string category;\n    string availability;\n    decimal fee;\n|};\n\ntype Appointment record {|\n    int appointmentNumber;\n    Doctor doctor;\n    Patient patient;\n    boolean confirmed;\n    string hospital;\n    string appointmentDate;\n|};\n\ntype Payment record {|\n    int appointmentNo;\n    string doctorName;\n    string patient;\n    decimal actualFee;\n    int discount;\n    decimal discounted;\n    string paymentID;\n    string status;\n|};\n\ntype PatientWithCardNo record {|\n    *Patient;\n    string cardNo;\n|};\n\ntype ReservationRequest record {|\n    PatientWithCardNo patient;\n    string doctor;\n    string hospital_id;\n    string hospital;\n    string appointment_date;\n|};\n\ntype ReservationResponse record {|\n    int appointmentNo;\n    string doctorName;\n    string patient;\n    decimal actualFee;\n    int discount;\n    decimal discounted;\n    string paymentID;\n    string status;\n|};\n\nconfigurable string hospitalServicesBackend = \"http://localhost:9090\";\nconfigurable string paymentBackend = \"http://localhost:9090/healthcare/payments\";\nconfigurable string host = \"smtp.gmail.com\";\nconfigurable string username = ?;\nconfigurable string password = ?;\n\nfinal http:Client hospitalServicesEP = check new (hospitalServicesBackend);\nfinal http:Client paymentEP = check new (paymentBackend);\nfinal email:SmtpClient smtpClient = check new (host, username, password);\n\nservice /healthcare on new http:Listener(8290) {\n\n    resource function post categories/[string category]/reserve(ReservationRequest payload)\n            returns http:Created|http:NotFound|http:InternalServerError {\n\n        PatientWithCardNo patient = payload.patient;\n\n        Appointment|http:ClientError appointment =\n                hospitalServicesEP-\u003e/[payload.hospital_id]/categories/[category]/reserve.post({\n            patient: {\n                name: patient.name,\n                dob: patient.dob,\n                ssn: patient.ssn,\n                address: patient.address,\n                phone: patient.phone,\n                email: patient.email\n            },\n            doctor: payload.doctor,\n            hospital: payload.hospital,\n            appointment_date: payload.appointment_date\n        });\n\n        if appointment !is Appointment {\n            log:printError(\"Appointment reservation failed\", appointment);\n            if appointment is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e{body: string `unknown hospital, doctor, or category`};\n            }\n            return \u003chttp:InternalServerError\u003e{body: appointment.message()};\n        }\n\n        int appointmentNumber = appointment.appointmentNumber;\n\n        Payment|http:ClientError payment = paymentEP-\u003e/.post({\n            appointmentNumber,\n            doctor: appointment.doctor,\n            patient: appointment.patient,\n            fee: appointment.doctor.fee,\n            confirmed: appointment.confirmed,\n            card_number: patient.cardNo\n        });\n\n        if payment !is Payment {\n            log:printError(\"Payment settlement failed\", payment);\n            if payment is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e{body: string `payment failed: unknown appointment number`};\n            }\n            return \u003chttp:InternalServerError\u003e{body: payment.message()};\n        }\n\n        email:Error? sendMessage = smtpClient-\u003esendMessage({\n            to: patient.email,\n            subject: \"Appointment reservation confirmed at \" + payload.hospital,\n            body: getEmailContent(appointmentNumber, appointment, payment)\n        });\n\n        if sendMessage is email:Error {\n            return \u003chttp:InternalServerError\u003e{body: sendMessage.message()};\n        }\n        return \u003chttp:Created\u003e{};\n    }\n}\n\nfunction getEmailContent(int appointmentNumber, Appointment appointment, Payment payment)\n        returns string =\u003e\n    let Patient patient = appointment.patient, Doctor doctor = appointment.doctor in\n    string `Appointment Confirmation\n\n    Appointment Details\n        Appointment Number: ${appointmentNumber}\n        Appointment Date: ${appointment.appointmentDate}\n\n    Patient Details\n        Name: ${patient.name}\n        Contact Number: ${patient.phone}\n\n    Doctor Details\n        Name: ${doctor.name}\n        Specialization: ${doctor.category}\n\n    Payment Details\n        Doctor Fee: ${payment.actualFee}\n        Discount: ${payment.discount}\n        Total Fee: ${payment.discounted}\n        Payment Status: ${payment.status}`;\n```\n\n### Step 3: Build and run the service\n\n![Run the service](/learn/images/integration-tutorials/sending-emails-from-a-service/run_the_service.gif)\n\n\u003e **Note:**\n\u003e Alternatively, you can run this service by navigating to the project root and using the `bal run` command.\n\u003e\n\u003e ```\n\u003e sending-emails-from-a-service$ bal run\n\u003e Compiling source\n\u003e         integration_tutorials/sending-emails-from-a-service:0.1.0\n\u003e\n\u003e Running executable\n\u003e ```\n\n### Step 4: Try out the use case\n\nLet's test the use case by sending a request to the service.\n\n#### Start the backend service\n\nDownload the JAR file for the [backend service](https://github.com/ballerina-guides/integration-tutorials/blob/main/backends/hospital-service/hospitalservice.jar) and execute the following command to start the service.\n\n```\n$ bal run hospitalservice.jar\n```\n\n#### Send a request\n\nUse the [Try it](https://wso2.com/ballerina/vscode/docs/try-the-services/try-http-services/) feature to send a request to the service. Specify `surgery` as the path parameter. Use the following as the request payload.\n\n```json\n    {\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\",\n            \"cardNo\": \"7844481124110331\"\n        },\n        \"doctor\": \"thomas collins\",\n        \"hospital_id\": \"grandoaks\",\n        \"hospital\": \"grand oak community hospital\",\n        \"appointment_date\": \"2023-10-02\"\n    }\n```\n\n![Send a request](/learn/images/integration-tutorials/sending-emails-from-a-service/try_it.gif)\n\n#### Verify the email\n\nYou will receive an email with information similar to the following for a successful appointment reservation.\n\n![Email](/learn/images/integration-tutorials/sending-emails-from-a-service/email.png)\n\n## Complete implementation\n\nCheck out the [complete implementation](https://github.com/ballerina-guides/integration-tutorials/tree/main/sending-emails-from-a-service) on GitHub.\n\n## References\n\n- [`ballerina/http` API docs](https://lib.ballerina.io/ballerina/http/latest)\n- [`ballerina/email` API docs](https://lib.ballerina.io/ballerina/email/latest)\n- [`ballerina/log` API docs](https://lib.ballerina.io/ballerina/log/latest)\n","slug":"sending-emails-from-a-service","codes":"[[-236206095,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"patient\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"name\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"John Doe\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"dob\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"1940-03-19\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"ssn\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"234-23-525\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"address\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"California\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"phone\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"8770586755\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"email\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"johndoe@gmail.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"cardNo\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"7844481124110331\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"doctor\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"thomas collins\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"hospital_id\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"grandoaks\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"hospital\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"grand oak community hospital\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"appointment_date\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"2023-10-02\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1379860178,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"appointmentNumber\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"doctor\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"name\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"thomas collins\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"hospital\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"grand oak community hospital\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"category\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"surgery\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"availability\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"9.00 a.m - 11.00 a.m\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"fee\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e7000.0\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"patient\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"name\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"John Doe\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"dob\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"1940-03-19\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"ssn\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"234-23-525\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"address\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"California\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"phone\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"8770586755\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        \\\"email\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"johndoe@gmail.com\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"hospital\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"grand oak community hospital\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"confirmed\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003efalse\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"appointmentDate\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"2023-10-02\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-2063565051,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"appointmentNo\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"doctorName\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"thomas collins\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"patient\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"John Doe\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"actualFee\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e7000\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"discount\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e20\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"discounted\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e5600.0\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"paymentID\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"8458c75a-c8e0-4d49-8da4-5e56043b1a20\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    \\\"status\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"settled\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-545675608,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Patient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e dob;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ssn;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e address;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e phone;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Doctor\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e category;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e availability;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e fee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Appointment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    Doctor doctor;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    Patient patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    boolean\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e confirmed;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentDate;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Payment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e doctorName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e actualFee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discounted;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentID;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e PatientWithCardNo\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePatient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e cardNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ReservationRequest\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    PatientWithCardNo patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e doctor;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment_date;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ReservationResponse\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e doctorName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e actualFee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discounted;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentID;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-110232047,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e /healthcare\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    resource\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e post\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e categories\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e category\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e]/reserve(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e payload\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            returns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCreated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp:NotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-894984570,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospitalServicesBackend \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"http://localhost:9090\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentBackend \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"http://localhost:9090/healthcare/payments\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e host \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"smtp.gmail.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e username \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e ?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e password \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e ?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1079606854,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient hospitalServicesEP \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ehospitalServicesBackend\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient paymentEP \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epaymentBackend\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eSmtpClient smtpClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ehost\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eusername\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epassword\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-2043154881,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e /healthcare\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    resource\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e post\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e categories\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e category\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e]/reserve(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e payload\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            returns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCreated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp:NotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        PatientWithCardNo patient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        Appointment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientError appointment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[payload.hospital_id]\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[category]\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereserve.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            patient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                name\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.name,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                dob\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.dob,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                ssn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.ssn,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                address\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.address,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                phone\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.phone,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.email\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e            doctor\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e            hospital\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e            appointment_date\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Appointment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Appointment reservation failed\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e                return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e`unknown hospital, doctor, or category`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNumber \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        Payment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientError payment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentEP\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            appointmentNumber,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            doctor\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            patient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            fee\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.doctor.fee,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            confirmed\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.confirmed,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            card_number\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.cardNo\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Payment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Payment settlement failed\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e                return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e`payment failed: unknown appointment number`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payment.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? sendMessage \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e smtpClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003esendMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            to\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.email,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            subject\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"Appointment reservation confirmed at \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e + payload.hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e getEmailContent\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e sendMessage \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e sendMessage.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCreated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e getEmailContent\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e appointmentNumber\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eAppointment\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e appointment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ePayment\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e payment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        returns\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Patient patient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.patient, Doctor doctor \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.doctor \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ein\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `Appointment Confirmation\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Appointment Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Appointment Number: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Appointment Date: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eappointmentDate\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Patient Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Name: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epatient\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Contact Number: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epatient\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ephone\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Doctor Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Name: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edoctor\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Specialization: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edoctor\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Payment Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Doctor Fee: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eactualFee\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Discount: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ediscount\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Total Fee: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ediscounted\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Payment Status: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003estatus\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-2065727736,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/email;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/log;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Patient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e dob;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ssn;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e address;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e phone;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Doctor\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e category;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e availability;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e fee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Appointment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    Doctor doctor;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    Patient patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    boolean\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e confirmed;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentDate;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e Payment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e doctorName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e actualFee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discounted;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentID;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e PatientWithCardNo\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePatient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e cardNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ReservationRequest\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    PatientWithCardNo patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e doctor;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment_date;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ReservationResponse\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e doctorName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e actualFee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e discounted;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentID;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e hospitalServicesBackend \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"http://localhost:9090\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentBackend \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"http://localhost:9090/healthcare/payments\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e host \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"smtp.gmail.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e username \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e ?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e password \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e ?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient hospitalServicesEP \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ehospitalServicesBackend\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient paymentEP \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epaymentBackend\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eSmtpClient smtpClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ehost\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eusername\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epassword\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e /healthcare\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    resource\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e post\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e categories\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e category\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e]/reserve(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e payload\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            returns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCreated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp:NotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        PatientWithCardNo patient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        Appointment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientError appointment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[payload.hospital_id]\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[category]\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereserve.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            patient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                name\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.name,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                dob\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.dob,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                ssn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.ssn,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                address\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.address,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                phone\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.phone,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.email\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e            doctor\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e            hospital\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e            appointment_date\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payload.appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Appointment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Appointment reservation failed\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e                return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e`unknown hospital, doctor, or category`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointmentNumber \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        Payment\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientError payment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e paymentEP\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            appointmentNumber,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            doctor\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            patient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            fee\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.doctor.fee,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            confirmed\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.confirmed,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            card_number\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.cardNo\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Payment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Payment settlement failed\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payment \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e                return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e`payment failed: unknown appointment number`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e payment.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? sendMessage \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e smtpClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003esendMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            to\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e patient.email,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            subject\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"Appointment reservation confirmed at \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e + payload.hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e            body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e getEmailContent\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e sendMessage \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e sendMessage.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCreated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e{};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e getEmailContent\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e appointmentNumber\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eAppointment\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e appointment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ePayment\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e payment\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        returns\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003e\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    let\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Patient patient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.patient, Doctor doctor \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e appointment.doctor \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ein\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `Appointment Confirmation\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Appointment Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Appointment Number: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Appointment Date: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eappointmentDate\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Patient Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Name: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epatient\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Contact Number: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epatient\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ephone\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Doctor Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Name: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edoctor\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Specialization: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edoctor\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e    Payment Details\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Doctor Fee: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eactualFee\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Discount: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ediscount\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Total Fee: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ediscounted\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e        Payment Status: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epayment\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003estatus\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/learn/integration/integration-tutorials/[slug]","query":{"slug":"sending-emails-from-a-service"},"buildId":"c8UVawooki32d65FyPmDu","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>