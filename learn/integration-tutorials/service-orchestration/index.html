<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="A programming language for the cloud that makes it easier to use, combine, and create network services."/><meta name="keywords" content="ballerinalang, integration, microservices, programming language, cloud native, ballerina language"/><title>Service orchestration</title><meta property="og:type" content="article"/><meta property="og:title" content="Ballerina - Service orchestration"/><meta property="og:description" content="A programming language for the cloud that makes it easier to use, combine, and create network services."/><meta property="og:image" itemProp="image" content="https://ballerina.io/images/ballerina-learn-integration-tutorials-page-sm-banner.png"/><meta property="og:title" content="Ballerina - Service orchestration"/><meta property="og:image" content="https://ballerina.io/images/ballerina-learn-integration-tutorials-page-sm-banner.png"/><meta property="twitter:description" content="A programming language for the cloud that makes it easier to use, combine, and create network services."/><meta property="twitter:text:description" content="A programming language for the cloud that makes it easier to use, combine, and create network services."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:title" content="Ballerina"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="Ballerina"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="25"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta HTTP-EQUIV="X-Frame-Options" CONTENT="SAMEORIGIN"/><meta HTTP-EQUIV="Content-Security-Policy" CONTENT="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/0d51f4dd3321ff80.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0d51f4dd3321ff80.css" data-n-g=""/><link rel="preload" href="/_next/static/css/ed928f4e0113510f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ed928f4e0113510f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-c235bccff7953fd0.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-bbd31250c7dfa44e.js" defer=""></script><script src="/_next/static/chunks/1bfc9850-521b3a596dcadac5.js" defer=""></script><script src="/_next/static/chunks/9733-fbb4953a2fa6f36d.js" defer=""></script><script src="/_next/static/chunks/8999-d460056eee862859.js" defer=""></script><script src="/_next/static/chunks/5530-3a0ee3d9119ba327.js" defer=""></script><script src="/_next/static/chunks/2092-46b4be65607751ad.js" defer=""></script><script src="/_next/static/chunks/3066-532e3a00a68674d9.js" defer=""></script><script src="/_next/static/chunks/4564-48f98e5c795b6df7.js" defer=""></script><script src="/_next/static/chunks/5795-33d212dda376b7f1.js" defer=""></script><script src="/_next/static/chunks/pages/learn/integration/integration-tutorials/%5Bslug%5D-5a9f0617dc3fd2b0.js" defer=""></script><script src="/_next/static/LRR0b7rhu1mepM4WfB0dc/_buildManifest.js" defer=""></script><script src="/_next/static/LRR0b7rhu1mepM4WfB0dc/_ssgManifest.js" defer=""></script><script src="/_next/static/LRR0b7rhu1mepM4WfB0dc/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper other vstack gap-0"><div class="wrap-page-content container"><div class="row"><div class="mdContent col-sm-10 col-12"><div class="row"><div style="margin-bottom:20px;" class="patternContent col-12"><div class="backToLanding" href="/learn/integration-tutorials/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#3ad1ca" class="bi bi-box-arrow-left ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"></path><path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"></path></svg><p class="m-0 p-0">Back to integration tutorials</p></div></div></div><div class="topRow innerRow row"><div class="col-11"><h1>Service orchestration</h1></div><div class="gitIcon col-1"><a href="https://github.com/ballerina-platform/ballerina-dev-website/blob/master/swan-lake/integration-tutorials/service-orchestration.md" target="_blank" rel="noreferrer" title="Edit in GitHub"></a></div></div><div style="margin-top:40px;margin-bottom:0;align-items:center" class="pageContentRow innerRow row"><div class="col-12"><p>This tutorial helps you understand the basics of how Ballerina can be used to integrate several services and expose them as a single service.</p></div></div><div class="pageContentRow innerRow row"><div class="col-12"><h2 id="overview" data-section="overview" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Overview</h2>
<p>In this tutorial, you will develop a service that accepts requests to make an appointment at a hospital, makes multiple calls to different backend services to make the appointment, and responds to the client with the relevant details. Calls to the backend services are made one after the other, given that information from one call is required for the next. This effectively integrates several services and exposes them as a single service, also known as service orchestration.</p>
<p>To implement this use case, you will develop a REST service with a single resource using Visual Studio Code with the Ballerina Swan Lake extension, and then run the service. This resource will receive the user request, retrieve details from the backend services, and respond to the user request with the appointment details.</p>
<p>The flow is as follows.</p>
<ol>
<li>
<p>Receive a request with a JSON payload in the following form.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;patient&quot;</span><span style="color: #24292E">: {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;John Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;dob&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;1940-03-19&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;ssn&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;234-23-525&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;address&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;California&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;phone&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;8770586755&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;email&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;johndoe@gmail.com&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;cardNo&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;7844481124110331&quot;</span></span>
<span class="line"><span style="color: #24292E">    },</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;doctor&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;hospital_id&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grandoaks&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grand oak community hospital&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;appointment_date&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;2023-10-02&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Extract necessary details from the request (e.g., hospital, patient, doctor, etc.) and make a call to the hospital backend service to request an appointment. A response similar to the following will be returned from the hospital backend service on success.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;appointmentNumber&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;doctor&quot;</span><span style="color: #24292E">: {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grand oak community hospital&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;category&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;surgery&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;availability&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;9.00 a.m - 11.00 a.m&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;fee&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">7000</span></span>
<span class="line"><span style="color: #24292E">    },</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;patient&quot;</span><span style="color: #24292E">: {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;John Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;dob&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;1940-03-19&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;ssn&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;234-23-525&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;address&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;California&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;phone&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;8770586755&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;email&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;johndoe@gmail.com&quot;</span></span>
<span class="line"><span style="color: #24292E">    },</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grand oak community hospital&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;confirmed&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">false</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;appointmentDate&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;2023-10-02&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Use the hospital ID and the appointment number and call the hospital backend service to retrieve the fee for the appointment. The response will be similar to the following.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;patientName&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;John Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;doctorName&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;actualFee&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;7000&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Finally, call the payment backend service to make the payment and retrieve the reservation status. Log some information and respond to the client with the reservation status as the payload.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;appointmentNo&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">2</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;doctorName&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;patient&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;John Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;actualFee&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">7000</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;discount&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">20</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;discounted&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">5600.0</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;paymentID&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;f130e2ed-a34e-4434-9b40-6a0a8054ee6b&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;status&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;settled&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
</ol>
<h3 id="concepts-covered" data-section="concepts-covered" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Concepts covered</h3>
<ul>
<li>REST API</li>
<li>HTTP client</li>
</ul>
<h2 id="develop-the-application" data-section="develop-the-application" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Develop the application</h2>
<h3 id="step-1-set-up-the-workspace" data-section="step-1-set-up-the-workspace" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 1: Set up the workspace</h3>
<p>Install <a href="https://ballerina.io/downloads/" target="_blank" rel="nofollow noopener noreferrer">Ballerina Swan Lake</a> and the <a href="https://marketplace.visualstudio.com/items?itemName=wso2.ballerina" target="_blank" rel="nofollow noopener noreferrer">Ballerina Swan Lake extension</a> on VS Code.</p>
<h3 id="step-2-develop-the-service" data-section="step-2-develop-the-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 2: Develop the service</h3>
<p>Follow the instructions given in this section to develop the service.</p>
<ol>
<li>
<p>Create a new Ballerina project using the <code>bal</code> command and open it in VS Code.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><code>$ bal new service-orchestration
</code></pre></pre>
</li>
<li>
<p>Introduce the source code in files with the <code>.bal</code> extension (e.g., the <code>main.bal</code> file).</p>
<p>Import the</p>
<ul>
<li><code>ballerina/http</code> module to develop the REST API and define the clients that can be used to send requests to the backend services</li>
<li><code>ballerina/log</code> module to log debug/error information for each client request</li>
</ul>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/http;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/log;</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Define three <a href="https://ballerina.io/learn/by-example/#configurability" target="_blank" rel="nofollow noopener noreferrer">configurable variables</a> for the port the listener should listen on and the URLs of the backend services.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E"> port </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">8290</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospitalServicesBackend </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;http://localhost:9090&quot;</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> paymentBackend </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;http://localhost:9090/healthcare/payments&quot;</span><span style="color: #24292E">;</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Define two <a href="https://ballerina.io/learn/by-example/#http-client" target="_blank" rel="nofollow noopener noreferrer"><code>http:Client</code></a> clients to send requests to the backend services.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">final</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client hospitalServicesEP </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">(</span><span style="color: #E36209">hospitalServicesBackend</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #D73A49">final</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client paymentEP </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">(</span><span style="color: #E36209">paymentBackend</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">(</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">url</span><span style="color: #24292E">) </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> </span><span style="color: #D73A49">=&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> (</span><span style="color: #E36209">url</span><span style="color: #24292E">);</span></span></code></pre></div></div></pre>
<blockquote>
<p><strong>Note:</strong> The argument to the <code>new</code> expression is the URL for the backend service.</p>
<p>Alternatively, the clients can be initialized directly with <code>new</code> expressions, but a separate function is used to aid with testing.</p>
<pre><div>final http:Client hospitalServicesEP = check new (hospitalServicesBackend);
final http:Client paymentEP = check new (paymentBackend);</div></pre>
</blockquote>
</li>
<li>
<p>Define records corresponding to the request payload and response payloads.</p>
<pre><div>type Patient record {|
    string name;
    string dob;
    string ssn;
    string address;
    string phone;
    string email;
|};

type ReservationRequest record {|
    record {|
        *Patient;
        string cardNo;
    |} patient;
    string doctor;
    string hospital_id;
    string hospital;
    string appointment_date;
|};

type Doctor record {|
    string name;
    string hospital;
    string category;
    string availability;
    decimal fee;
|};

type Appointment record {|
    int appointmentNumber;
    Doctor doctor;
    Patient patient;
    boolean confirmed;
    string hospital;
    string appointmentDate;
|};

type Fee record {|
    string patientName;
    string doctorName;
    string actualFee;
|};

type ReservationStatus record {|
    int appointmentNo;
    string doctorName;
    string patient;
    decimal actualFee;
    int discount;
    decimal discounted;
    string paymentID;
    string status;
|};</div></pre>
<ul>
<li>
<p>The <code>ReservationRequest</code> record uses <a href="https://ballerina.io/learn/by-example/type-inclusion-for-records/" target="_blank" rel="nofollow noopener noreferrer">record type inclusion</a> in the type of the <code>patient</code> field to include all the fields from the <code>Patient</code> record along with the <code>cardNo</code> field.</p>
</li>
<li>
<p>The initial record definitions can be generated using the &quot;Paste JSON as record&quot; VS Code command with the relevant JSON payloads and the records can then be modified as necessary.</p>
</li>
</ul>
</li>
<li>
<p>Define the <a href="https://ballerina.io/learn/by-example/#rest-service" target="_blank" rel="nofollow noopener noreferrer">HTTP service (REST API)</a> that has the resource that accepts user requests, makes calls to the backend services to retrieve relevant details, and responds to the client.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> </span><span style="color: #6F42C1">/healthcare</span><span style="color: #24292E"> </span><span style="color: #D73A49">on</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> http:Listener(</span><span style="color: #E36209">port</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">post</span><span style="color: #24292E"> </span><span style="color: #6F42C1">categories</span><span style="color: #24292E">/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">category</span><span style="color: #24292E">]/reserve(</span><span style="color: #E36209">ReservationRequest</span><span style="color: #24292E"> </span><span style="color: #E36209">payload</span><span style="color: #24292E">) </span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> ReservationStatus</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">|</span><span style="color: #24292E">http:InternalServerError {</span></span>
<span class="line"><span style="color: #24292E">        </span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
<ul>
<li>
<p>Use <code>/healthcare</code> as the service path (or the context) of the service which is attached to the listener listening on port <code>port</code>.</p>
</li>
<li>
<p>The HTTP resource allows the <code>POST</code> operation on resource path <code>/categories/{category}/reserve</code>, where <code>category</code> (corresponding to the specialization) is a path parameter.</p>
</li>
<li>
<p>Use <code>ReservationRequest</code> as a parameter indicating that the resource expects a JSON object corresponding to <code>ReservationRequest</code> as the payload.</p>
</li>
<li>
<p>Use <code>ReservationStatus|http:NotFound|http:InternalServerError</code> as the return type to indicate that the response will have a JSON payload corresponding to <code>ReservationStatus</code> on success or the response will be a &quot;NotFound&quot; or &quot;InternalServerError&quot; response on error.</p>
</li>
</ul>
</li>
<li>
<p>Implement the logic.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> </span><span style="color: #6F42C1">/healthcare</span><span style="color: #24292E"> </span><span style="color: #D73A49">on</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> http:Listener(</span><span style="color: #E36209">port</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">post</span><span style="color: #24292E"> </span><span style="color: #6F42C1">categories</span><span style="color: #24292E">/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">category</span><span style="color: #24292E">]/reserve(</span><span style="color: #E36209">ReservationRequest</span><span style="color: #24292E"> </span><span style="color: #E36209">payload</span><span style="color: #24292E">) </span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> ReservationStatus</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">|</span><span style="color: #24292E">http:InternalServerError {</span></span>
<span class="line"><span style="color: #24292E">        ReservationRequest {</span></span>
<span class="line"><span style="color: #24292E">            patient</span><span style="color: #D73A49">:</span><span style="color: #24292E"> {cardNo, </span><span style="color: #D73A49">...</span><span style="color: #24292E">patient},</span></span>
<span class="line"><span style="color: #24292E">            doctor, </span></span>
<span class="line"><span style="color: #24292E">            hospital,</span></span>
<span class="line"><span style="color: #24292E">            hospital_id,</span></span>
<span class="line"><span style="color: #24292E">            appointment_date</span></span>
<span class="line"><span style="color: #24292E">        } </span><span style="color: #D73A49">=</span><span style="color: #24292E"> payload;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printDebug</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Initiating reservation process&quot;</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #E36209">specialization</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> category, </span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #E36209">doctor</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> doctor,</span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #E36209">patient</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> patient.name);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        Appointment</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError appointment </span><span style="color: #D73A49">=</span></span>
<span class="line"><span style="color: #24292E">                hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">[category]</span><span style="color: #D73A49">/</span><span style="color: #24292E">reserve.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">            patient,</span></span>
<span class="line"><span style="color: #24292E">            doctor,</span></span>
<span class="line"><span style="color: #24292E">            hospital,</span></span>
<span class="line"><span style="color: #24292E">            appointment_date</span></span>
<span class="line"><span style="color: #24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> appointment </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> Appointment {</span></span>
<span class="line"><span style="color: #24292E">            log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Appointment reservation failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">appointment</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> appointment </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown hospital, doctor, or category`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> appointmentNumber </span><span style="color: #D73A49">=</span><span style="color: #24292E"> appointment.appointmentNumber;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        Fee</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError fee </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span></span>
<span class="line"><span style="color: #24292E">                hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">appointments</span><span style="color: #D73A49">/</span><span style="color: #24292E">[appointmentNumber]</span><span style="color: #D73A49">/</span><span style="color: #24292E">fee;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fee </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> Fee {</span></span>
<span class="line"><span style="color: #24292E">            log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving fee failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">fee</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fee </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown appointment ID`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> fee.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">decimal</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> actualFee </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">decimal</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">fromString</span><span style="color: #24292E">(fee.actualFee);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> actualFee </span><span style="color: #D73A49">is</span><span style="color: #24292E"> </span><span style="color: #D73A49">error</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;fee retrieval failed&quot;</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        ReservationStatus</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError status </span><span style="color: #D73A49">=</span><span style="color: #24292E"> paymentEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">            appointmentNumber,</span></span>
<span class="line"><span style="color: #24292E">            doctor</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment.doctor,</span></span>
<span class="line"><span style="color: #24292E">            patient,</span></span>
<span class="line"><span style="color: #24292E">            fee</span><span style="color: #D73A49">:</span><span style="color: #24292E"> actualFee,</span></span>
<span class="line"><span style="color: #24292E">            confirmed</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">false</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">            card_number</span><span style="color: #D73A49">:</span><span style="color: #24292E"> cardNo</span></span>
<span class="line"><span style="color: #24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> status </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> ReservationStatus {</span></span>
<span class="line"><span style="color: #24292E">            log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Payment failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">status</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> status </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown appointment ID`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> status.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printDebug</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Appointment reservation successful&quot;</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #E36209">name</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> patient.name, </span></span>
<span class="line"><span style="color: #24292E">                    </span><span style="color: #E36209">appointmentNumber</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> appointmentNumber);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> status;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
<ul>
<li>
<p>Use a <a href="https://ballerina.io/learn/by-example/rest-binding-pattern-in-mapping-binding-pattern/" target="_blank" rel="nofollow noopener noreferrer">typed binding pattern with a mapping binding pattern to destructure</a> the payload and assign required components of the value to separate variables.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">ReservationRequest {</span></span>
<span class="line"><span style="color: #24292E">    patient</span><span style="color: #D73A49">:</span><span style="color: #24292E"> {cardNo, </span><span style="color: #D73A49">...</span><span style="color: #24292E">patient},</span></span>
<span class="line"><span style="color: #24292E">    doctor, </span></span>
<span class="line"><span style="color: #24292E">    hospital,</span></span>
<span class="line"><span style="color: #24292E">    hospital_id,</span></span>
<span class="line"><span style="color: #24292E">    appointment_date</span></span>
<span class="line"><span style="color: #24292E">} </span><span style="color: #D73A49">=</span><span style="color: #24292E"> payload;</span></span></code></pre></div></div></pre>
<p>The value assigned to the <code>patient</code> variable will belong to the <code>Patient</code> type since the fields are exactly those expected by the <code>Patient</code> record.</p>
</li>
<li>
<p>The <code>log</code> functions are used to <a href="https://ballerina.io/learn/by-example/#log" target="_blank" rel="nofollow noopener noreferrer">log</a> information at <code>DEBUG</code> and <code>ERROR</code> log levels.</p>
</li>
<li>
<p>The first backend call is a <code>POST</code> request to the hospital service to reserve the appointment. The <code>hospital_id</code> and <code>category</code> values are used as path parameters.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">Appointment</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError appointment </span><span style="color: #D73A49">=</span></span>
<span class="line"><span style="color: #24292E">        hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">[category]</span><span style="color: #D73A49">/</span><span style="color: #24292E">reserve.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">    patient,</span></span>
<span class="line"><span style="color: #24292E">    doctor,</span></span>
<span class="line"><span style="color: #24292E">    hospital,</span></span>
<span class="line"><span style="color: #24292E">    appointment_date</span></span>
<span class="line"><span style="color: #24292E">});</span></span></code></pre></div></div></pre>
<p>The expected payload in the request to reserve the appointment consists of four fields, namely <code>patient</code>, <code>doctor</code>, <code>hospital</code>, and <code>appointment_date</code>. The payload is specified directly as an argument to the remote method call.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{patient, doctor, hospital, appointment_date}</span></span></code></pre></div></div></pre>
<p>This is shorthand for</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{patient</span><span style="color: #D73A49">:</span><span style="color: #24292E"> patient, doctor</span><span style="color: #D73A49">:</span><span style="color: #24292E"> doctor, hospital</span><span style="color: #D73A49">:</span><span style="color: #24292E"> hospital, appointment_date</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment_date}</span></span></code></pre></div></div></pre>
<p><a href="https://ballerina.io/learn/by-example/http-client-data-binding/" target="_blank" rel="nofollow noopener noreferrer">Client data binding</a> is used to directly try and bind the JSON response on success to the expected record.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">Appointment</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError appointment </span><span style="color: #D73A49">=</span></span>
<span class="line"><span style="color: #24292E">        hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">[category]</span><span style="color: #D73A49">/</span><span style="color: #24292E">reserve.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">    patient,</span></span>
<span class="line"><span style="color: #24292E">    doctor,</span></span>
<span class="line"><span style="color: #24292E">    hospital,</span></span>
<span class="line"><span style="color: #24292E">    appointment_date</span></span>
<span class="line"><span style="color: #24292E">});</span></span></code></pre></div></div></pre>
<p>Use the <code>is</code> check to decide the flow based on the response to the client call. If the request failed with a <code>4xx</code> status code, respond with an <code>http:NotFound</code> response. Else, if the payload could not be bound to <code>Appointment</code> as expected or there was some other failure, respond with an <code>http:InternalServerError</code> response. If the client call was successful and the response payload was successfully bound to <code>Appointment</code> we can proceed with the subsequent calls.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> appointment </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> Appointment {</span></span>
<span class="line"><span style="color: #24292E">    log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Appointment reservation failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">appointment</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> appointment </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown hospital, doctor, or category`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>If the appointment reservation was successful, we can now retrieve the fee, by making a <code>GET</code> request to the hospital service, with <code>hospital_id</code> and <code>appointmentNumber</code> from the <code>Appointment</code> payload as path parameters.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #005CC5">int</span><span style="color: #24292E"> appointmentNumber </span><span style="color: #D73A49">=</span><span style="color: #24292E"> appointment.appointmentNumber;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">Fee</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError fee </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span></span>
<span class="line"><span style="color: #24292E">        hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">appointments</span><span style="color: #D73A49">/</span><span style="color: #24292E">[appointmentNumber]</span><span style="color: #D73A49">/</span><span style="color: #24292E">fee;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> fee </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> Fee {</span></span>
<span class="line"><span style="color: #24292E">    log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving fee failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">fee</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fee </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown appointment ID`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> fee.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>If fee retrieval is successful, the next and last step is to make the payment by making a <code>POST</code> request to the payment service. The payload includes details extracted out from the original request (for <code>patient</code> and <code>card_number</code>), the appointment reservation response (for <code>appointmentNumber</code> and <code>doctor</code>), and the response to the fee retrieval request (for <code>fee</code>).</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">ReservationStatus</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError status </span><span style="color: #D73A49">=</span><span style="color: #24292E"> paymentEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">    appointmentNumber,</span></span>
<span class="line"><span style="color: #24292E">    doctor</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment.doctor,</span></span>
<span class="line"><span style="color: #24292E">    patient,</span></span>
<span class="line"><span style="color: #24292E">    fee</span><span style="color: #D73A49">:</span><span style="color: #24292E"> actualFee,</span></span>
<span class="line"><span style="color: #24292E">    confirmed</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">false</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    card_number</span><span style="color: #D73A49">:</span><span style="color: #24292E"> cardNo</span></span>
<span class="line"><span style="color: #24292E">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">if</span><span style="color: #24292E"> status </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> ReservationStatus {</span></span>
<span class="line"><span style="color: #24292E">    log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Payment failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">status</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">if</span><span style="color: #24292E"> status </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown appointment ID`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> status.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printDebug</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Appointment reservation successful&quot;</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #E36209">name</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> patient.name, </span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #E36209">appointmentNumber</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> appointmentNumber);</span></span>
<span class="line"><span style="color: #D73A49">return</span><span style="color: #24292E"> status;</span></span></code></pre></div></div></pre>
<p>If the payment request fails, the response to the original request will be an appropriate error response. If not, the response will be the response from the payment service.</p>
</li>
</ul>
</li>
</ol>
<p>You have successfully developed the required service.</p>
<h4 id="complete-source" data-section="complete-source" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Complete source</h4>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/http;</span></span>
<span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/log;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E"> port </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">8290</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospitalServicesBackend </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;http://localhost:9090&quot;</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #D73A49">configurable</span><span style="color: #24292E"> </span><span style="color: #005CC5">string</span><span style="color: #24292E"> paymentBackend </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;http://localhost:9090/healthcare/payments&quot;</span><span style="color: #24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">final</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client hospitalServicesEP </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">(</span><span style="color: #E36209">hospitalServicesBackend</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #D73A49">final</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client paymentEP </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">check</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">(</span><span style="color: #E36209">paymentBackend</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">initializeHttpClient</span><span style="color: #24292E">(</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">url</span><span style="color: #24292E">) </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">Client</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> </span><span style="color: #D73A49">=&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> (</span><span style="color: #E36209">url</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Patient</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> name;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> dob;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> ssn;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> address;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> phone;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> email;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ReservationRequest</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">*</span><span style="color: #24292E">Patient;</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">string</span><span style="color: #24292E"> cardNo;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">|</span><span style="color: #24292E">} patient;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> doctor;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospital_id;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospital;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> appointment_date;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Doctor</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> name;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospital;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> category;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> availability;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">decimal</span><span style="color: #24292E"> fee;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Appointment</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> appointmentNumber;</span></span>
<span class="line"><span style="color: #24292E">    Doctor doctor;</span></span>
<span class="line"><span style="color: #24292E">    Patient patient;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">boolean</span><span style="color: #24292E"> confirmed;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> hospital;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> appointmentDate;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Fee</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> patientName;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> doctorName;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> actualFee;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">ReservationStatus</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> appointmentNo;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> doctorName;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> patient;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">decimal</span><span style="color: #24292E"> actualFee;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> discount;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">decimal</span><span style="color: #24292E"> discounted;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> paymentID;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> status;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">service</span><span style="color: #24292E"> </span><span style="color: #6F42C1">/healthcare</span><span style="color: #24292E"> </span><span style="color: #D73A49">on</span><span style="color: #24292E"> </span><span style="color: #D73A49">new</span><span style="color: #24292E"> http:Listener(</span><span style="color: #E36209">port</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">resource</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">post</span><span style="color: #24292E"> </span><span style="color: #6F42C1">categories</span><span style="color: #24292E">/[</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #E36209">category</span><span style="color: #24292E">]/reserve(</span><span style="color: #E36209">ReservationRequest</span><span style="color: #24292E"> </span><span style="color: #E36209">payload</span><span style="color: #24292E">) </span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> ReservationStatus</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">|</span><span style="color: #24292E">http:InternalServerError {</span></span>
<span class="line"><span style="color: #24292E">        ReservationRequest {</span></span>
<span class="line"><span style="color: #24292E">            patient</span><span style="color: #D73A49">:</span><span style="color: #24292E"> {cardNo, </span><span style="color: #D73A49">...</span><span style="color: #24292E">patient},</span></span>
<span class="line"><span style="color: #24292E">            doctor, </span></span>
<span class="line"><span style="color: #24292E">            hospital,</span></span>
<span class="line"><span style="color: #24292E">            hospital_id,</span></span>
<span class="line"><span style="color: #24292E">            appointment_date</span></span>
<span class="line"><span style="color: #24292E">        } </span><span style="color: #D73A49">=</span><span style="color: #24292E"> payload;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printDebug</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Initiating reservation process&quot;</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                       </span><span style="color: #E36209">specialization</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> category, </span></span>
<span class="line"><span style="color: #24292E">                       </span><span style="color: #E36209">doctor</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> doctor,</span></span>
<span class="line"><span style="color: #24292E">                       </span><span style="color: #E36209">patient</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> patient.name);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        Appointment</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError appointment </span><span style="color: #D73A49">=</span></span>
<span class="line"><span style="color: #24292E">                hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">[category]</span><span style="color: #D73A49">/</span><span style="color: #24292E">reserve.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">            patient,</span></span>
<span class="line"><span style="color: #24292E">            doctor,</span></span>
<span class="line"><span style="color: #24292E">            hospital,</span></span>
<span class="line"><span style="color: #24292E">            appointment_date</span></span>
<span class="line"><span style="color: #24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> appointment </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> Appointment {</span></span>
<span class="line"><span style="color: #24292E">            log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Appointment reservation failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">appointment</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> appointment </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown hospital, doctor, or category`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> appointmentNumber </span><span style="color: #D73A49">=</span><span style="color: #24292E"> appointment.appointmentNumber;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        Fee</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError fee </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span></span>
<span class="line"><span style="color: #24292E">                hospitalServicesEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">[hospital_id]</span><span style="color: #D73A49">/</span><span style="color: #24292E">categories</span><span style="color: #D73A49">/</span><span style="color: #24292E">appointments</span><span style="color: #D73A49">/</span><span style="color: #24292E">[appointmentNumber]</span><span style="color: #D73A49">/</span><span style="color: #24292E">fee;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fee </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> Fee {</span></span>
<span class="line"><span style="color: #24292E">            log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Retrieving fee failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">fee</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> fee </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown appointment ID`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> fee.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">decimal</span><span style="color: #D73A49">|error</span><span style="color: #24292E"> actualFee </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">decimal</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">fromString</span><span style="color: #24292E">(fee.actualFee);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> actualFee </span><span style="color: #D73A49">is</span><span style="color: #24292E"> </span><span style="color: #D73A49">error</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #032F62">&quot;fee retrieval failed&quot;</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        ReservationStatus</span><span style="color: #D73A49">|</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientError status </span><span style="color: #D73A49">=</span><span style="color: #24292E"> paymentEP</span><span style="color: #D73A49">-&gt;/</span><span style="color: #24292E">.</span><span style="color: #6F42C1">post</span><span style="color: #24292E">({</span></span>
<span class="line"><span style="color: #24292E">            appointmentNumber,</span></span>
<span class="line"><span style="color: #24292E">            doctor</span><span style="color: #D73A49">:</span><span style="color: #24292E"> appointment.doctor,</span></span>
<span class="line"><span style="color: #24292E">            patient,</span></span>
<span class="line"><span style="color: #24292E">            fee</span><span style="color: #D73A49">:</span><span style="color: #24292E"> actualFee,</span></span>
<span class="line"><span style="color: #24292E">            confirmed</span><span style="color: #D73A49">:</span><span style="color: #24292E"> </span><span style="color: #005CC5">false</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">            card_number</span><span style="color: #D73A49">:</span><span style="color: #24292E"> cardNo</span></span>
<span class="line"><span style="color: #24292E">        });</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> status </span><span style="color: #D73A49">!is</span><span style="color: #24292E"> ReservationStatus {</span></span>
<span class="line"><span style="color: #24292E">            log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printError</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Payment failed&quot;</span><span style="color: #24292E">, </span><span style="color: #E36209">status</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">if</span><span style="color: #24292E"> status </span><span style="color: #D73A49">is</span><span style="color: #24292E"> http</span><span style="color: #D73A49">:</span><span style="color: #24292E">ClientRequestError {</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">NotFound</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> string </span><span style="color: #032F62">`unknown appointment ID`</span><span style="color: #24292E">};</span></span>
<span class="line"><span style="color: #24292E">            }</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">return</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;</span><span style="color: #24292E">http</span><span style="color: #D73A49">:</span><span style="color: #24292E">InternalServerError</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> {body</span><span style="color: #D73A49">:</span><span style="color: #24292E"> status.</span><span style="color: #6F42C1">message</span><span style="color: #24292E">()};</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        log</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">printDebug</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;Appointment reservation successful&quot;</span><span style="color: #24292E">, </span></span>
<span class="line"><span style="color: #24292E">                       </span><span style="color: #E36209">name</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> patient.name, </span></span>
<span class="line"><span style="color: #24292E">                       </span><span style="color: #E36209">appointmentNumber</span><span style="color: #24292E"> </span><span style="color: #D73A49">=</span><span style="color: #24292E"> appointmentNumber);</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">return</span><span style="color: #24292E"> status;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
<h3 id="step-3-build-and-run-the-service" data-section="step-3-build-and-run-the-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 3: Build and run the service</h3>
<p>You can run this service by navigating to the project root and using the <code>bal run</code> command.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"></div><code>service-orchestration$ bal run
Compiling source
        integration_tutorials/service_orchestration:0.1.0

Running executable
</code></pre></pre>
<h3 id="step-4-try-out-the-use-case" data-section="step-4-try-out-the-use-case" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 4: Try out the use case</h3>
<p>Let&#x27;s test the use case by sending a request to the service.</p>
<h4 id="start-the-backend-service" data-section="start-the-backend-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Start the backend service</h4>
<p>Download the JAR file for the <a href="https://github.com/ballerina-guides/integration-tutorials/blob/main/backends/hospital-service/hospitalservice.jar" target="_blank" rel="nofollow noopener noreferrer">backend service</a> and execute the following command to start the service:</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><code>$ bal run hospitalservice.jar
</code></pre></pre>
<h4 id="send-a-request" data-section="send-a-request" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Send a request</h4>
<p>Let&#x27;s send a request to the service using cURL as follows.</p>
<ol>
<li>
<p>Install and set up <a href="https://curl.se/" target="_blank" rel="nofollow noopener noreferrer">cURL</a> as your client.</p>
</li>
<li>
<p>Create a file named <code>request.json</code> with the request payload.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;patient&quot;</span><span style="color: #24292E">: {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;name&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;John Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;dob&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;1940-03-19&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;ssn&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;234-23-525&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;address&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;California&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;phone&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;8770586755&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;email&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;johndoe@gmail.com&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">&quot;cardNo&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;7844481124110331&quot;</span></span>
<span class="line"><span style="color: #24292E">    },</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;doctor&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;hospital_id&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grandoaks&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;hospital&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;grand oak community hospital&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;appointment_date&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;2023-10-02&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
</li>
<li>
<p>Execute the following command.</p>
<pre><pre class="default"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><code>$ curl -v -X POST --data @request.json http://localhost:8290/healthcare/categories/surgery/reserve --header &quot;Content-Type:application/json&quot;
</code></pre></pre>
</li>
</ol>
<h4 id="verify-the-response" data-section="verify-the-response" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Verify the response</h4>
<p>You will see a response similar to the following for a successful appointment reservation.</p>
<pre><div style="background:#eeeeee;padding:10px 10px 0px 0px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" style="float:right" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #24292E">{</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;appointmentNo&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">1</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;doctorName&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;thomas collins&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;patient&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;John Doe&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;actualFee&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">7000.0</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;discount&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">20</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;discounted&quot;</span><span style="color: #24292E">: </span><span style="color: #005CC5">5600.0</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;paymentID&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;f55314dc-0d82-4cff-8eae-7ce941f98451&quot;</span><span style="color: #24292E">,</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">&quot;status&quot;</span><span style="color: #24292E">: </span><span style="color: #032F62">&quot;settled&quot;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></div></pre>
<h2 id="complete-implementation" data-section="complete-implementation" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Complete implementation</h2>
<p>Check out the <a href="https://github.com/ballerina-guides/integration-tutorials/tree/main/service-orchestration" target="_blank" rel="nofollow noopener noreferrer">complete implementation</a> on GitHub.</p>
<h2 id="references" data-section="references" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>References</h2>
<ul>
<li><a href="https://lib.ballerina.io/ballerina/http/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/http</code> API docs</a></li>
<li><a href="https://lib.ballerina.io/ballerina/log/latest" target="_blank" rel="nofollow noopener noreferrer"><code>ballerina/log</code> API docs</a></li>
</ul></div></div></div><div class="pageToc d-none d-sm-block col-sm-2"></div></div></div><div class="Footer_stack__Y9iHo vstack gap-0"><div class="Footer_footer__gXdNn container"><div class="row"><div class="col-lg-6 col-md-6 col-sm-12 col-12"><div class="row"><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_socialMedia__99VpI"><div class="Footer_smIcons__HD9f7"><ul><li><a href="https://github.com/ballerina-platform" target="_blank" rel="noreferrer" title="GitHub"></a></li><li><a href="https://twitter.com/ballerinalang" target="_blank" rel="noreferrer" title="X"></a></li><li><a href="https://discord.gg/ballerinalang" target="_blank" rel="noreferrer" title="Discord"></a></li><li><a href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank" rel="noreferrer" title="Stackoverflow"></a></li><li><a href="https://www.youtube.com/c/Ballerinalang" target="_blank" rel="noreferrer" title="YouTube"></a></li><li><a href="https://www.linkedin.com/showcase/ballerinalang/" target="_blank" rel="noreferrer" title="LinkedIn"></a></li></ul></div></div><div class="Footer_footerLinks__M9jUM"><ul><li><a href="/downloads/">DOWNLOAD</a></li><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose">REPORT ISSUES</a></li></ul></div></div><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_subscription__N96Xy"><div class="Footer_subscribe__6aRU2"><a href="/community/#subscribe-to-our-newsletter">Subscribe to our newsletter</a></div><div class="Footer_subscribe__6aRU2"><a class="Footer_subRss__E8gAT" href="https://blog.ballerina.io/feed.xml" target="_blank" rel="noreferrer">Subscribe via RSS</a></div></div></div></div></div><div class="Footer_inspire__ZAi5V col-lg-6 col-md-6 col-sm-12 col-12"><p>In the creation of Ballerina, we were inspired by many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub, and WSO2.</p></div></div><div class="Footer_policyLinks__q3ge1 row"><div class="col-sm-2 col-12"><span class="footerLink"> 2023 WSO2 LLC</span></div><div class="col-sm-10 col-12"><ul><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li><li><a href="/license-of-site/">SITE LICENSE</a></li><li><a href="/terms-of-service/">TERMS OF SERVICE</a></li><li><a href="/privacy-policy/">PRIVACY POLICY</a></li><li><a href="/cookie-policy/">COOKIE POLICY</a></li><li><a href="/security-policy/">SECURITY POLICY</a></li><li><a href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"layout":"ballerina-service-orchestration-left-nav-pages-swanlake","title":"Service orchestration","permalink":"/learn/service-orchestration/","description":"Integration tutorial for service orchestration","keywords":"ballerina, programming language, client, restful-api, service orchestration, integration","active":"service-orchestration","intro":"This tutorial helps you understand the basics of how Ballerina can be used to integrate several services and expose them as a single service."},"content":"\n## Overview\n\nIn this tutorial, you will develop a service that accepts requests to make an appointment at a hospital, makes multiple calls to different backend services to make the appointment, and responds to the client with the relevant details. Calls to the backend services are made one after the other, given that information from one call is required for the next. This effectively integrates several services and exposes them as a single service, also known as service orchestration.\n\nTo implement this use case, you will develop a REST service with a single resource using Visual Studio Code with the Ballerina Swan Lake extension, and then run the service. This resource will receive the user request, retrieve details from the backend services, and respond to the user request with the appointment details.\n\nThe flow is as follows.\n\n1. Receive a request with a JSON payload in the following form.\n\n    ```json\n    {\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\",\n            \"cardNo\": \"7844481124110331\"\n        },\n        \"doctor\": \"thomas collins\",\n        \"hospital_id\": \"grandoaks\",\n        \"hospital\": \"grand oak community hospital\",\n        \"appointment_date\": \"2023-10-02\"\n    }\n    ```\n\n2. Extract necessary details from the request (e.g., hospital, patient, doctor, etc.) and make a call to the hospital backend service to request an appointment. A response similar to the following will be returned from the hospital backend service on success.\n\n    ```json\n    {\n        \"appointmentNumber\": 1,\n        \"doctor\": {\n            \"name\": \"thomas collins\",\n            \"hospital\": \"grand oak community hospital\",\n            \"category\": \"surgery\",\n            \"availability\": \"9.00 a.m - 11.00 a.m\",\n            \"fee\": 7000\n        },\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\"\n        },\n        \"hospital\": \"grand oak community hospital\",\n        \"confirmed\": false,\n        \"appointmentDate\": \"2023-10-02\"\n    }\n    ```\n\n3. Use the hospital ID and the appointment number and call the hospital backend service to retrieve the fee for the appointment. The response will be similar to the following.\n\n    ```json\n    {\n        \"patientName\": \"John Doe\",\n        \"doctorName\": \"thomas collins\",\n        \"actualFee\": \"7000\"\n    }\n    ```\n\n4. Finally, call the payment backend service to make the payment and retrieve the reservation status. Log some information and respond to the client with the reservation status as the payload.\n\n    ```json\n    {\n        \"appointmentNo\": 2,\n        \"doctorName\": \"thomas collins\",\n        \"patient\": \"John Doe\",\n        \"actualFee\": 7000,\n        \"discount\": 20,\n        \"discounted\": 5600.0,\n        \"paymentID\": \"f130e2ed-a34e-4434-9b40-6a0a8054ee6b\",\n        \"status\": \"settled\"\n    }\n    ```\n\n### Concepts covered\n\n- REST API\n- HTTP client\n\n## Develop the application\n\n### Step 1: Set up the workspace\n\nInstall [Ballerina Swan Lake](https://ballerina.io/downloads/) and the [Ballerina Swan Lake extension](https://marketplace.visualstudio.com/items?itemName=wso2.ballerina) on VS Code.\n\n### Step 2: Develop the service\n\nFollow the instructions given in this section to develop the service.\n\n1. Create a new Ballerina project using the `bal` command and open it in VS Code.\n\n    ```\n    $ bal new service-orchestration\n    ```\n\n2. Introduce the source code in files with the `.bal` extension (e.g., the `main.bal` file). \n\n    Import the \n    - `ballerina/http` module to develop the REST API and define the clients that can be used to send requests to the backend services\n    - `ballerina/log` module to log debug/error information for each client request\n\n    ```ballerina\n    import ballerina/http;\n    import ballerina/log;\n    ```\n\n3. Define three [configurable variables](https://ballerina.io/learn/by-example/#configurability) for the port the listener should listen on and the URLs of the backend services.\n\n    ```ballerina\n    configurable int port = 8290;\n    configurable string hospitalServicesBackend = \"http://localhost:9090\";\n    configurable string paymentBackend = \"http://localhost:9090/healthcare/payments\";\n    ```\n\n4. Define two [`http:Client`](https://ballerina.io/learn/by-example/#http-client) clients to send requests to the backend services.\n\n    ```ballerina\n    final http:Client hospitalServicesEP = check initializeHttpClient(hospitalServicesBackend);\n    final http:Client paymentEP = check initializeHttpClient(paymentBackend);\n\n    function initializeHttpClient(string url) returns http:Client|error =\u003e new (url);\n    ```\n\n    \u003e **Note:** The argument to the `new` expression is the URL for the backend service. \n    \u003e \n    \u003e Alternatively, the clients can be initialized directly with `new` expressions, but a separate function is used to aid with testing.\n    \u003e \n    \u003e ```ballerina\n    \u003e final http:Client hospitalServicesEP = check new (hospitalServicesBackend);\n    \u003e final http:Client paymentEP = check new (paymentBackend);\n    \u003e ```\n\n5. Define records corresponding to the request payload and response payloads.\n   \n    ```ballerina\n    type Patient record {|\n        string name;\n        string dob;\n        string ssn;\n        string address;\n        string phone;\n        string email;\n    |};\n\n    type ReservationRequest record {|\n        record {|\n            *Patient;\n            string cardNo;\n        |} patient;\n        string doctor;\n        string hospital_id;\n        string hospital;\n        string appointment_date;\n    |};\n\n    type Doctor record {|\n        string name;\n        string hospital;\n        string category;\n        string availability;\n        decimal fee;\n    |};\n\n    type Appointment record {|\n        int appointmentNumber;\n        Doctor doctor;\n        Patient patient;\n        boolean confirmed;\n        string hospital;\n        string appointmentDate;\n    |};\n\n    type Fee record {|\n        string patientName;\n        string doctorName;\n        string actualFee;\n    |};\n\n    type ReservationStatus record {|\n        int appointmentNo;\n        string doctorName;\n        string patient;\n        decimal actualFee;\n        int discount;\n        decimal discounted;\n        string paymentID;\n        string status;\n    |};\n    ```\n\n    - The `ReservationRequest` record uses [record type inclusion](https://ballerina.io/learn/by-example/type-inclusion-for-records/) in the type of the `patient` field to include all the fields from the `Patient` record along with the `cardNo` field.\n\n    - The initial record definitions can be generated using the \"Paste JSON as record\" VS Code command with the relevant JSON payloads and the records can then be modified as necessary.\n\n6. Define the [HTTP service (REST API)](https://ballerina.io/learn/by-example/#rest-service) that has the resource that accepts user requests, makes calls to the backend services to retrieve relevant details, and responds to the client.\n\n    ```ballerina\n    service /healthcare on new http:Listener(port) {\n        resource function post categories/[string category]/reserve(ReservationRequest payload) \n                returns ReservationStatus|http:NotFound|http:InternalServerError {\n            \n        }\n    }\n    ```\n\n    - Use `/healthcare` as the service path (or the context) of the service which is attached to the listener listening on port `port`. \n\n    - The HTTP resource allows the `POST` operation on resource path `/categories/{category}/reserve`, where `category` (corresponding to the specialization) is a path parameter. \n\n    - Use `ReservationRequest` as a parameter indicating that the resource expects a JSON object corresponding to `ReservationRequest` as the payload. \n\n    - Use `ReservationStatus|http:NotFound|http:InternalServerError` as the return type to indicate that the response will have a JSON payload corresponding to `ReservationStatus` on success or the response will be a \"NotFound\" or \"InternalServerError\" response on error.\n\n7. Implement the logic.\n\n    ```ballerina\n    service /healthcare on new http:Listener(port) {\n        resource function post categories/[string category]/reserve(ReservationRequest payload) \n                returns ReservationStatus|http:NotFound|http:InternalServerError {\n            ReservationRequest {\n                patient: {cardNo, ...patient},\n                doctor, \n                hospital,\n                hospital_id,\n                appointment_date\n            } = payload;\n\n            log:printDebug(\"Initiating reservation process\", \n                        specialization = category, \n                        doctor = doctor,\n                        patient = patient.name);\n\n            Appointment|http:ClientError appointment =\n                    hospitalServicesEP-\u003e/[hospital_id]/categories/[category]/reserve.post({\n                patient,\n                doctor,\n                hospital,\n                appointment_date\n            });\n\n            if appointment !is Appointment {\n                log:printError(\"Appointment reservation failed\", appointment);\n                if appointment is http:ClientRequestError {\n                    return \u003chttp:NotFound\u003e {body: string `unknown hospital, doctor, or category`};\n                }\n                return \u003chttp:InternalServerError\u003e {body: appointment.message()};\n            }\n\n            int appointmentNumber = appointment.appointmentNumber;\n\n            Fee|http:ClientError fee = \n                    hospitalServicesEP-\u003e/[hospital_id]/categories/appointments/[appointmentNumber]/fee;\n\n            if fee !is Fee {\n                log:printError(\"Retrieving fee failed\", fee);\n                if fee is http:ClientRequestError {\n                    return \u003chttp:NotFound\u003e {body: string `unknown appointment ID`};\n                }\n                return \u003chttp:InternalServerError\u003e {body: fee.message()};\n            }\n\n            decimal|error actualFee = decimal:fromString(fee.actualFee);\n            if actualFee is error {\n                return \u003chttp:InternalServerError\u003e {body: \"fee retrieval failed\"};\n            }\n\n            ReservationStatus|http:ClientError status = paymentEP-\u003e/.post({\n                appointmentNumber,\n                doctor: appointment.doctor,\n                patient,\n                fee: actualFee,\n                confirmed: false,\n                card_number: cardNo\n            });\n\n            if status !is ReservationStatus {\n                log:printError(\"Payment failed\", status);\n                if status is http:ClientRequestError {\n                    return \u003chttp:NotFound\u003e {body: string `unknown appointment ID`};\n                }\n                return \u003chttp:InternalServerError\u003e {body: status.message()};\n            }\n\n            log:printDebug(\"Appointment reservation successful\", \n                        name = patient.name, \n                        appointmentNumber = appointmentNumber);\n            return status;\n        }\n    }\n    ```\n\n    - Use a [typed binding pattern with a mapping binding pattern to destructure](https://ballerina.io/learn/by-example/rest-binding-pattern-in-mapping-binding-pattern/) the payload and assign required components of the value to separate variables.\n\n        ```ballerina\n        ReservationRequest {\n            patient: {cardNo, ...patient},\n            doctor, \n            hospital,\n            hospital_id,\n            appointment_date\n        } = payload;\n        ```\n\n        The value assigned to the `patient` variable will belong to the `Patient` type since the fields are exactly those expected by the `Patient` record.\n\n    - The `log` functions are used to [log](https://ballerina.io/learn/by-example/#log) information at `DEBUG` and `ERROR` log levels.\n\n    - The first backend call is a `POST` request to the hospital service to reserve the appointment. The `hospital_id` and `category` values are used as path parameters.\n\n        ```ballerina\n        Appointment|http:ClientError appointment =\n                hospitalServicesEP-\u003e/[hospital_id]/categories/[category]/reserve.post({\n            patient,\n            doctor,\n            hospital,\n            appointment_date\n        });\n        ```\n\n        The expected payload in the request to reserve the appointment consists of four fields, namely `patient`, `doctor`, `hospital`, and `appointment_date`. The payload is specified directly as an argument to the remote method call. \n\n        ```ballerina\n        {patient, doctor, hospital, appointment_date}\n        ```\n\n        This is shorthand for\n\n        ```ballerina\n        {patient: patient, doctor: doctor, hospital: hospital, appointment_date: appointment_date}\n        ```\n\n        [Client data binding](https://ballerina.io/learn/by-example/http-client-data-binding/) is used to directly try and bind the JSON response on success to the expected record.\n\n        ```ballerina\n        Appointment|http:ClientError appointment =\n                hospitalServicesEP-\u003e/[hospital_id]/categories/[category]/reserve.post({\n            patient,\n            doctor,\n            hospital,\n            appointment_date\n        });\n        ```\n\n        Use the `is` check to decide the flow based on the response to the client call. If the request failed with a `4xx` status code, respond with an `http:NotFound` response. Else, if the payload could not be bound to `Appointment` as expected or there was some other failure, respond with an `http:InternalServerError` response. If the client call was successful and the response payload was successfully bound to `Appointment` we can proceed with the subsequent calls.  \n\n        ```ballerina\n        if appointment !is Appointment {\n            log:printError(\"Appointment reservation failed\", appointment);\n            if appointment is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `unknown hospital, doctor, or category`};\n            }\n            return \u003chttp:InternalServerError\u003e {body: appointment.message()};\n        }\n        ```\n\n    - If the appointment reservation was successful, we can now retrieve the fee, by making a `GET` request to the hospital service, with `hospital_id` and `appointmentNumber` from the `Appointment` payload as path parameters.\n\n        ```ballerina\n        int appointmentNumber = appointment.appointmentNumber;\n\n        Fee|http:ClientError fee = \n                hospitalServicesEP-\u003e/[hospital_id]/categories/appointments/[appointmentNumber]/fee;\n\n        if fee !is Fee {\n            log:printError(\"Retrieving fee failed\", fee);\n            if fee is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `unknown appointment ID`};\n            }\n            return \u003chttp:InternalServerError\u003e {body: fee.message()};\n        }\n        ```\n\n    - If fee retrieval is successful, the next and last step is to make the payment by making a `POST` request to the payment service. The payload includes details extracted out from the original request (for `patient` and `card_number`), the appointment reservation response (for `appointmentNumber` and `doctor`), and the response to the fee retrieval request (for `fee`).\n\n        ```ballerina\n        ReservationStatus|http:ClientError status = paymentEP-\u003e/.post({\n            appointmentNumber,\n            doctor: appointment.doctor,\n            patient,\n            fee: actualFee,\n            confirmed: false,\n            card_number: cardNo\n        });\n\n        if status !is ReservationStatus {\n            log:printError(\"Payment failed\", status);\n            if status is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `unknown appointment ID`};\n            }\n            return \u003chttp:InternalServerError\u003e {body: status.message()};\n        }\n\n        log:printDebug(\"Appointment reservation successful\", \n                        name = patient.name, \n                        appointmentNumber = appointmentNumber);\n        return status;\n        ```\n\n        If the payment request fails, the response to the original request will be an appropriate error response. If not, the response will be the response from the payment service.\n\nYou have successfully developed the required service.\n\n#### Complete source\n\n```ballerina\nimport ballerina/http;\nimport ballerina/log;\n\nconfigurable int port = 8290;\nconfigurable string hospitalServicesBackend = \"http://localhost:9090\";\nconfigurable string paymentBackend = \"http://localhost:9090/healthcare/payments\";\n\nfinal http:Client hospitalServicesEP = check initializeHttpClient(hospitalServicesBackend);\nfinal http:Client paymentEP = check initializeHttpClient(paymentBackend);\n\nfunction initializeHttpClient(string url) returns http:Client|error =\u003e new (url);\n\ntype Patient record {|\n    string name;\n    string dob;\n    string ssn;\n    string address;\n    string phone;\n    string email;\n|};\n\ntype ReservationRequest record {|\n    record {|\n        *Patient;\n        string cardNo;\n    |} patient;\n    string doctor;\n    string hospital_id;\n    string hospital;\n    string appointment_date;\n|};\n\ntype Doctor record {|\n    string name;\n    string hospital;\n    string category;\n    string availability;\n    decimal fee;\n|};\n\ntype Appointment record {|\n    int appointmentNumber;\n    Doctor doctor;\n    Patient patient;\n    boolean confirmed;\n    string hospital;\n    string appointmentDate;\n|};\n\ntype Fee record {|\n    string patientName;\n    string doctorName;\n    string actualFee;\n|};\n\ntype ReservationStatus record {|\n    int appointmentNo;\n    string doctorName;\n    string patient;\n    decimal actualFee;\n    int discount;\n    decimal discounted;\n    string paymentID;\n    string status;\n|};\n\nservice /healthcare on new http:Listener(port) {\n    resource function post categories/[string category]/reserve(ReservationRequest payload) \n            returns ReservationStatus|http:NotFound|http:InternalServerError {\n        ReservationRequest {\n            patient: {cardNo, ...patient},\n            doctor, \n            hospital,\n            hospital_id,\n            appointment_date\n        } = payload;\n\n        log:printDebug(\"Initiating reservation process\", \n                       specialization = category, \n                       doctor = doctor,\n                       patient = patient.name);\n\n        Appointment|http:ClientError appointment =\n                hospitalServicesEP-\u003e/[hospital_id]/categories/[category]/reserve.post({\n            patient,\n            doctor,\n            hospital,\n            appointment_date\n        });\n\n        if appointment !is Appointment {\n            log:printError(\"Appointment reservation failed\", appointment);\n            if appointment is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `unknown hospital, doctor, or category`};\n            }\n            return \u003chttp:InternalServerError\u003e {body: appointment.message()};\n        }\n\n        int appointmentNumber = appointment.appointmentNumber;\n\n        Fee|http:ClientError fee = \n                hospitalServicesEP-\u003e/[hospital_id]/categories/appointments/[appointmentNumber]/fee;\n\n        if fee !is Fee {\n            log:printError(\"Retrieving fee failed\", fee);\n            if fee is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `unknown appointment ID`};\n            }\n            return \u003chttp:InternalServerError\u003e {body: fee.message()};\n        }\n\n        decimal|error actualFee = decimal:fromString(fee.actualFee);\n        if actualFee is error {\n            return \u003chttp:InternalServerError\u003e {body: \"fee retrieval failed\"};\n        }\n\n        ReservationStatus|http:ClientError status = paymentEP-\u003e/.post({\n            appointmentNumber,\n            doctor: appointment.doctor,\n            patient,\n            fee: actualFee,\n            confirmed: false,\n            card_number: cardNo\n        });\n\n        if status !is ReservationStatus {\n            log:printError(\"Payment failed\", status);\n            if status is http:ClientRequestError {\n                return \u003chttp:NotFound\u003e {body: string `unknown appointment ID`};\n            }\n            return \u003chttp:InternalServerError\u003e {body: status.message()};\n        }\n\n        log:printDebug(\"Appointment reservation successful\", \n                       name = patient.name, \n                       appointmentNumber = appointmentNumber);\n        return status;\n    }\n}\n```\n\n### Step 3: Build and run the service\n\nYou can run this service by navigating to the project root and using the `bal run` command.\n\n```\nservice-orchestration$ bal run\nCompiling source\n        integration_tutorials/service_orchestration:0.1.0\n\nRunning executable\n```\n\n### Step 4: Try out the use case\n\nLet's test the use case by sending a request to the service.\n\n#### Start the backend service\n\nDownload the JAR file for the [backend service](https://github.com/ballerina-guides/integration-tutorials/blob/main/backends/hospital-service/hospitalservice.jar) and execute the following command to start the service:\n\n```\n$ bal run hospitalservice.jar\n```\n\n#### Send a request\n\nLet's send a request to the service using cURL as follows.\n\n1. Install and set up [cURL](https://curl.se/) as your client.\n\n2. Create a file named `request.json` with the request payload.\n\n    ```json\n    {\n        \"patient\": {\n            \"name\": \"John Doe\",\n            \"dob\": \"1940-03-19\",\n            \"ssn\": \"234-23-525\",\n            \"address\": \"California\",\n            \"phone\": \"8770586755\",\n            \"email\": \"johndoe@gmail.com\",\n            \"cardNo\": \"7844481124110331\"\n        },\n        \"doctor\": \"thomas collins\",\n        \"hospital_id\": \"grandoaks\",\n        \"hospital\": \"grand oak community hospital\",\n        \"appointment_date\": \"2023-10-02\"\n    }\n    ```\n\n3. Execute the following command.\n\n    ```\n    $ curl -v -X POST --data @request.json http://localhost:8290/healthcare/categories/surgery/reserve --header \"Content-Type:application/json\"\n    ```\n\n#### Verify the response\n\nYou will see a response similar to the following for a successful appointment reservation.\n\n```json\n{\n    \"appointmentNo\": 1,\n    \"doctorName\": \"thomas collins\",\n    \"patient\": \"John Doe\",\n    \"actualFee\": 7000.0,\n    \"discount\": 20,\n    \"discounted\": 5600.0,\n    \"paymentID\": \"f55314dc-0d82-4cff-8eae-7ce941f98451\",\n    \"status\": \"settled\"\n}\n```\n\n## Complete implementation\n\nCheck out the [complete implementation](https://github.com/ballerina-guides/integration-tutorials/tree/main/service-orchestration) on GitHub.\n\n## References\n\n- [`ballerina/http` API docs](https://lib.ballerina.io/ballerina/http/latest)\n- [`ballerina/log` API docs](https://lib.ballerina.io/ballerina/log/latest)\n","slug":"service-orchestration","codes":"[[-236206095,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;patient\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;dob\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;1940-03-19\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;ssn\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;234-23-525\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;address\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;California\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;phone\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;8770586755\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;email\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;johndoe@gmail.com\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;cardNo\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;7844481124110331\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;doctor\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;thomas collins\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital_id\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;grandoaks\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;grand oak community hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;appointment_date\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;2023-10-02\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-183021168,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;appointmentNumber\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;doctor\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;thomas collins\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;grand oak community hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;category\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;surgery\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;availability\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;9.00 a.m - 11.00 a.m\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;fee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e7000\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;patient\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;name\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;dob\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;1940-03-19\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;ssn\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;234-23-525\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;address\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;California\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;phone\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;8770586755\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;email\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;johndoe@gmail.com\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;grand oak community hospital\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;confirmed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003efalse\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;appointmentDate\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;2023-10-02\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1644305268,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;patientName\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;doctorName\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;thomas collins\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;actualFee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;7000\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-233789525,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;appointmentNo\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e2\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;doctorName\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;thomas collins\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;patient\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;actualFee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e7000\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;discount\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e20\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;discounted\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e5600.0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;paymentID\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;f130e2ed-a34e-4434-9b40-6a0a8054ee6b\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;status\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;settled\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-539073824,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/log;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1742113784,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e port \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospitalServicesBackend \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://localhost:9090\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e paymentBackend \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://localhost:9090/healthcare/payments\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[444902424,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient hospitalServicesEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ehospitalServicesBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient paymentEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epaymentBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eurl\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eurl\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-2002070663,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient hospitalServicesEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ehospitalServicesBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient paymentEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epaymentBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e```\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #032F62\\\"\u003eefine records corresponding to the request payload and response payloads.\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1387213565,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003e/healthcare\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]/reserve(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epayload\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1269931172,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003e/healthcare\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]/reserve(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epayload\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        ReservationRequest {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            patient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {cardNo, \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e...\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003epatient},\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            doctor, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            hospital_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        } \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e payload;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintDebug\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Initiating reservation process\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003especialization\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003edoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epatient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient.name);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Appointment\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[hospital_id]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ereserve.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Appointment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Appointment reservation failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown hospital, doctor, or category`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Fee\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[hospital_id]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eappointments\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[appointmentNumber]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003efee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Fee {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving fee failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003efee\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown appointment ID`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003efromString\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(fee.actualFee);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;fee retrieval failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        ReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e paymentEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            appointmentNumber,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            doctor\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            fee\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            confirmed\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003efalse\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            card_number\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e cardNo\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ReservationStatus {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Payment failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003estatus\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown appointment ID`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintDebug\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Appointment reservation successful\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient.name, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                    \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-722811415,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eReservationRequest {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    patient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {cardNo, \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e...\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003epatient},\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    doctor, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    hospital_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e} \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e payload;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1047865930,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eAppointment\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[hospital_id]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ereserve.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e});\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[977477104,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{patient, doctor, hospital, appointment_date}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-167091764,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{patient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient, doctor\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e doctor, hospital\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital, appointment_date\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment_date}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-175609289,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Appointment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Appointment reservation failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown hospital, doctor, or category`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-978073914,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eFee\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[hospital_id]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eappointments\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[appointmentNumber]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003efee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Fee {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving fee failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003efee\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown appointment ID`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-318079624,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e paymentEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    appointmentNumber,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    doctor\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    fee\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    confirmed\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003efalse\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    card_number\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e cardNo\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e});\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ReservationStatus {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Payment failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003estatus\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown appointment ID`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003elog\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintDebug\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Appointment reservation successful\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient.name, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1876561265,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/http;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/log;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e port \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e8290\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospitalServicesBackend \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://localhost:9090\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003econfigurable\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e paymentBackend \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;http://localhost:9090/healthcare/payments\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient hospitalServicesEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ehospitalServicesBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efinal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient paymentEP \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epaymentBackend\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003einitializeHttpClient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eurl\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eurl\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ePatient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e dob;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ssn;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e address;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e phone;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e email;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e*\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ePatient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e cardNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e} patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e doctor;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital_id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment_date;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eDoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e availability;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eAppointment\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    Doctor doctor;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    Patient patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eboolean\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e confirmed;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e hospital;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentDate;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eFee\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patientName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e doctorName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNo;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e doctorName;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e discount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e discounted;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e paymentID;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003e/healthcare\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003enew\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http:Listener(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eresource\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e/[\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ecategory\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e]/reserve(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eReservationRequest\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epayload\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp:InternalServerError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        ReservationRequest {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            patient\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {cardNo, \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e...\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003epatient},\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            doctor, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            hospital_id,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        } \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e payload;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintDebug\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Initiating reservation process\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                       \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003especialization\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e category, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                       \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003edoctor\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                       \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003epatient\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient.name);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Appointment\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[hospital_id]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[category]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ereserve.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            hospital,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            appointment_date\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Appointment {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Appointment reservation failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eappointment\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown hospital, doctor, or category`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.appointmentNumber;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Fee\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                hospitalServicesEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[hospital_id]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecategories\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eappointments\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[appointmentNumber]\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003efee;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Fee {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Retrieving fee failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003efee\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown appointment ID`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e fee.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|error\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003efromString\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(fee.actualFee);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;fee retrieval failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        ReservationStatus\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientError status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e paymentEP\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;/\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epost\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            appointmentNumber,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            doctor\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointment.doctor,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            patient,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            fee\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e actualFee,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            confirmed\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003efalse\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            card_number\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e cardNo\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        });\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e!is\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ReservationStatus {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintError\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Payment failed\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003estatus\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e http\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eClientRequestError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eNotFound\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e string \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`unknown appointment ID`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eInternalServerError\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {body\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e()};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        log\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintDebug\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;Appointment reservation successful\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                       \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e patient.name, \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                       \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eappointmentNumber\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e appointmentNumber);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e status;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-49975993,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e{\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;appointmentNo\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;doctorName\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;thomas collins\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;patient\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;John Doe\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;actualFee\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e7000.0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;discount\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e20\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;discounted\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e5600.0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;paymentID\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;f55314dc-0d82-4cff-8eae-7ce941f98451\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e\u0026quot;status\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;settled\u0026quot;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/learn/integration/integration-tutorials/[slug]","query":{"slug":"service-orchestration"},"buildId":"LRR0b7rhu1mepM4WfB0dc","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>