<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems."/><meta name="keywords" content="ballerina, observability, metrics, tracing, logs, prometheus, grafana, jaeger, elastic"/><title>Observe Ballerina programs</title><meta property="og:type" content="article"/><meta property="og:title" content="Ballerina - Observe Ballerina programs"/><meta property="og:description" content="See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems."/><meta property="og:description" content="See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems."/><meta property="twitter:description" content="See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems."/><meta property="twitter:text:description" content="See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="14"/><meta charSet="utf-8"/><meta name="author" content="WSO2, Inc."/><meta property="og:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><meta property="og:title" content="Ballerina"/><meta property="og:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="Ballerina"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><meta property="twitter:image" content="/images/ballerina-swan-lake-sm-banner-general.png"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/ef5a96f2803aeed9.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ef5a96f2803aeed9.css" data-n-g=""/><link rel="preload" href="/_next/static/css/378ed2f535e3b0e2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/378ed2f535e3b0e2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-118cdcbb25b69ff7.js" defer=""></script><script src="/_next/static/chunks/framework-a070cbfff3c750c5.js" defer=""></script><script src="/_next/static/chunks/main-a66eb456a358e5ca.js" defer=""></script><script src="/_next/static/chunks/pages/_app-a1e0d68ce78e316c.js" defer=""></script><script src="/_next/static/chunks/9733-505c0cd1c0071f18.js" defer=""></script><script src="/_next/static/chunks/3696-16a70ad9dda7172d.js" defer=""></script><script src="/_next/static/chunks/8539-6f6b3c4f5c7709e5.js" defer=""></script><script src="/_next/static/chunks/6664-5abd55da916effbf.js" defer=""></script><script src="/_next/static/chunks/1722-b076ef6b1cb2a310.js" defer=""></script><script src="/_next/static/chunks/6599-14929bd9ea85f693.js" defer=""></script><script src="/_next/static/chunks/2092-643ce819261b95c6.js" defer=""></script><script src="/_next/static/chunks/7856-a90eb2f65c5ee39c.js" defer=""></script><script src="/_next/static/chunks/4564-ee5d81dd802e8aa2.js" defer=""></script><script src="/_next/static/chunks/113-873ab2f98e296338.js" defer=""></script><script src="/_next/static/chunks/5824-e83b0a7d314aab3a.js" defer=""></script><script src="/_next/static/chunks/3404-1e7d39d5a44250a8.js" defer=""></script><script src="/_next/static/chunks/pages/learn/learn-the-platform/%5B...slug%5D-c48e70a9b67c2b3e.js" defer=""></script><script src="/_next/static/F8aXx3nY1zWhgzyCD9bl2/_buildManifest.js" defer=""></script><script src="/_next/static/F8aXx3nY1zWhgzyCD9bl2/_ssgManifest.js" defer=""></script><script src="/_next/static/F8aXx3nY1zWhgzyCD9bl2/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap">@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrIzQ.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjARc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu52xM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ABc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBhc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgWxM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Me5g.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9vAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtvAA.woff) format('woff')}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz0dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzQdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzwdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzMdL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz8dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEz4dL-vwnYh2eg.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOiCnqEu92Fr1Mu51QrEzAdL-vwnYg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TjASc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xFIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xMIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xEIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xLIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xHIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xGIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1Mu51xIIzIXKMny.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51S7ACc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TzBic6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc3CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc-CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc2CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc5CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc1CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc0CsTYl4BOQ3o.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:italic;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOjCnqEu92Fr1Mu51TLBCc6CsTYl4BO.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxFIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxMIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxEIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxLIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxHIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxGIzIXKMnyrYk.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:100;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOkCnqEu92Fr1MmgVxIIzIXKMny.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v30/KFOlCnqEu92Fr1MmYUtfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper vstack gap-0"><div class="wrap-page-content container-fluid"><div class="row"><div class="leftNav d-none d-sm-block col-xxl-2 col-sm-3"><div class="LeftNav_leftNavAccordian__i9BmP accordion accordion-flush"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="why-ballerina" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Why Ballerina</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="cloud-native" href="/why-ballerina/cloud-native">Cloud native</a></li><li><a id="flexibly-typed" href="/why-ballerina/flexibly-typed">Flexibly typed</a></li><li><a id="data-oriented" href="/why-ballerina/data-oriented">Data oriented</a></li><li><a id="graphical" href="/why-ballerina/graphical">Graphical</a></li><li><a id="concurrent" href="/why-ballerina/concurrent">Concurrent</a></li><li><a id="reliable-maintainable" href="/why-ballerina/reliable-maintainable">Reliable, maintainable</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="get-started" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Get started</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="install-ballerina" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Install Ballerina</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="set-up-ballerina" href="/learn/install-ballerina/set-up-ballerina">Set up Ballerina</a></li><li><a id="installation-options" href="/learn/install-ballerina/installation-options">Installation options</a></li></div></ul></div></div></div><li><a id="get-started-with-ballerina" href="/learn/get-started-with-ballerina">Get started with Ballerina</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="learn-the-language" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Learn the language</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="language-basics" href="/learn/language-basics">Language basics</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="distinctive-language-features" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Distinctive language features</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="network-interaction" href="/learn/distinctive-language-features/network-interaction">Network interaction</a></li><li><a id="data" href="/learn/distinctive-language-features/data">Data</a></li><li><a id="concurrency" href="/learn/distinctive-language-features/concurrency">Concurrency </a></li><li><a id="advanced-general-purpose-language-features" href="/learn/distinctive-language-features/advanced-general-purpose-language-features">Advanced, general-purpose language features</a></li></div></ul></div></div></div><li><a id="language-walkthrough" href="/learn/language-walkthrough">Language walkthrough</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="featured-use-cases" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Featured use cases</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="write-a-restful-api-with-ballerina" href="/learn/write-a-restful-api-with-ballerina">Write a RESTful API with Ballerina</a></li><li><a id="write-a-grpc-service-with-ballerina" href="/learn/write-a-grpc-service-with-ballerina">Write a gRPC service with Ballerina</a></li><li><a id="write-a-graphql-api-with-ballerina" href="/learn/write-a-graphql-api-with-ballerina">Write a GraphQL API with Ballerina</a></li><li><a id="work-with-data-using-queries-in-ballerina" href="/learn/work-with-data-using-queries-in-ballerina">Work with data using queries in Ballerina</a></li><li><a id="build-a-data-service-in-ballerina" href="/learn/build-a-data-service-in-ballerina">Build a data service in Ballerina </a></li><li><a id="deploy-ballerina-on-kubernetes" href="/learn/deploy-ballerina-on-kubernetes">Deploy Ballerina on Kubernetes</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="learn-the-platform" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="true" class="accordion-button">Learn the platform</button></h2><div class="accordion-collapse collapse show"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="source-code-dependencies" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Source code &amp; dependencies</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="organize-ballerina-code" href="/learn/organize-ballerina-code">Organize Ballerina code</a></li><li><a id="package-references" href="/learn/package-references">Package references</a></li><li><a id="manage-dependencies" href="/learn/manage-dependencies">Manage dependencies</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="style-guide" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Style guide</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="coding-conventions" href="/learn/style-guide/coding-conventions">Coding conventions</a></li><li><a id="top-level-definitions" href="/learn/style-guide/top-level-definitions">Top-level definitions</a></li><li><a id="operators-keywords-and-types" href="/learn/style-guide/operators-keywords-and-types">Operators, keywords, and types</a></li><li><a id="statements" href="/learn/style-guide/statements">Statements</a></li><li><a id="expressions" href="/learn/style-guide/expressions">Expressions</a></li><li><a id="annotations-documentation-and-comments" href="/learn/style-guide/annotations-documentation-and-comments">Annotations, documentation and comments</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="test-document-the-code" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Test, debug &amp; document the code</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="test-ballerina-code" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Test Ballerina code</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="test-a-simple-function" href="/learn/test-ballerina-code/test-a-simple-function">Test a simple function</a></li><li><a id="write-tests" href="/learn/test-ballerina-code/write-tests">Write tests</a></li><li><a id="structure-tests" href="/learn/test-ballerina-code/structure-tests">Structure tests</a></li><li><a id="configure-tests" href="/learn/test-ballerina-code/configure-tests">Configure tests</a></li><li><a id="code-coverage-and-reporting" href="/learn/test-ballerina-code/code-coverage-and-reporting">Code coverage and reporting</a></li><li><a id="define-data-driven-tests" href="/learn/test-ballerina-code/define-data-driven-tests">Define data-driven tests</a></li><li><a id="define-test-groups" href="/learn/test-ballerina-code/define-test-groups">Define test groups</a></li><li><a id="test-services-and-clients" href="/learn/test-ballerina-code/test-services-and-clients">Test services and clients</a></li><li><a id="mocking" href="/learn/test-ballerina-code/mocking">Mocking</a></li><li><a id="execute-tests" href="/learn/test-ballerina-code/execute-tests">Execute tests</a></li></div></ul></div></div></div><li><a id="debug-ballerina-programs" href="/learn/debug-ballerina-programs">Debug Ballerina programs</a></li><li><a id="generate-code-documentation" href="/learn/generate-code-documentation">Generate code documentation</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="run-in-the-cloud" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Run in the cloud</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="code-to-cloud" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Code to cloud</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="code-to-cloud-deployment" href="/learn/run-in-the-cloud/code-to-cloud/code-to-cloud-deployment">Code to Cloud deployment</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="function-as-a-service" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Function as a service</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="aws-lambda" href="/learn/run-in-the-cloud/function-as-a-service/aws-lambda">AWS Lambda</a></li><li><a id="azure-functions" href="/learn/run-in-the-cloud/function-as-a-service/azure-functions">Azure Functions</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="configure-observe" class="accordion-header"><button type="button" aria-expanded="true" class="accordion-button">Configure &amp; observe</button></h2><div class="accordion-collapse collapse show"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="configure-ballerina-programs" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Configure Ballerina programs</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="configure-a-sample-ballerina-service" href="/learn/configure-ballerina-programs/configure-a-sample-ballerina-service">Configure a sample Ballerina service</a></li><li><a id="provide-values-to-configurable-variables" href="/learn/configure-ballerina-programs/provide-values-to-configurable-variables">Provide values to configurable variables</a></li><li><a id="configure-values" href="/learn/configure-ballerina-programs/configure-values">Configure values </a></li></div></ul></div></div></div><li><a id="observe-ballerina-programs" class="LeftNav_active__7vmPU" href="/learn/observe-ballerina-programs">Observe Ballerina Programs</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="java-interoperability" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Java interoperability</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="call-java-code-from-ballerina" href="/learn/call-java-code-from-ballerina">Call Java code from Ballerina</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="java-interoperability-guide" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Java interoperability guide</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="java-interoperability" href="/learn/java-interoperability-guide/java-interoperability">Java interoperability</a></li><li><a id="the-bindgen-tool" href="/learn/java-interoperability-guide/the-bindgen-tool">The Bindgen Tool</a></li><li><a id="ballerina-ffi" href="/learn/java-interoperability-guide/ballerina-ffi">Ballerina FFI</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="ballerina-tooling" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Ballerina tooling</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="ballerina-shell" href="/learn/ballerina-shell">Ballerina Shell</a></li><li><a id="openapi-tool" href="/learn/openapi-tool">OpenAPI tool</a></li><li><a id="graphql-client-tool" href="/learn/graphql-client-tool">GraphQL client tool</a></li><li><a id="asyncapi-tool" href="/learn/asyncapi-tool">AsyncAPI tool</a></li><li><a id="strand-dump-tool" href="/learn/strand-dump-tool">Strand dump tool</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="cli-documentation" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">CLI documentation</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="cli-commands" href="/learn/cli-documentation/cli-commands">CLI commands</a></li><li><a id="update-tool" href="/learn/cli-documentation/update-tool">Update Tool</a></li><li><a id="grpc" href="/learn/cli-documentation/grpc">gRPC/Protocol Buffers</a></li><li><a id="openapi" href="/learn/cli-documentation/openapi">OpenAPI </a></li><li><a id="graphql" href="/learn/cli-documentation/graphql">GraphQL</a></li><li><a id="asyncapi" href="/learn/cli-documentation/asyncapi">AsyncAPI</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="ballerina-central" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Ballerina central</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="publish-packages-to-ballerina-central" href="/learn/publish-packages-to-ballerina-central">Publish packages to Ballerina Central</a></li></div></ul></div></div></div><li><a id="ballerina-specifications" href="/learn/ballerina-specifications">Ballerina specifications</a></li></div></ul></div></div></div></div></div><div class="d-block d-sm-none col-12"><button type="button" class="learnMob btn btn-primary">Learn</button></div><div class="mdContent col-xxl-7 col-sm-7 col-12"><div class="container"><div class="topRow"><div class="col-11"><h1>Observe Ballerina programs</h1></div><div class="gitIcon col-1"><a href="https://github.com/ballerina-platform/ballerina-dev-website/blob/master/swan-lake/learn-the-platform/configure-observe/observe-ballerina-programs.md" target="_blank" rel="noreferrer" title="Edit in GitHub"></a></div></div><p class="intro">Observability is a measure of how well the internal states of a system can be inferred from the knowledge of its external outputs.</p><p>It consists of the three major pillars below.</p>
<ul>
<li><strong>Metrics:</strong> numeric values that are collected and aggregated over a period of time.</li>
<li><strong>Tracing:</strong> the activities that occur when a request/transaction occurs in the system from the point of entry to exit.</li>
<li><strong>Logging:</strong> text records of activities that occurred with relevant information along with the timestamp.</li>
</ul>
<h2 id="provide-observability-in-ballerina" data-section="provide-observability-in-ballerina" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Provide observability in Ballerina</h2>
<p>Metrics, distributed tracing, and logging are key methods that reveal the internal state of the system to provide observability. Ballerina becomes fully observable by exposing itself via these three methods to various external systems allowing metrics such as request count and response time statistics to be monitored, perform distributed tracing, and analyze logs.</p>
<p>Ballerina services and any client connectors are observable by default. HTTP/HTTPS and SQL client
connectors use semantic tags to make tracing and metrics monitoring more informative.</p>
<p>This guide focuses on enabling Ballerina service observability with some of its supported systems.</p>
<p><a href="https://prometheus.io/" target="_blank">Prometheus</a> and <a href="https://grafana.com/" target="_blank">Grafana</a> are used for metrics monitoring, and <a href="https://www.jaegertracing.io/" target="_blank">Jaeger</a> is used for distributed tracing.</p>
<p>Ballerina logs can be fed to any external log monitoring system like the <a href="https://www.elastic.co/">Elastic Stack</a> to perform log monitoring and analysis.</p>
<h2 id="observe-a-ballerina-service" data-section="observe-a-ballerina-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Observe a Ballerina service</h2>
<p>Follow the steps below to observe a sample Ballerina service.</p>
<h3 id="step-1---set-up-the-prerequisites" data-section="step-1---set-up-the-prerequisites" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 1 - set up the prerequisites</h3>
<p>Install <a href="https://www.docker.com/" target="_blank">Docker</a> to set up external systems such as Jaeger,
Prometheus, etc. For instructions, go to the <a href="https://docs.docker.com/install/" target="_blank">Docker documentation</a> to install Docker.</p>
<h3 id="step-2---install-and-configure-the-external-systems" data-section="step-2---install-and-configure-the-external-systems" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 2 - install and configure the external systems</h3>
<ul>
<li><a href="#set-up-prometheus">Set up Prometheus</a> for collecting metrics information.</li>
<li><a href="#set-up-grafana">Set up Grafana</a> to visualize metrics.</li>
<li><a href="#set-up-the-jaeger-server">Set up Jaeger</a> to analyze tracing.</li>
<li><a href="#set-up-the-elastic-stack">Set up the Elastic Stack</a> only if you are interested in analyzing logs.</li>
</ul>
<h3 id="step-3---create-a-hello-world-ballerina-service" data-section="step-3---create-a-hello-world-ballerina-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 3 - create a <code>Hello World</code> Ballerina service</h3>
<p>Create a service as shown below and save it as <code>hello_world_service.bal</code>.</p>
<pre><div></div></pre>
<h3 id="step-4---observe-the-hello-world-ballerina-service" data-section="step-4---observe-the-hello-world-ballerina-service" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 4 - observe the <code>Hello World</code> Ballerina service</h3>
<p>By default, observability is not included in the executable created by Ballerina. It can be added
by using the <code>--observability-included</code> build flag or by adding the following section to the <code>Ballerina.toml</code> file.</p>
<pre><div></div></pre>
<blockquote>
<p><strong>Note:</strong> the above configuration is included by default in the <code>Ballerina.toml</code> file generated when initiating a new
package using the <code>bal new</code> command.</p>
</blockquote>
<p>To include the Prometheus and Jaeger extensions into the executable, the
<code>ballerinax/prometheus</code> and <code>ballerinax/jaeger</code> modules need to be imported into your Ballerina code.</p>
<pre><div></div></pre>
<p>Observability is disabled by default at runtime as well and it can be enabled selectively for metrics and tracing by adding
the following runtime configurations to the <code>Config.toml</code> file.</p>
<pre><div></div></pre>
<p>The created configuration file can be passed to the Ballerina program with the <code>BAL_CONFIG_FILES</code> environment variable along with
the path of the configuration file. This is not necessary if the <code>Config.toml</code> file is present in the current working directory.</p>
<pre><pre class="default"><code>$ BAL_CONFIG_FILES=&lt;path-to-conf&gt;/Config.toml bal run --observability-included hello_world_service.bal

ballerina: started Prometheus HTTP listener 0.0.0.0:9797
ballerina: started publishing traces to Jaeger on localhost:55680
</code></pre></pre>
<p>When Ballerina observability is enabled, the Ballerina runtime exposes internal metrics via an HTTP endpoint (/metrics) for
metrics monitoring and traces will be published to Jaeger. Prometheus should be configured to scrape metrics from
the metrics HTTP endpoint in Ballerina.</p>
<p>Ballerina logs are logged on the console. Therefore, the logs need to be redirected to a file, which can then be
pushed to <a href="#distributed-logging">Elastic Stack</a> to perform the log analysis.</p>
<p>Therefore, redirect the standard output to a file if you want to monitor logs.</p>
<pre><pre class="default"><code>$ BAL_CONFIG_FILES=&lt;path-to-conf&gt;/Config.toml nohup bal run --observability-included hello_world_service.bal &gt; ballerina.log &amp;
</code></pre></pre>
<h3 id="step-5---send-requests" data-section="step-5---send-requests" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 5 - send requests</h3>
<p>Send requests to <a href="http://localhost:9090/hello/sayHello">http://localhost:9090/hello/sayHello</a>.</p>
<p>Example cURL command:</p>
<pre><pre class="default"><code>$ curl http://localhost:9090/hello/sayHello
</code></pre></pre>
<h3 id="step-6---view-metrics-and-tracing-dashboards" data-section="step-6---view-metrics-and-tracing-dashboards" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 6 - view metrics and tracing dashboards</h3>
<p>View the tracing information on Jaeger via <a href="http://localhost:16686/">http://localhost:16686/</a> and view metrics information from the Grafana
dashboard on <a href="http://localhost:3000/">http://localhost:3000/</a>.</p>
<p>A sample view of the Grafana dashboard for the <code>hello_world_service.bal</code> is shown below.
<img src="/learn/images/grafana-sample-hello-world-service-stats.png" alt="Grafana Sample Dashboard" title="Grafana HelloWorld Service Sample Dashboard"/></p>
<p>A sample view of the Jaeger dashboard for the <code>hello_world_service.bal</code> is shown below.
<img src="/learn/images/jaeger-sample-dashboard.png" alt="Jaeger Sample Dashboard" title="Jaeger Sample Dashboard"/></p>
<h3 id="step-7---visualize-the-logs" data-section="step-7---visualize-the-logs" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Step 7 - visualize the logs</h3>
<p>If you have configured log analytics, the logs can be viewed in Kibana via <a href="http://localhost:5601">http://localhost:5601</a>.
<img src="/learn/images/kibana-sample-dashboard.png" alt="Kibana sample dashboard" title="Kibana Sample Dashboard"/></p>
<h2 id="monitor-metrics" data-section="monitor-metrics" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Monitor metrics</h2>
<p>Metrics help to monitor the runtime behavior of a service. Therefore, metrics are a vital part of monitoring
Ballerina services. However, metrics are not the same as analytics. For example, it should not be used to perform
per-request billing or similar use cases. Metrics are used to measure what a Ballerina service does at runtime to make
better decisions using the numbers. The code generates business value when it continuously runs in production.
Therefore, it is imperative to continuously measure the code in production.</p>
<p>To support Prometheus as the metrics reporter, an HTTP endpoint starts with the context
of <code>/metrics</code> in default port 9797 when starting the Ballerina service.</p>
<h3 id="configure-advanced-metrics" data-section="configure-advanced-metrics" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Configure advanced metrics</h3>
<p>This section focuses on the Ballerina configurations that are available for metrics monitoring with Prometheus,
and the sample configuration is provided below.</p>
<pre><div></div></pre>
<p>The descriptions of each configuration option are provided below with possible values.</p>



































<table><thead><tr><th>Configuration key</th><th>Description</th><th>Default value</th><th>Possible values</th></tr></thead><tbody><tr><td>ballerina.observe. metricsEnabled</td><td>Whether metrics monitoring is enabled (true) or disabled (false)</td><td>false</td><td>true or false</td></tr><tr><td>ballerina.observe. metricsReporter</td><td>Reporter name that reports the collected Metrics to the remote metrics server. This is only required to be modified if a custom reporter is implemented and needs to be used.</td><td>choreo</td><td>prometheus or if any custom implementation, the name of the reporter.</td></tr><tr><td>ballerinax.prometheus. port</td><td>The value of the port to which the &#x27;/metrics&#x27; service will bind to. This service will be used by Prometheus to scrape the information of the Ballerina service.</td><td>9797</td><td>Any suitable value for port 0 - 0 - 65535. However, within that range, ports 0 - 1023 are generally reserved for specific purposes, therefore it is advisable to select a port without that range.</td></tr><tr><td>ballerinax.prometheus. host</td><td>The name of the host to which the &#x27;/metrics&#x27; service will bind to. This service will be used by Prometheus to scrape the information of the Ballerina service.</td><td>0.0.0.0</td><td>IP or Hostname or 0.0.0.0 of the node in which the Ballerina service is running.</td></tr></tbody></table>
<h3 id="set-up-the-external-systems-for-metrics" data-section="set-up-the-external-systems-for-metrics" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up the external systems for metrics</h3>
<p>There are mainly two systems involved in collecting and visualizing the metrics. Prometheus is used to collect the
metrics from the Ballerina service while Grafana can be used to connect to Prometheus and visualize the metrics on the dashboard.</p>
<h4 id="set-up-prometheus" data-section="set-up-prometheus" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up Prometheus</h4>
<p>Prometheus is used as the monitoring system, which pulls out the metrics collected from the Ballerina <code>/metrics</code> service. This section focuses on the quick installation of Prometheus with Docker and the configuration required to
collect metrics from the Ballerina service with the default configurations. Follow the steps below to configure
Prometheus.</p>
<blockquote>
<p><strong>Tip:</strong> There are many other ways to install Prometheus and you can find possible options from the <a href="https://prometheus.io/docs/prometheus/latest/installation/" target="_blank">installation guide</a>.</p>
</blockquote>
<ol>
<li>
<p>Create a <code>prometheus.yml</code> file in the <code>/tmp/</code> directory.</p>
</li>
<li>
<p>Add the following content to the <code>/tmp/prometheus.yml</code> file.</p>
<pre><div></div></pre>
<p>Here, the <code>&#x27;a.b.c.d:9797&#x27;</code> targets should contain the host and port of the <code>/metrics</code> service that is exposed from
Ballerina for metrics collection. Add the IP of the host in which the Ballerina service is running as <code>a.b.c.d</code> and its
port (default <code>9797</code>).
If you need more information, go to the <a href="https://prometheus.io/docs/introduction/first_steps/" target="_blank">Prometheus documentation</a>.</p>
<p>If your Ballerina service is running on localhost and Prometheus in a Docker container,
add the target as <code>host.docker.internal:9797</code> to access the localhost from Docker.</p>
</li>
<li>
<p>Start the Prometheus server in a Docker container with the command below.</p>
<pre><pre class="default"><code>$ docker run -p 19090:9090 -v /tmp/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus
</code></pre></pre>
</li>
<li>
<p>Go to <a href="http://localhost:19090/">http://localhost:19090/</a> and check whether you can see the Prometheus graph.
Ballerina metrics should appear in Prometheus graph&#x27;s metrics list when the Ballerina service is started.</p>
</li>
</ol>
<h4 id="set-up-grafana" data-section="set-up-grafana" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up Grafana</h4>
<p>Let’s use Grafana to visualize metrics in a dashboard. For this, we need to install Grafana and configure
Prometheus as a data source. Follow the steps below to configure Grafana.</p>
<ol>
<li>
<p>Start Grafana as a Docker container with the command below.</p>
<pre><pre class="default"><code>$ docker run -d --name=grafana -p 3000:3000 grafana/grafana
</code></pre></pre>
<p>For more information, go to <a href="https://hub.docker.com/r/grafana/grafana/" target="_blank">Grafana in Docker Hub</a>.</p>
</li>
<li>
<p>Go to <a href="http://localhost:3000/">http://localhost:3000/</a> to access the Grafana dashboard running on Docker.</p>
</li>
<li>
<p>Login to the dashboard with the default user, username: <code>admin</code> and password: <code>admin</code></p>
</li>
<li>
<p>Add Prometheus as a data source with <code>Browser</code> access configuration as provided below.</p>
<p><img src="/learn/images/grafana-prometheus-datasource.png" alt="Grafana Prometheus datasource" title="Grafana Prometheus Datasource"/></p>
</li>
<li>
<p>Import the Grafana dashboard designed to visualize Ballerina metrics from <a href="https://grafana.com/dashboards/5841" target="_blank"></a><a href="https://grafana.com/dashboards/5841">https://grafana.com/dashboards/5841</a>.</p>
</li>
</ol>
<p>This dashboard consists of service and client invocation level metrics in near real-time view.</p>
<pre><pre class="default"><code>The Ballerina HTTP Service Metrics Dashboard Panel will be as shown below.
![Ballerina Service Metrics](/learn/images/grafana-ballerina-metrics-1.png &quot;Ballerina Sample Service Metrics Dashboard&quot;)
</code></pre></pre>
<h2 id="distributed-tracing" data-section="distributed-tracing" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Distributed tracing</h2>
<p>Tracing provides information regarding the roundtrip of a service invocation based on the concept of spans, which are
structured in a hierarchy based on the cause and effect concept. A trace can spread across several services that can be
deployed in several nodes, depicting a high-level view of interconnections among services as well, hence coining the
term distributed tracing.</p>
<p>A span is a logical unit of work, which encapsulates a start and end time as well as metadata to give more meaning to
the unit of work being completed. For example, a span representing a client call to an HTTP endpoint would give the
user the latency of the client call and metadata like the HTTP URL being called, and the HTTP method used. If the span
represents an SQL client call, the metadata would include the query being executed.</p>
<p>Tracing gives the user a high-level view of how a single service invocation is processed across several distributed
microservices.</p>
<ul>
<li>Identify service bottlenecks - The user can monitor the latencies and identify when a service invocation slows down,
pinpoint where the slowing down happens (by looking at the span latencies), and take action to improve the latency.</li>
<li>Error identification - If an error occurs during the service invocation, it will show up in the list of traces.
The user can easily identify where the error occurred and information of the error will be attached to the relevant
span as metadata.</li>
</ul>
<p>Ballerina supports <a href="https://opentelemetry.io/" target="_blank">OpenTelemetry</a> standards by default. This means that Ballerina services can be traced using OpenTelemetry implementations like Jaeger.</p>
<h3 id="configure-advanced-tracing" data-section="configure-advanced-tracing" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Configure advanced tracing</h3>
<p>Tracing can be enabled in Ballerina with the few configurations mentioned above in the
<a href="#observe-a-ballerina-service">Observe a Ballerina service</a> section.
This section mainly focuses on the configuration options with the description and possible values.</p>
<p>A sample configuration that enables tracing and uses Jaeger as the tracer is provided below.</p>
<pre><div></div></pre>
<p>The table below provides the descriptions of each configuration option and possible values that can be assigned.</p>























<table><thead><tr><th>Configuration key</th><th>Description</th><th>Default value</th><th>Possible values</th></tr></thead><tbody><tr><td>ballerina.observe.tracingEnabled</td><td>Whether tracing is enabled (true) or disabled (false)</td><td>false</td><td>true or false</td></tr><tr><td>ballerina.observe.tracingProvider</td><td>The tracer name, which implements the tracer interface.</td><td>choreo</td><td>jaeger or the name of the tracer of any custom implementation.</td></tr></tbody></table>
<h4 id="use-the-jaeger-extension" data-section="use-the-jaeger-extension" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Use the Jaeger extension</h4>
<p>Below are the sample configuration options that are available to support Jaeger as the tracer provider in Ballerina.</p>
<pre><div></div></pre>
<p>The table below provides the descriptions of each configuration option and possible values that can be assigned.</p>















































<table><thead><tr><th>Configuration key</th><th>Description</th><th>Default value</th><th>Possible values</th></tr></thead><tbody><tr><td>ballerina.observe. agentHostname</td><td>Hostname of the Jaeger agent</td><td>localhost</td><td>IP or hostname of the Jaeger agent. If it is running on the same node as Ballerina, it can be localhost.</td></tr><tr><td>ballerina.observe. agentPort</td><td>Port of the Jaeger agent</td><td>55680</td><td>The port on which the Jaeger agent is listening.</td></tr><tr><td>ballerina.observe. samplerType</td><td>Type of the sampling methods used in the Jaeger tracer.</td><td>const</td><td><code>const</code>, <code>probabilistic</code>, or <code>ratelimiting</code>.</td></tr><tr><td>ballerina.observe. samplerParam</td><td>It is a floating value. Based on the sampler type, the effect of the sampler param varies</td><td>1.0</td><td>For <code>const</code> <code>0</code> (no sampling) or <code>1</code> (sample all spans), for <code>probabilistic</code> <code>0.0</code> to <code>1.0</code>, for <code>ratelimiting</code> any positive integer (rate per second).</td></tr><tr><td>ballerina.observe. reporterFlushInterval</td><td>The Jaeger client will be sending the spans to the agent at this interval.</td><td>2000</td><td>Any positive integer value.</td></tr><tr><td>ballerina.observe. reporterBufferSize</td><td>Queue size of the Jaeger client.</td><td>2000</td><td>Any positive integer value.</td></tr></tbody></table>
<h3 id="set-up-the-external-systems-for-tracing" data-section="set-up-the-external-systems-for-tracing" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up the external systems for tracing</h3>
<p>You can configure Ballerina to support distributed tracing with Jaeger. This section focuses on configuring
Jaeger with Docker as a quick installation.</p>
<h4 id="set-up-the-jaeger-server" data-section="set-up-the-jaeger-server" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up the Jaeger server</h4>
<p>There are many possible ways to deploy Jaeger. For more information, see <a href="https://www.jaegertracing.io/docs/deployment/" target="_blank">Jaeger Deployment</a>. This focuses on an all-in-one deployment with Docker.</p>
<ol>
<li>
<p>Install Jaeger via Docker and start the Docker container by executing the command below.</p>
<pre><pre class="default"><code>$ docker run -d -p 13133:13133 -p 16686:16686 -p 55680:55680 jaegertracing/opentelemetry-all-in-one
</code></pre></pre>
</li>
<li>
<p>Go to <a href="http://localhost:16686">http://localhost:16686</a> and load the web UI of Jaeger to make sure it is functioning properly.</p>
<p>The image below is the sample tracing information you can see in Jaeger.</p>
<p><img src="/learn/images/jaeger-tracing-dashboard.png" alt="Jaeger Tracing Dashboard" title="Jaeger Tracing Dashboard"/></p>
</li>
</ol>
<h2 id="distributed-logging" data-section="distributed-logging" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Distributed logging</h2>
<p>In Ballerina, distributed logging and analysis are supported by the Elastic Stack. Ballerina has a log module for logging into the console. To monitor the logs, the Ballerina standard output needs to be redirected to a file.</p>
<p>This can be done by running the Ballerina service as below.</p>
<pre><pre class="default"><code>$ nohup bal run hello_world_service.bal &gt; ballerina.log &amp;
</code></pre></pre>
<p>You can view the logs with the command below.</p>
<pre><pre class="default"><code>$ tail -f ~/wso2-ballerina/workspace/ballerina.log
</code></pre></pre>
<h3 id="set-up-the-external-systems-for-log-analytics" data-section="set-up-the-external-systems-for-log-analytics" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up the external systems for log analytics</h3>
<h4 id="set-up-elastic-stack" data-section="set-up-elastic-stack" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Set up Elastic Stack</h4>
<p>The Elastic Stack comprises the following components.</p>
<ol>
<li>Beats - Multiple agents that ship data to Logstash or Elasticsearch. In our context, Filebeat will ship the Ballerina logs to Logstash. Filebeat should be a container running on the same host as the Ballerina service. This is so that the log file (ballerina.log) can be mounted to the Filebeat container.</li>
<li>Logstash - Used to process and structure the log files received from Filebeat and send them to Elasticsearch.</li>
<li>Elasticsearch - Storage and indexing of the logs sent by Logstash.</li>
<li>Kibana - Visualizes the data stored in Elasticsearch.</li>
</ol>
<p>Elasticsearch and Kibana are provided as <a href="https://www.elastic.co/cloud" target="_blank">Cloud services</a>. Alternatively, Docker containers can be used to set up Elasticsearch and Kibana as well.</p>
<ol>
<li>
<p>Download the Docker images using the following commands.</p>
<pre><pre class="default"><code># Elasticsearch Image
$ docker pull docker.elastic.co/elasticsearch/elasticsearch:6.5.1
# Kibana Image
$ docker pull docker.elastic.co/kibana/kibana:6.5.1
# Filebeat Image
$ docker pull docker.elastic.co/beats/filebeat:6.5.1
# Logstash Image
$ docker pull docker.elastic.co/logstash/logstash:6.5.1
</code></pre></pre>
</li>
<li>
<p>Start Elasticsearch and Kibana containers by executing the following commands.</p>
<pre><pre class="default"><code>$ docker run -p 9200:9200 -p 9300:9300 -it -h elasticsearch --name elasticsearch docker.elastic.co/elasticsearch/elasticsearch:6.5.1
$ docker run -p 5601:5601 -h kibana --name kibana --link elasticsearch:elasticsearch docker.elastic.co/kibana/kibana:6.5.1
</code></pre></pre>
<p>If you are using Linux, you may have to increase the <code>vm.max_map_count</code> for the Elasticsearch container to start.
Execute the following command to do that.</p>
<pre><pre class="default"><code>$ sudo sysctl -w vm.max_map_count=262144
</code></pre></pre>
</li>
<li>
<p>Create a <code>logstash.conf</code> file in the <code>/tmp/pipeline/</code> directory and include the following content in the file.</p>
<pre><pre class="default"><code>input {
  beats {
    port =&gt; 5044
    }
}
filter {
  grok  {
    match =&gt; { &quot;message&quot; =&gt; &quot;%{TIMESTAMP_ISO8601:date}%{SPACE}%{WORD:logLevel}%{SPACE}\[%{GREEDYDATA:module}\]%{SPACE}\-%{SPACE}%{GREEDYDATA:logMessage}&quot;}
  }
}
output {
    elasticsearch {
        hosts =&gt; &quot;elasticsearch:9200&quot;
        index =&gt; &quot;ballerina&quot;
      document_type =&gt; &quot;ballerina_logs&quot;
    }
}
</code></pre></pre>
<p>Here, the 3 stages are specified in the pipeline. Input is specified as beats and listens to port 5044.
A Grok filter is used to structure the Ballerina logs and the output is specified to push to Elasticsearch on
<code>elasticsearch:9200</code>.</p>
</li>
<li>
<p>Start the Logstash container by executing the following command.</p>
<pre><pre class="default"><code>$ docker run -h logstash --name logstash --link elasticsearch:elasticsearch -it --rm -v /tmp/pipeline:/usr/share/logstash/pipeline/ -p 5044:5044 docker.elastic.co/logstash/logstash:6.5.1
</code></pre></pre>
</li>
<li>
<p>Configure Filebeat to ship the Ballerina logs. Create a <code>filebeat.yml</code> file in the <code>/tmp/</code> directory and include the following content in the file.</p>
<pre><pre class="default"><code>filebeat.prospectors:
- type: log
  paths:
    - /usr/share/filebeat/ballerina.log
output.logstash:
  hosts: [&quot;logstash:5044&quot;]
</code></pre></pre>
</li>
<li>
<p>Start the Filebeat container with the following command.</p>
<pre><pre class="default"><code>$ docker run -v /tmp/filebeat.yml:/usr/share/filebeat/filebeat.yml -v /&lt;path-to-ballerina.log&gt;/ballerina.log:/usr/share/filebeat/ballerina.log --link logstash:logstash docker.elastic.co/beats/filebeat:6.5.1
</code></pre></pre>
<p>The <code>-v</code> flag is used for bind mounting, where the container will read the file from the host machine. Provide the path to the <code>ballerina.log</code> file to be bind-mounted to the filebeat container.</p>
</li>
<li>
<p>Access Kibana to visualize the logs at <a href="http://localhost:5601">http://localhost:5601</a>. Add an index named <code>ballerina</code> and click on <code>Discover</code> to visualize the logs.</p>
</li>
</ol></div></div><div class="pageToc d-none d-sm-block col-sm-2"></div></div></div><div class="Footer_stack__Y9iHo vstack gap-0"><div class="Footer_footer__gXdNn container"><div class="row"><div class="col-lg-6 col-md-6 col-sm-12 col-12"><div class="row"><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_socialMedia__99VpI"><div class="Footer_smIcons__HD9f7"><ul><li><a href="https://github.com/ballerina-platform" target="_blank" rel="noreferrer" title="GitHub"></a></li><li><a href="https://twitter.com/ballerinalang" target="_blank" rel="noreferrer" title="Twitter"></a></li><li><a href="https://groups.google.com/g/ballerina-dev" target="_blank" rel="noreferrer" title="Google Groups"></a></li><li><a href="https://discord.gg/ballerinalang" target="_blank" rel="noreferrer" title="Discord"></a></li><li><a href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank" rel="noreferrer" title="Stackoverflow"></a></li><li><a href="https://www.youtube.com/c/Ballerinalang" target="_blank" rel="noreferrer" title="YouTube"></a></li><li><a href="https://www.linkedin.com/company/79080790" target="_blank" rel="noreferrer" title="LinkedIn"></a></li></ul></div></div><div class="Footer_footerLinks__M9jUM"><ul><li><a href="/downloads/">DOWNLOAD</a></li><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose">REPORT ISSUES</a></li></ul></div></div><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_subscription__N96Xy"><div class="Footer_subscribe__6aRU2"><a href="/community/#subscribe-to-our-newsletter">Subscribe to our newsletter</a></div><div class="Footer_subscribe__6aRU2"><a class="Footer_subRss__E8gAT" href="https://blog.ballerina.io/feed.xml" target="_blank" rel="noreferrer">Subscribe via RSS</a></div></div></div></div></div><div class="Footer_inspire__ZAi5V col-lg-6 col-md-6 col-sm-12 col-12"><p>In the creation of Ballerina, we were inspired by many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub, and WSO2.</p></div></div><div class="Footer_policyLinks__q3ge1 row"><div class="col-12"><ul><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li><li><a href="/license-of-site/">SITE LICENSE</a></li><li><a href="/terms-of-service/">TERMS OF SERVICE</a></li><li><a href="/privacy-policy/">PRIVACY POLICY</a></li><li><a href="/cookie-policy/">COOKIE POLICY</a></li><li><a href="/security-policy/">SECURITY POLICY</a></li><li><a href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"layout":"ballerina-observing-programs-left-nav-pages-swanlake","title":"Observe Ballerina programs","description":"See how Ballerina supports observability by exposing itself via metrics, tracing, and logs to external systems.","keywords":"ballerina, observability, metrics, tracing, logs, prometheus, grafana, jaeger, elastic","permalink":"/learn/observe-ballerina-programs/","active":"observe-ballerina-programs","intro":"Observability is a measure of how well the internal states of a system can be inferred from the knowledge of its external outputs.","redirect_from":["/learn/how-to-observe-ballerina-code","/learn/how-to-observe-ballerina-code/","/learn/how-to-observe-ballerina-services/","/learn/how-to-observe-ballerina-services","/learn/observing-ballerina-code","/swan-lake/learn/observing-ballerina-code/","/swan-lake/learn/observing-ballerina-code","/learn/observing-ballerina-code/","/learn/observing-ballerina-code","/learn/user-guide/observing-ballerina-code","/learn/user-guide/observing-ballerina-code/","/learn/user-guide/observability/","/learn/user-guide/observability","/learn/user-guide/observability/observing-ballerina-code/","/learn/user-guide/observability/observing-ballerina-code","/learn/observing-ballerina-programs/observing-your-application-with-prometheus-grafana-and-jaeger/","/learn/observing-ballerina-programs/observing-your-application-with-prometheus-grafana-and-jaeger","/learn/observing-ballerina-programs/observing-your-application-with-prometheus-grafana-jaeger-and-the-elastic-stack","/learn/observing-ballerina-programs/observing-your-application-with-prometheus-grafana-jaeger-and-the-elastic-stack/","/learn/observing-ballerina-programs/","/learn/observing-ballerina-programs","/learn/observe-ballerina-programs","/learn/guides/observing-your-application-with-prometheus-grafana-jaeger-and-elastic-the-stack/","/learn/guides/observing-your-application-with-prometheus-grafana-jaeger-and-elastic-the-stack"]},"content":"\nIt consists of the three major pillars below.\n\n- **Metrics:** numeric values that are collected and aggregated over a period of time.\n- **Tracing:** the activities that occur when a request/transaction occurs in the system from the point of entry to exit.\n- **Logging:** text records of activities that occurred with relevant information along with the timestamp.\n\n## Provide observability in Ballerina\n\nMetrics, distributed tracing, and logging are key methods that reveal the internal state of the system to provide observability. Ballerina becomes fully observable by exposing itself via these three methods to various external systems allowing metrics such as request count and response time statistics to be monitored, perform distributed tracing, and analyze logs.\n\nBallerina services and any client connectors are observable by default. HTTP/HTTPS and SQL client\nconnectors use semantic tags to make tracing and metrics monitoring more informative.\n\nThis guide focuses on enabling Ballerina service observability with some of its supported systems.\n\n\u003ca href=\"https://prometheus.io/\" target=\"_blank\"\u003ePrometheus\u003c/a\u003e and \u003ca href=\"https://grafana.com/\" target=\"_blank\"\u003eGrafana\u003c/a\u003e are used for metrics monitoring, and \u003ca href=\"https://www.jaegertracing.io/\" target=\"_blank\"\u003eJaeger\u003c/a\u003e is used for distributed tracing. \n\nBallerina logs can be fed to any external log monitoring system like the [Elastic Stack] to perform log monitoring and analysis.\n\n\n## Observe a Ballerina service\n\nFollow the steps below to observe a sample Ballerina service.\n\n### Step 1 - set up the prerequisites\n\nInstall \u003ca href=\"https://www.docker.com/\" target=\"_blank\"\u003eDocker\u003c/a\u003e to set up external systems such as Jaeger,\nPrometheus, etc. For instructions, go to the \u003ca href=\"https://docs.docker.com/install/\" target=\"_blank\"\u003eDocker documentation\u003c/a\u003e to install Docker.\n\n### Step 2 - install and configure the external systems\n\n* [Set up Prometheus](#set-up-prometheus) for collecting metrics information.\n* [Set up Grafana](#set-up-grafana) to visualize metrics.\n* [Set up Jaeger](#set-up-the-jaeger-server) to analyze tracing.\n* [Set up the Elastic Stack](#set-up-the-elastic-stack) only if you are interested in analyzing logs.\n\n### Step 3 - create a `Hello World` Ballerina service\n \nCreate a service as shown below and save it as `hello_world_service.bal`.\n\n```ballerina\nimport ballerina/http;\nimport ballerina/log;\nimport ballerinax/prometheus as _;\nimport ballerinax/jaeger as _;\n\nservice /hello on new http:Listener(9090) {\n    \n    resource function get sayHello(http:Caller caller, http:Request req) returns error? {\n        log:printInfo(\"This is a test Info log\");\n        log:printError(\"This is a test Error log\");\n        http:Response res = new;\n        res.setPayload(\"Hello, World!\");\n        check caller-\u003erespond(res);\n    }\n    \n}\n```\n\n### Step 4 - observe the `Hello World` Ballerina service\n\nBy default, observability is not included in the executable created by Ballerina. It can be added\nby using the `--observability-included` build flag or by adding the following section to the `Ballerina.toml` file.\n\n```toml\n[build-options]\nobservabilityIncluded=true\n```\n\n\u003e**Note:** the above configuration is included by default in the `Ballerina.toml` file generated when initiating a new \npackage using the `bal new` command.\n\nTo include the Prometheus and Jaeger extensions into the executable, the\n`ballerinax/prometheus` and `ballerinax/jaeger` modules need to be imported into your Ballerina code.\n\n```ballerina\nimport ballerinax/prometheus as _;\nimport ballerinax/jaeger as _;\n```\n\nObservability is disabled by default at runtime as well and it can be enabled selectively for metrics and tracing by adding\nthe following runtime configurations to the `Config.toml` file.\n\n```toml\n[ballerina.observe]\nmetricsEnabled=true\nmetricsReporter=\"prometheus\"\ntracingEnabled=true\ntracingProvider=\"jaeger\"\n```\n\nThe created configuration file can be passed to the Ballerina program with the `BAL_CONFIG_FILES` environment variable along with\nthe path of the configuration file. This is not necessary if the `Config.toml` file is present in the current working directory.\n\n```\n$ BAL_CONFIG_FILES=\u003cpath-to-conf\u003e/Config.toml bal run --observability-included hello_world_service.bal\n\nballerina: started Prometheus HTTP listener 0.0.0.0:9797\nballerina: started publishing traces to Jaeger on localhost:55680\n```\n\nWhen Ballerina observability is enabled, the Ballerina runtime exposes internal metrics via an HTTP endpoint (/metrics) for\nmetrics monitoring and traces will be published to Jaeger. Prometheus should be configured to scrape metrics from\nthe metrics HTTP endpoint in Ballerina.\n\nBallerina logs are logged on the console. Therefore, the logs need to be redirected to a file, which can then be\npushed to [Elastic Stack](#distributed-logging) to perform the log analysis.\n\nTherefore, redirect the standard output to a file if you want to monitor logs.\n\n```\n$ BAL_CONFIG_FILES=\u003cpath-to-conf\u003e/Config.toml nohup bal run --observability-included hello_world_service.bal \u003e ballerina.log \u0026\n```\n\n### Step 5 - send requests\n \nSend requests to \u003chttp://localhost:9090/hello/sayHello\u003e.\n\nExample cURL command:\n\n```\n$ curl http://localhost:9090/hello/sayHello\n```\n\n### Step 6 - view metrics and tracing dashboards\n\nView the tracing information on Jaeger via \u003chttp://localhost:16686/\u003e and view metrics information from the Grafana\ndashboard on \u003chttp://localhost:3000/\u003e.\n\nA sample view of the Grafana dashboard for the `hello_world_service.bal` is shown below.\n![Grafana Sample Dashboard](/learn/images/grafana-sample-hello-world-service-stats.png \"Grafana HelloWorld Service Sample Dashboard\")\n\nA sample view of the Jaeger dashboard for the `hello_world_service.bal` is shown below. \n![Jaeger Sample Dashboard](/learn/images/jaeger-sample-dashboard.png \"Jaeger Sample Dashboard\")\n\n### Step 7 - visualize the logs\n \nIf you have configured log analytics, the logs can be viewed in Kibana via \u003chttp://localhost:5601\u003e.\n![Kibana sample dashboard](/learn/images/kibana-sample-dashboard.png \"Kibana Sample Dashboard\")\n\n## Monitor metrics\nMetrics help to monitor the runtime behavior of a service. Therefore, metrics are a vital part of monitoring\nBallerina services. However, metrics are not the same as analytics. For example, it should not be used to perform\nper-request billing or similar use cases. Metrics are used to measure what a Ballerina service does at runtime to make\nbetter decisions using the numbers. The code generates business value when it continuously runs in production.\nTherefore, it is imperative to continuously measure the code in production.\n\nTo support Prometheus as the metrics reporter, an HTTP endpoint starts with the context\nof `/metrics` in default port 9797 when starting the Ballerina service.\n\n### Configure advanced metrics \nThis section focuses on the Ballerina configurations that are available for metrics monitoring with Prometheus,\nand the sample configuration is provided below.\n\n```toml\n[ballerina.observe]\nmetricsEnabled=true\nmetricsReporter=\"prometheus\"\n\n[ballerinax.prometheus]\nport=9797\nhost=\"0.0.0.0\"\n```\n\nThe descriptions of each configuration option are provided below with possible values.\n\nConfiguration key | Description | Default value | Possible values \n--- | --- | --- | --- \nballerina.observe. metricsEnabled | Whether metrics monitoring is enabled (true) or disabled (false) | false | true or false\nballerina.observe. metricsReporter | Reporter name that reports the collected Metrics to the remote metrics server. This is only required to be modified if a custom reporter is implemented and needs to be used. | choreo | prometheus or if any custom implementation, the name of the reporter.\nballerinax.prometheus. port | The value of the port to which the '/metrics' service will bind to. This service will be used by Prometheus to scrape the information of the Ballerina service. | 9797 | Any suitable value for port 0 - 0 - 65535. However, within that range, ports 0 - 1023 are generally reserved for specific purposes, therefore it is advisable to select a port without that range. \nballerinax.prometheus. host | The name of the host to which the '/metrics' service will bind to. This service will be used by Prometheus to scrape the information of the Ballerina service. | 0.0.0.0 | IP or Hostname or 0.0.0.0 of the node in which the Ballerina service is running.\n\n### Set up the external systems for metrics\nThere are mainly two systems involved in collecting and visualizing the metrics. Prometheus is used to collect the\nmetrics from the Ballerina service while Grafana can be used to connect to Prometheus and visualize the metrics on the dashboard.\n\n#### Set up Prometheus\nPrometheus is used as the monitoring system, which pulls out the metrics collected from the Ballerina `/metrics` service. This section focuses on the quick installation of Prometheus with Docker and the configuration required to \ncollect metrics from the Ballerina service with the default configurations. Follow the steps below to configure \nPrometheus. \n\n\u003e**Tip:** There are many other ways to install Prometheus and you can find possible options from the \u003ca href=\"https://prometheus.io/docs/prometheus/latest/installation/\" target=\"_blank\"\u003einstallation guide\u003c/a\u003e.\n\n1. Create a `prometheus.yml` file in the `/tmp/` directory.\n\n2. Add the following content to the `/tmp/prometheus.yml` file.\n\n    ```yaml\n    global:\n      scrape_interval:     15s\n      evaluation_interval: 15s\n    \n    scrape_configs:\n      - job_name: 'prometheus'\n        static_configs:\n          - targets: ['a.b.c.d:9797']\n    ```\n\n    Here, the `'a.b.c.d:9797'` targets should contain the host and port of the `/metrics` service that is exposed from \n    Ballerina for metrics collection. Add the IP of the host in which the Ballerina service is running as `a.b.c.d` and its\n    port (default `9797`).\n    If you need more information, go to the \u003ca href=\"https://prometheus.io/docs/introduction/first_steps/\" target=\"_blank\"\u003ePrometheus documentation\u003c/a\u003e.\n    \n    If your Ballerina service is running on localhost and Prometheus in a Docker container,\n    add the target as `host.docker.internal:9797` to access the localhost from Docker.\n\n3.  Start the Prometheus server in a Docker container with the command below.\n\n    ```\n    $ docker run -p 19090:9090 -v /tmp/prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus\n    ```\n    \n4.  Go to \u003chttp://localhost:19090/\u003e and check whether you can see the Prometheus graph.\nBallerina metrics should appear in Prometheus graph's metrics list when the Ballerina service is started.\n\n#### Set up Grafana\nLet’s use Grafana to visualize metrics in a dashboard. For this, we need to install Grafana and configure\nPrometheus as a data source. Follow the steps below to configure Grafana.\n\n1. Start Grafana as a Docker container with the command below.\n\n    ```\n    $ docker run -d --name=grafana -p 3000:3000 grafana/grafana\n    ```\n    For more information, go to \u003ca href=\"https://hub.docker.com/r/grafana/grafana/\" target=\"_blank\"\u003eGrafana in Docker Hub\u003c/a\u003e.\n\n2. Go to \u003chttp://localhost:3000/\u003e to access the Grafana dashboard running on Docker.\n\n3. Login to the dashboard with the default user, username: `admin` and password: `admin`\n\n4. Add Prometheus as a data source with `Browser` access configuration as provided below.\n\n    ![Grafana Prometheus datasource](/learn/images/grafana-prometheus-datasource.png \"Grafana Prometheus Datasource\")\n\n5. Import the Grafana dashboard designed to visualize Ballerina metrics from \u003ca href=\"https://grafana.com/dashboards/5841\" target=\"_blank\"\u003ehttps://grafana.com/dashboards/5841\u003c/a\u003e.\n\nThis dashboard consists of service and client invocation level metrics in near real-time view. \n\n    The Ballerina HTTP Service Metrics Dashboard Panel will be as shown below.\n    ![Ballerina Service Metrics](/learn/images/grafana-ballerina-metrics-1.png \"Ballerina Sample Service Metrics Dashboard\")\n\n\n## Distributed tracing\n\nTracing provides information regarding the roundtrip of a service invocation based on the concept of spans, which are\nstructured in a hierarchy based on the cause and effect concept. A trace can spread across several services that can be\ndeployed in several nodes, depicting a high-level view of interconnections among services as well, hence coining the\nterm distributed tracing.\n\nA span is a logical unit of work, which encapsulates a start and end time as well as metadata to give more meaning to\nthe unit of work being completed. For example, a span representing a client call to an HTTP endpoint would give the\nuser the latency of the client call and metadata like the HTTP URL being called, and the HTTP method used. If the span\nrepresents an SQL client call, the metadata would include the query being executed.\n\nTracing gives the user a high-level view of how a single service invocation is processed across several distributed\nmicroservices.\n\n* Identify service bottlenecks - The user can monitor the latencies and identify when a service invocation slows down,\npinpoint where the slowing down happens (by looking at the span latencies), and take action to improve the latency.\n* Error identification - If an error occurs during the service invocation, it will show up in the list of traces.\nThe user can easily identify where the error occurred and information of the error will be attached to the relevant\nspan as metadata.\n\nBallerina supports \u003ca href=\"https://opentelemetry.io/\" target=\"_blank\"\u003eOpenTelemetry\u003c/a\u003e standards by default. This means that Ballerina services can be traced using OpenTelemetry implementations like Jaeger.\n\n### Configure advanced tracing \n\nTracing can be enabled in Ballerina with the few configurations mentioned above in the\n[Observe a Ballerina service](#observe-a-ballerina-service) section.\nThis section mainly focuses on the configuration options with the description and possible values.\n\nA sample configuration that enables tracing and uses Jaeger as the tracer is provided below.\n\n```toml\n[ballerina.observe]\ntracingEnabled=true\ntracingProvider=\"jaeger\"\n```\n\nThe table below provides the descriptions of each configuration option and possible values that can be assigned.\n\nConfiguration key | Description | Default value | Possible values\n--- | --- | --- | --- \nballerina.observe.tracingEnabled | Whether tracing is enabled (true) or disabled (false) | false | true or false\nballerina.observe.tracingProvider | The tracer name, which implements the tracer interface. | choreo | jaeger or the name of the tracer of any custom implementation.\n\n#### Use the Jaeger extension\nBelow are the sample configuration options that are available to support Jaeger as the tracer provider in Ballerina.\n\n```toml\n[ballerina.observe]\ntracingEnabled=true\ntracingProvider=\"jaeger\"\n\n[ballerinax.jaeger]\nagentHostname=\"localhost\"\nagentPort=55680\nsamplerType=\"const\"\nsamplerParam=1.0\nreporterFlushInterval=2000\nreporterBufferSize=1000\n```\n\nThe table below provides the descriptions of each configuration option and possible values that can be assigned.\n\nConfiguration key | Description | Default value | Possible values \n--- | --- | --- | --- \nballerina.observe. agentHostname | Hostname of the Jaeger agent | localhost | IP or hostname of the Jaeger agent. If it is running on the same node as Ballerina, it can be localhost. \nballerina.observe. agentPort | Port of the Jaeger agent | 55680 | The port on which the Jaeger agent is listening.\nballerina.observe. samplerType | Type of the sampling methods used in the Jaeger tracer. | const | `const`, `probabilistic`, or `ratelimiting`.\nballerina.observe. samplerParam | It is a floating value. Based on the sampler type, the effect of the sampler param varies | 1.0 | For `const` `0` (no sampling) or `1` (sample all spans), for `probabilistic` `0.0` to `1.0`, for `ratelimiting` any positive integer (rate per second).\nballerina.observe. reporterFlushInterval | The Jaeger client will be sending the spans to the agent at this interval. | 2000 | Any positive integer value.\nballerina.observe. reporterBufferSize | Queue size of the Jaeger client. | 2000 | Any positive integer value.\n\n### Set up the external systems for tracing\nYou can configure Ballerina to support distributed tracing with Jaeger. This section focuses on configuring\nJaeger with Docker as a quick installation.\n\n#### Set up the Jaeger server\n\nThere are many possible ways to deploy Jaeger. For more information, see \u003ca href=\"https://www.jaegertracing.io/docs/deployment/\" target=\"_blank\"\u003eJaeger Deployment\u003c/a\u003e. This focuses on an all-in-one deployment with Docker.\n\n1. Install Jaeger via Docker and start the Docker container by executing the command below.\n\n    ```\n    $ docker run -d -p 13133:13133 -p 16686:16686 -p 55680:55680 jaegertracing/opentelemetry-all-in-one\n    ```\n\n2. Go to \u003chttp://localhost:16686\u003e and load the web UI of Jaeger to make sure it is functioning properly.\n\n    The image below is the sample tracing information you can see in Jaeger.\n    \n    ![Jaeger Tracing Dashboard](/learn/images/jaeger-tracing-dashboard.png \"Jaeger Tracing Dashboard\")\n\n## Distributed logging\nIn Ballerina, distributed logging and analysis are supported by the Elastic Stack. Ballerina has a log module for logging into the console. To monitor the logs, the Ballerina standard output needs to be redirected to a file.\n\nThis can be done by running the Ballerina service as below.\n\n```\n$ nohup bal run hello_world_service.bal \u003e ballerina.log \u0026\n```\n\nYou can view the logs with the command below.\n\n```\n$ tail -f ~/wso2-ballerina/workspace/ballerina.log\n```\n\n### Set up the external systems for log analytics\n\n#### Set up Elastic Stack\nThe Elastic Stack comprises the following components.\n\n1. Beats - Multiple agents that ship data to Logstash or Elasticsearch. In our context, Filebeat will ship the Ballerina logs to Logstash. Filebeat should be a container running on the same host as the Ballerina service. This is so that the log file (ballerina.log) can be mounted to the Filebeat container.\n2. Logstash - Used to process and structure the log files received from Filebeat and send them to Elasticsearch.\n3. Elasticsearch - Storage and indexing of the logs sent by Logstash.\n4. Kibana - Visualizes the data stored in Elasticsearch.\n\nElasticsearch and Kibana are provided as \u003ca href=\"https://www.elastic.co/cloud\" target=\"_blank\"\u003eCloud services\u003c/a\u003e. Alternatively, Docker containers can be used to set up Elasticsearch and Kibana as well.\n\n1. Download the Docker images using the following commands.\n\n    ```\n    # Elasticsearch Image\n    $ docker pull docker.elastic.co/elasticsearch/elasticsearch:6.5.1\n    # Kibana Image\n    $ docker pull docker.elastic.co/kibana/kibana:6.5.1\n    # Filebeat Image\n    $ docker pull docker.elastic.co/beats/filebeat:6.5.1\n    # Logstash Image\n    $ docker pull docker.elastic.co/logstash/logstash:6.5.1\n    ```\n\n2. Start Elasticsearch and Kibana containers by executing the following commands.\n\n    ```\n    $ docker run -p 9200:9200 -p 9300:9300 -it -h elasticsearch --name elasticsearch docker.elastic.co/elasticsearch/elasticsearch:6.5.1\n    $ docker run -p 5601:5601 -h kibana --name kibana --link elasticsearch:elasticsearch docker.elastic.co/kibana/kibana:6.5.1\n    ```\n    \n    If you are using Linux, you may have to increase the `vm.max_map_count` for the Elasticsearch container to start. \n    Execute the following command to do that.\n    \n    ```\n    $ sudo sysctl -w vm.max_map_count=262144\n    ```\n\n3. Create a `logstash.conf` file in the `/tmp/pipeline/` directory and include the following content in the file.\n\n    ```\n    input {\n      beats {\n        port =\u003e 5044\n        }\n    }\n    filter {\n      grok  {\n        match =\u003e { \"message\" =\u003e \"%{TIMESTAMP_ISO8601:date}%{SPACE}%{WORD:logLevel}%{SPACE}\\[%{GREEDYDATA:module}\\]%{SPACE}\\-%{SPACE}%{GREEDYDATA:logMessage}\"}\n      }\n    }\n    output {\n        elasticsearch {\n            hosts =\u003e \"elasticsearch:9200\"\n            index =\u003e \"ballerina\"\n          document_type =\u003e \"ballerina_logs\"\n        }\n    }\n    ```\n    \n    Here, the 3 stages are specified in the pipeline. Input is specified as beats and listens to port 5044. \n    A Grok filter is used to structure the Ballerina logs and the output is specified to push to Elasticsearch on\n    `elasticsearch:9200`.\n\n4. Start the Logstash container by executing the following command.\n\n    ```\n    $ docker run -h logstash --name logstash --link elasticsearch:elasticsearch -it --rm -v /tmp/pipeline:/usr/share/logstash/pipeline/ -p 5044:5044 docker.elastic.co/logstash/logstash:6.5.1\n    ```\n\n5. Configure Filebeat to ship the Ballerina logs. Create a `filebeat.yml` file in the `/tmp/` directory and include the following content in the file.\n\n    ```\n    filebeat.prospectors:\n    - type: log\n      paths:\n        - /usr/share/filebeat/ballerina.log\n    output.logstash:\n      hosts: [\"logstash:5044\"]\n    ```\n    \n6. Start the Filebeat container with the following command.\n\n    ```\n    $ docker run -v /tmp/filebeat.yml:/usr/share/filebeat/filebeat.yml -v /\u003cpath-to-ballerina.log\u003e/ballerina.log:/usr/share/filebeat/ballerina.log --link logstash:logstash docker.elastic.co/beats/filebeat:6.5.1\n    ```\n    \n    The `-v` flag is used for bind mounting, where the container will read the file from the host machine. Provide the path to the `ballerina.log` file to be bind-mounted to the filebeat container.\n\n7. Access Kibana to visualize the logs at \u003chttp://localhost:5601\u003e. Add an index named `ballerina` and click on `Discover` to visualize the logs.\n\n[Prometheus]: https://prometheus.io/\n[Grafana]: https://grafana.com/\n[Jaeger]: https://www.jaegertracing.io/\n[Elastic Stack]: https://www.elastic.co/","id":"observe-ballerina-programs","sub":"configure-observe","third":"","slug":"configure-observe/observe-ballerina-programs"},"__N_SSG":true},"page":"/learn/learn-the-platform/[...slug]","query":{"slug":["configure-observe","observe-ballerina-programs"]},"buildId":"F8aXx3nY1zWhgzyCD9bl2","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>