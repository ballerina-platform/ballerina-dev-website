<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Generate a GitHub issue summary report and email it to a specified email address"/><meta name="author" content="WSO2 LLC"/><meta name="keywords" content="ballerina, learn, documentation, docs, programming language"/><link rel="shortcut icon" href="/img/favicon.ico"/><title>GitHub to email integration - The Ballerina programming language</title><meta property="og:type" content="article"/><meta property="og:title" content="GitHub to email integration - The Ballerina programming language"/><meta property="og:description" content="Generate a GitHub issue summary report and email it to a specified email address"/><meta property="og:title" content="GitHub to email integration - The Ballerina programming language"/><meta property="og:image" content="https://ballerina.io/images/ballerina-swan-lake-pre-built-integrations-sm-banner.png"/><meta property="og:description" itemProp="image" content="Generate a GitHub issue summary report and email it to a specified email address"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="GitHub to email integration - The Ballerina programming language"/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:description" content="Generate a GitHub issue summary report and email it to a specified email address"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-swan-lake-pre-built-integrations-sm-banner.png"/><meta property="twitter:text:description" content="Generate a GitHub issue summary report and email it to a specified email address"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-swan-lake-pre-built-integrations-sm-banner.png"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="25"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta http-equiv="X-Frame-Options" content="SAMEORIGIN"/><meta http-equiv="Content-Security-Policy" content="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/6ece3c28563d4056.css" as="style"/><link rel="stylesheet" href="/_next/static/css/6ece3c28563d4056.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-e32e17cddbd57f25.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ba2391f08766dae9.js" defer=""></script><script src="/_next/static/chunks/1bfc9850-07afe3a69e1ba759.js" defer=""></script><script src="/_next/static/chunks/7621-d6bcd83f463fef72.js" defer=""></script><script src="/_next/static/chunks/8130-4f833ffdbe1dba0f.js" defer=""></script><script src="/_next/static/chunks/6242-7c6681de385c0d0b.js" defer=""></script><script src="/_next/static/chunks/1726-d958e891b50f9478.js" defer=""></script><script src="/_next/static/chunks/1205-52fd92c16c512500.js" defer=""></script><script src="/_next/static/chunks/pages/learn/integration/pre-built-integrations/github-to-email-integration-5fd52f5358fae5e5.js" defer=""></script><script src="/_next/static/P9yFUY_jesC5Ff92MHOZw/_buildManifest.js" defer=""></script><script src="/_next/static/P9yFUY_jesC5Ff92MHOZw/_ssgManifest.js" defer=""></script><script src="/_next/static/P9yFUY_jesC5Ff92MHOZw/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper other vstack gap-0"><div class="wrap-page-content" style="padding-bottom:0"><div class="community-wrap-row row"><div class="col-sm-12"><div class="pageContentRow llanding pb-0 row"><div class="col-12"><div class="container"><div class="row"><div class="patternContent col-12"><div class="backToLanding" href="/learn/pre-built-integrations/"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="#3ad1ca" class="bi bi-box-arrow-left ms-0" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M6 12.5a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v2a.5.5 0 0 1-1 0v-2A1.5 1.5 0 0 1 6.5 2h8A1.5 1.5 0 0 1 16 3.5v9a1.5 1.5 0 0 1-1.5 1.5h-8A1.5 1.5 0 0 1 5 12.5v-2a.5.5 0 0 1 1 0v2z"></path><path fill-rule="evenodd" d="M.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L1.707 7.5H10.5a.5.5 0 0 1 0 1H1.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"></path></svg><p class="m-0 p-0">Back to pre-built integrations</p></div></div></div></div></div></div><div class="pageHeader pageContentRow llanding row"><div class="col-12"><div class="container"><h1>GitHub to email integration</h1></div></div></div><div class="pageContentRow llanding row"><div class="col-12"><div class="container"><div class="row"><div style="font-size:18px" class="col-lg-6 col-12"><p>By periodically sending GitHub issue summaries directly to email through seamless integration, team members can stay informed about the project&#x27;s progress without the need to constantly visit the GitHub platform. This integration also ensures that crucial issue updates are never missed, enhancing responsiveness and facilitating prompt issue resolution.</p><p>The example below demonstrates how to get a GitHub issues summary as an email using Ballerina integration features.</p></div><div class="text-center mdContent col-lg-6 col-12"><img src="/images/pre-built/flow_diagrams/github-to-gmail-integration.png" alt="Flow Diagram"/></div></div></div></div></div><div class="pageContentRow llanding row"><div class="col-12"><div class="container"><ul class="mb-3 preBuilt nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><button type="button" id="react-aria3047548392-3-tab-code" role="tab" data-rr-ui-event-key="code" aria-controls="react-aria3047548392-3-tabpane-code" aria-selected="true" class="nav-link active">Code</button></li><li class="nav-item" role="presentation"><button type="button" id="react-aria3047548392-3-tab-diagram" role="tab" data-rr-ui-event-key="diagram" aria-controls="react-aria3047548392-3-tabpane-diagram" aria-selected="false" tabindex="-1" class="nav-link">Diagram</button></li></ul><div class="tab-content"><div role="tabpanel" id="react-aria3047548392-3-tabpane-code" aria-labelledby="react-aria3047548392-3-tab-code" class="fade tab-pane active show"><div style="background:#eeeeee;padding:10px;border-radius:5px;margin-top:20px;background-color:#eeeeee !important"><div style="display:flex;justify-content:end"><a href="https://github.com/ballerina-guides/integration-samples/tree/main/github-issue-summary-to-email" target="_blank" rel="noreferrer" title="Open on GitHub" style="margin-top:-5px"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" style="color:black;margin-right:10px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><title>Copy</title><path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"></path></svg></div><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/email;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/log;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerinax/github;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Github client configuration parameters</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> githubAccessToken </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> orgName </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> repoName </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Email client configuration parameters</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> smtpPassword </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> smtpUsername </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> smtpHost </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">// Email configuration parameters </span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> recipientAddress </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> fromAddress </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> main</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    github</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client github </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> ({</span></span>
<span class="line"><span style="color:#24292E">        auth</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">            token</span><span style="color:#D73A49">:</span><span style="color:#24292E"> githubAccessToken</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">SmtpClient email </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">host</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> smtpHost, </span><span style="color:#E36209">username</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> smtpUsername, </span><span style="color:#E36209">password</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> smtpPassword);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //Get collaborator list</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> assigneeSummary </span><span style="color:#D73A49">=</span><span style="color:#032F62"> ""</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">    stream&#x3C;</span><span style="color:#24292E">github</span><span style="color:#D73A49">:</span><span style="color:#24292E">User, github</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error?</span><span style="color:#D73A49">></span><span style="color:#24292E"> collaborators </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> github</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">getCollaborators</span><span style="color:#24292E">(</span><span style="color:#E36209">orgName</span><span style="color:#24292E">, </span><span style="color:#E36209">repoName</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    check</span><span style="color:#24292E"> collaborators.</span><span style="color:#6F42C1">forEach</span><span style="color:#24292E">(</span><span style="color:#D73A49">function</span><span style="color:#24292E">(</span><span style="color:#E36209">github</span><span style="color:#D73A49">:</span><span style="color:#24292E">User user) {</span></span>
<span class="line"><span style="color:#005CC5">        string</span><span style="color:#24292E"> query </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> string</span><span style="color:#032F62"> `repo:${</span><span style="color:#24292E">orgName</span><span style="color:#032F62">}/${</span><span style="color:#24292E">repoName</span><span style="color:#032F62">} is:issue assignee:${</span><span style="color:#24292E">user</span><span style="color:#032F62">.</span><span style="color:#24292E">login</span><span style="color:#032F62">}`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">        github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SearchResult</span><span style="color:#D73A49">|</span><span style="color:#24292E">github:Error issuesForAssignee </span><span style="color:#D73A49">=</span><span style="color:#24292E"> github</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">search</span><span style="color:#24292E">(</span><span style="color:#E36209">query</span><span style="color:#24292E">, </span><span style="color:#E36209">github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SEARCH_TYPE_ISSUE, </span><span style="color:#005CC5">1</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> issuesForAssignee </span><span style="color:#D73A49">is</span><span style="color:#24292E"> github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SearchResult {</span></span>
<span class="line"><span style="color:#005CC5">            string</span><span style="color:#24292E"> userName </span><span style="color:#D73A49">=</span><span style="color:#24292E"> user?.name </span><span style="color:#D73A49">?:</span><span style="color:#032F62"> "Unknown"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">            assigneeSummary </span><span style="color:#D73A49">+=</span><span style="color:#005CC5"> string</span><span style="color:#032F62"> `${</span><span style="color:#24292E">userName</span><span style="color:#032F62">} : ${</span><span style="color:#24292E">issuesForAssignee</span><span style="color:#032F62">.</span><span style="color:#24292E">issueCount</span><span style="color:#032F62">} ${"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"}`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">        } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">            log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Error while searching issues of an assignee."</span><span style="color:#24292E">, 'error </span><span style="color:#D73A49">=</span><span style="color:#24292E"> issuesForAssignee);</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //Get open issues</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> query </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> string</span><span style="color:#032F62"> `repo:${</span><span style="color:#24292E">orgName</span><span style="color:#032F62">}/${</span><span style="color:#24292E">repoName</span><span style="color:#032F62">} is:issue is:open`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SearchResult</span><span style="color:#D73A49">|</span><span style="color:#24292E">github:Error openIssues </span><span style="color:#D73A49">=</span><span style="color:#24292E"> github</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">search</span><span style="color:#24292E">(</span><span style="color:#E36209">query</span><span style="color:#24292E">, </span><span style="color:#E36209">github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SEARCH_TYPE_ISSUE, </span><span style="color:#005CC5">1</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> openIssues </span><span style="color:#D73A49">is</span><span style="color:#24292E"> github</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error {</span></span>
<span class="line"><span style="color:#24292E">        log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Error while searching open issues."</span><span style="color:#24292E">, 'error </span><span style="color:#D73A49">=</span><span style="color:#24292E"> openIssues);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> totalOpenIssueCount </span><span style="color:#D73A49">=</span><span style="color:#24292E"> openIssues </span><span style="color:#D73A49">is</span><span style="color:#24292E"> github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SearchResult ? openIssues.issueCount </span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //Get closed issues</span></span>
<span class="line"><span style="color:#24292E">    query </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> string</span><span style="color:#032F62"> `repo:${</span><span style="color:#24292E">orgName</span><span style="color:#032F62">}/${</span><span style="color:#24292E">repoName</span><span style="color:#032F62">} is:issue is:closed`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SearchResult</span><span style="color:#D73A49">|</span><span style="color:#24292E">github:Error closedIssues </span><span style="color:#D73A49">=</span><span style="color:#24292E"> github</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">search</span><span style="color:#24292E">(</span><span style="color:#E36209">query</span><span style="color:#24292E">, </span><span style="color:#E36209">github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SEARCH_TYPE_ISSUE, </span><span style="color:#005CC5">1</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> closedIssues </span><span style="color:#D73A49">is</span><span style="color:#24292E"> github</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error {</span></span>
<span class="line"><span style="color:#24292E">        log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(</span><span style="color:#032F62">"Error while searching closed issues."</span><span style="color:#24292E">, 'error </span><span style="color:#D73A49">=</span><span style="color:#24292E"> closedIssues);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> totalClosedIssueCount </span><span style="color:#D73A49">=</span><span style="color:#24292E"> closedIssues </span><span style="color:#D73A49">is</span><span style="color:#24292E"> github</span><span style="color:#D73A49">:</span><span style="color:#24292E">SearchResult ? closedIssues.issueCount </span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    //Send email</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> issueSummary </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> string</span><span style="color:#032F62"> `ISSUE SUMMARY REPORT${"</span><span style="color:#005CC5">\n\n</span><span style="color:#032F62">"}Repository Name: ${</span><span style="color:#24292E">repoName</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        ${"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"}Total Issues Open: ${</span><span style="color:#24292E">totalOpenIssueCount</span><span style="color:#032F62">} ${"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"}Total Issues Closed: ${</span><span style="color:#24292E">totalClosedIssueCount</span><span style="color:#032F62">}</span></span>
<span class="line"><span style="color:#032F62">        ${"</span><span style="color:#005CC5">\n\n</span><span style="color:#032F62">"}Issue Count by Assignee: ${"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"}${</span><span style="color:#24292E">assigneeSummary</span><span style="color:#032F62">} ${"</span><span style="color:#005CC5">\n</span><span style="color:#032F62">"}`</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message message </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        to</span><span style="color:#D73A49">:</span><span style="color:#24292E"> recipientAddress,</span></span>
<span class="line"><span style="color:#24292E">        'from</span><span style="color:#D73A49">:</span><span style="color:#24292E"> fromAddress,</span></span>
<span class="line"><span style="color:#24292E">        subject</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Git Issue Summary"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        body</span><span style="color:#D73A49">:</span><span style="color:#24292E"> issueSummary</span></span>
<span class="line"><span style="color:#24292E">    };</span></span>
<span class="line"><span style="color:#D73A49">    check</span><span style="color:#24292E"> email</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">sendMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">message</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printInfo</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email sent successfully!"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></div></div><div role="tabpanel" id="react-aria3047548392-3-tabpane-diagram" aria-labelledby="react-aria3047548392-3-tab-diagram" class="fade tab-pane"><div class="text-center mdContent col-lg-6 col-12"><img src="/images/pre-built/sequence-diagrams/github-to-email-integration.png" alt="Sequence Diagram"/></div></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"samples":{"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ballerina/email;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ballerina/log;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eimport\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ballerinax/github;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e// Github client configuration parameters\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e githubAccessToken \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e orgName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e repoName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e// Email client configuration parameters\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e smtpPassword \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e smtpUsername \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e smtpHost \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e// Email configuration parameters \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e recipientAddress \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e fromAddress \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e main\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e() \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eClient github \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        auth\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            token\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e githubAccessToken\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    email\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSmtpClient email \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ehost\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e smtpHost, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eusername\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e smtpUsername, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003epassword\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e smtpPassword);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    //Get collaborator list\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e assigneeSummary \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    stream\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003egithub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eUser, github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError?\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e collaborators \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003egetCollaborators\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eorgName\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003erepoName\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e collaborators.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eforEach\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003efunction\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003egithub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eUser user) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e query \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `repo:${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eorgName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}/${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003erepoName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} is:issue assignee:${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003euser\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003elogin\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSearchResult\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003egithub:Error issuesForAssignee \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003esearch\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003egithub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSEARCH_TYPE_ISSUE, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e issuesForAssignee \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSearchResult {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e            string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e userName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e user?.name \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e?:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"Unknown\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            assigneeSummary \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e+=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003euserName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} : ${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eissuesForAssignee\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eissueCount\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} ${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        } \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintError\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Error while searching issues of an assignee.\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, 'error \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e issuesForAssignee);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    });\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    //Get open issues\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e query \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `repo:${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eorgName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}/${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003erepoName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} is:issue is:open`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSearchResult\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003egithub:Error openIssues \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003esearch\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003egithub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSEARCH_TYPE_ISSUE, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e openIssues \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintError\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Error while searching open issues.\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, 'error \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e openIssues);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e totalOpenIssueCount \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e openIssues \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSearchResult ? openIssues.issueCount \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    //Get closed issues\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    query \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `repo:${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eorgName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}/${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003erepoName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} is:issue is:closed`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSearchResult\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003egithub:Error closedIssues \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003esearch\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003equery\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003egithub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSEARCH_TYPE_ISSUE, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e1\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e closedIssues \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintError\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Error while searching closed issues.\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, 'error \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e closedIssues);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e totalClosedIssueCount \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e closedIssues \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e github\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSearchResult ? closedIssues.issueCount \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    //Send email\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e issueSummary \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `ISSUE SUMMARY REPORT${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}Repository Name: ${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003erepoName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62\"\u003e        ${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}Total Issues Open: ${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003etotalOpenIssueCount\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} ${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}Total Issues Closed: ${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003etotalClosedIssueCount\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62\"\u003e        ${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}Issue Count by Assignee: ${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eassigneeSummary\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e} ${\"\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e\\n\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"}`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    email\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eMessage message \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        to\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e recipientAddress,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        'from\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e fromAddress,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        subject\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"Git Issue Summary\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        body\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e issueSummary\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e email\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003esendMessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Email sent successfully!\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e"},"content":"\nimport ballerina/email;\nimport ballerina/log;\nimport ballerinax/github;\n\n// Github client configuration parameters\nconfigurable string githubAccessToken = ?;\nconfigurable string orgName = ?;\nconfigurable string repoName = ?;\n\n// Email client configuration parameters\nconfigurable string smtpPassword = ?;\nconfigurable string smtpUsername = ?;\nconfigurable string smtpHost = ?;\n\n// Email configuration parameters \nconfigurable string recipientAddress = ?;\nconfigurable string fromAddress = ?;\n\npublic function main() returns error? {\n    github:Client github = check new ({\n        auth: {\n            token: githubAccessToken\n        }\n    });\n    email:SmtpClient email = check new (host = smtpHost, username = smtpUsername, password = smtpPassword);\n\n    //Get collaborator list\n    string assigneeSummary = \"\";\n    stream\u003cgithub:User, github:Error?\u003e collaborators = check github-\u003egetCollaborators(orgName, repoName);\n    check collaborators.forEach(function(github:User user) {\n        string query = string `repo:${orgName}/${repoName} is:issue assignee:${user.login}`;\n        github:SearchResult|github:Error issuesForAssignee = github-\u003esearch(query, github:SEARCH_TYPE_ISSUE, 1);\n        if issuesForAssignee is github:SearchResult {\n            string userName = user?.name ?: \"Unknown\";\n            assigneeSummary += string `${userName} : ${issuesForAssignee.issueCount} ${\"\\n\"}`;\n        } else {\n            log:printError(\"Error while searching issues of an assignee.\", 'error = issuesForAssignee);\n        }\n    });\n\n    //Get open issues\n    string query = string `repo:${orgName}/${repoName} is:issue is:open`;\n    github:SearchResult|github:Error openIssues = github-\u003esearch(query, github:SEARCH_TYPE_ISSUE, 1);\n    if openIssues is github:Error {\n        log:printError(\"Error while searching open issues.\", 'error = openIssues);\n    }\n    int totalOpenIssueCount = openIssues is github:SearchResult ? openIssues.issueCount : 0;\n\n    //Get closed issues\n    query = string `repo:${orgName}/${repoName} is:issue is:closed`;\n    github:SearchResult|github:Error closedIssues = github-\u003esearch(query, github:SEARCH_TYPE_ISSUE, 1);\n    if closedIssues is github:Error {\n        log:printError(\"Error while searching closed issues.\", 'error = closedIssues);\n    }\n    int totalClosedIssueCount = closedIssues is github:SearchResult ? closedIssues.issueCount : 0;\n\n    //Send email\n    string issueSummary = string `ISSUE SUMMARY REPORT${\"\\n\\n\"}Repository Name: ${repoName}\n        ${\"\\n\"}Total Issues Open: ${totalOpenIssueCount} ${\"\\n\"}Total Issues Closed: ${totalClosedIssueCount}\n        ${\"\\n\\n\"}Issue Count by Assignee: ${\"\\n\"}${assigneeSummary} ${\"\\n\"}`;\n    email:Message message = {\n        to: recipientAddress,\n        'from: fromAddress,\n        subject: \"Git Issue Summary\",\n        body: issueSummary\n    };\n    check email-\u003esendMessage(message);\n    log:printInfo(\"Email sent successfully!\");\n}  \n  \n"},"__N_SSG":true},"page":"/learn/integration/pre-built-integrations/github-to-email-integration","query":{},"buildId":"P9yFUY_jesC5Ff92MHOZw","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>