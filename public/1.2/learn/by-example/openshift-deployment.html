

<!DOCTYPE html>
<html class="no-js">
<head>
    <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<meta
  name="description"
  content="Documentation for the Ballerina Programming Language"
/>

<meta name="author" content="WSO2, Inc." />

<meta
  name="keywords"
  content="ballerinalang, integration, microservices, programming language, cloud native, ballerina language"
/>

<link rel="shortcut icon" href="/img/favicon.ico" />
<title>OpenShift Deployment</title>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script
  async
  src="https://www.googletagmanager.com/gtag/js?id=UA-92163714-2"
></script>
<!--FB-->
<meta property="og:type" content="article" />
<meta property="og:title" content="Ballerina - OpenShift Deployment" />
<meta property="og:description" content="" />
<meta
  property="og:image"
  content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png"/>
<!--TWITTER-->
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@ballerinalang" />
<meta name="twitter:creator" content="@ballerinalang" />
<meta name="twitter:title" content="Ballerina" />
<meta name="twitter:description" content="" />
<meta
  name="twitter:image"
  content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png"/>
<meta name="twitter:text:description" content="" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image:width" content="610" />
<!--LINKED IN  -->
<meta property="og:title" content="Ballerina" />
<meta
  property="og:image"
  content="https://ballerina.io/img/ballerina-swan-lake-sm-banner-general.png"/>
<meta property="og:description" content="" />
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag("js", new Date());
  gtag("config", "UA-92163714-2");
</script>
<!-- Google Tag Manager -->
<script>
  (function (w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({
      "gtm.start": new Date().getTime(),
      event: "gtm.js",
    });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != "dataLayer" ? "&l=" + l : "";
    j.async = true;
    j.src = "https://www.googletagmanager.com/gtm.js?id=" + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, "script", "dataLayer", "GTM-PSL2TX4");
</script>
<!-- End Google Tag Manager -->

<!--copy to clipboard lib-->
<script src="/js/clipboard.js-2.0.0/clipboard.min.js"></script>

<script src="/js/latest-jquery.js"></script>
<script>
  var base_url = "";
</script>
<link
  rel="stylesheet"
  href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
  integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu"
  crossorigin="anonymous"
/>
<!-- Optional theme -->
<link
  rel="stylesheet"
  href="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap-theme.min.css"
  integrity="sha384-6pzBo3FDv/PJ8r2KRkGHifhEocL+1X2rVCTTkUfGk7/0pbek5mMa1upzvWbrUbOZ"
  crossorigin="anonymous"
/>
<!-- Latest compiled and minified JavaScript -->
<script
  src="//maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"
  integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd"
  crossorigin="anonymous"
></script>
<!-- <link rel="stylesheet" href="https://use.typekit.net/son4ymv.css"> -->

<!-- <script type="text/javascript" src="/js/highlight.pack.js"></script> -->

<link rel="stylesheet" href="/css/prism.css">

<script src="/js/ballerina-common.js"></script>
<link rel="stylesheet" href="/css/ballerina-io.css" />
<link rel="stylesheet" href="/css/ballerina-io-bbe.css" />
<link rel="stylesheet" href="/css/bbe-page.css" />
<script>
  // Current page data
  var mkdocs_page_name = '"Home"'.replace(/^"|"$/g, "");
  var mkdocs_page_input_path = '"index.md"'.replace(/^"|"$/g, "");
  var mkdocs_page_url = '"/"'.replace(/^"|"$/g, "");

  var releaseNoteFilename = "RELEASE_NOTE.html";

  var nightly_download_url = "https://product-dist.ballerina.io/nightly";
  var dev_download_url = "https://product-dist.ballerina.io/dev";
  var base_download_url = "https://dist.ballerina.io/downloads";

  $(document).ready(function () {
    $("table").removeClass("table-striped");
    $(".ballerina").addClass("language-ballerina");
    $("pre").addClass("language-ballerina");
  });
</script>

</head>
<body class="cBallerina-io">
    <header data-plugin-header="line-numbers"></header>
<style>
    .cVersionChangeBanner{
    color: #000000;
    background-color: #fcdf4a !important;
    width: 100%;
    display: inline-block;
    padding: 10px 0px;
    text-align: center;
    font-weight: 500;
    font-size: 20px;
    transition : all 0.3s;
    position: fixed;
    top: 0;
    width: 100%;
    height: 50px;
    z-index: 9;
    }
    .cInfoBannerLink{
        color: #000000;
        text-decoration: underline;
    }
    .cInfoBannerLink:hover{
        color: #545454 !important;
        text-decoration: underline !important;
    }
    .cBallerina-io-Gray-row {
       padding-top: 70px !important;
    }
    @media only screen and (max-width: 992px) {
        .cBallerina-io-Gray-row {
       padding-top: 140px !important;
    }

    #noscript-warning{
        position: relative;
    text-align: center;
    padding: 7px 15px;
    background-color: #57595d;
    color: #fff;
    font-weight: 500;
    letter-spacing: 0.5px;
    }
</style>
<noscript>
    <div id="noscript-warning">Ballerina works best with JavaScript enabled.</div>
</noscript>
     <div class="cVersionChangeBanner">
        This documentation is for Ballerina 1.2.0. <a href="https://ballerina.io/learn/" class="cInfoBannerLink">View documentation for the latest release</a>.
    </div>
<div class="row cBallerina-io-Nav" id="iMainNavigation" style="top:50px">

    <div class="container">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <nav class="navbar">
                <div>
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                            data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">&#9776</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="cMobileLogo" href="/"><img src="/img/ballerina-logo.svg" alt="Ballerina" /></a>
                    </div>
                    <div id="navbar" class="collapse navbar-collapse">
                        <ul class="nav navbar-nav cTopNav">
                            <li class="toctree-l1" id="playli"><a class="cBioTopLink" href="/downloads/">Download</a>
                            </li>
                            <li class="toctree-l1" id="playli"><a class="cBioTopLink" href="https://play.ballerina.io/"
                                    target="_blank">Playground</a>
                            </li>
                            <li class="active toctree-l1" id="learnli"><a class="cBioTopLink" href="/learn">Learn</a>
                            </li>
                            <!--<li class="active toctree-l1" id="eventsli"><a class="cBioTopLink" href="/learn/events">Events</a>
                            </li>-->
                            <li class="toctree-l1"><a class="cBioTopLink" href="https://central.ballerina.io/"
                                    target="_blank">Central</a></li>
                            <li class="toctree-l1" id="openli"><a class="cBioTopLink" href="/community">Community</a>
                            </li>
                            <li class="toctree-l1" id="helpli"><a class="cBioTopLink"
                                    href="https://blog.ballerina.io">Blog</a>
                            </li>
                            <li class="cVersionItem">
                                <div class="cVersionContainer">
                                    <!-- <lable class="cVlable">Version</lable> -->
                                    <select name="versions" id="versions" class="select-css">
                                        <option value="swan-lake" data-value="latest">Swan Lake</option>
                                        <option value="1.2">v1.2</option>
                                    </select>
                                </div>
                            </li>
                            <li class="cSearchMenu">
                               
                                <!-- at the end of the HEAD -->
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
/>
<style>
  .algolia-search-cont {
    margin-top: -10px;
  }
  .algolia-search-wrap {
    display: flex;
    align-items: center;
  }
  .algolia-search-cont .search-icon {
    margin-right: 10px;
  }
  .algolia-search-cont .algolia-search-box {
    border: none;
    background-image: none;
    background-color: transparent;
    -webkit-box-shadow: none;
    -moz-box-shadow: none;
    box-shadow: none;
    outline: none;
  }
</style>
<div class="algolia-search-cont">
  <div class="algolia-search-wrap form-control">
    <span
      class="glyphicon glyphicon-search search-icon"
      aria-hidden="true"
    ></span>
    <input
      autocapitalize="off"
      autocomplete="off"
      autocorrect="off"
      placeholder="Search..."
      role="textbox"
      spellcheck="false"
      type="text"
      value=""
      class="algolia-search-box"
      id="algolia-search-box"
    />
  </div>
</div>

<!-- at the end of the BODY -->
<script
  type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"
></script>
<script type="text/javascript">
  docsearch({
    apiKey: "024f45d96c2949b32403db36d4016c23",
    indexName: "ballerina",
    inputSelector: "#algolia-search-box",
    debug: false, // Set debug to true if you want to inspect the dropdown
  });
</script>

                                <!-- <form class="cSearch-form-inline"><input id="searchTxt" class="form-control-field"
                                        type="search" placeholder="Search" aria-label="Search"><a id="searchBtn"
                                        href="#" class="cSearchButton"><img src="/img/search.svg" /></a></form> -->
                            </li>
                        </ul>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</div>

<div class="row cBallerina-io-Gray-row">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 cBallerina-io-Home-Middle-col">
                <div class="col-xs-12 col-sm-12" style="padding: 0;">
                    <div class="col-md-12 col-lg-10 cBallerina-io-breadcrumbs">
                        <nav class="breadcrumbs bootstrap hidden-sm-down"
  >
  <ul id="breadcrumb-list" class=" cBalleinaBreadcrumbs list-unstyled  wy-breadcrumbs" vocab="http://schema.org/"
    typeof="BreadcrumbList">


    
    <li><a href="/">Home</a></li>
    
    
    <li>/</li>
    <li><a
        href="/1.2/">1.2</a>
    </li>
    
    
    
    <li>/</li>
    <li><a
        href="/1.2/learn/">Learn</a>
    </li>
    
    
    
    <li>/</li>
    <li><a
        href="/1.2/learn/by-example/">By example</a>
    </li>
    
    
    
    <li>/</li> OpenShift Deployment
    
    

  </ul>
</nav>
<style type="text/css">
  .cBalleinaBreadcrumbs li {
    margin-right: 10px;
  }
</style>
                        <div class="cVersionContainer"></div>
                    </div>
                    <div class="col-md-12 col-lg-2 cBallerina-io-breadcrumbs">
                        <ul class="wy-breadcrumbs">
                            <!-- <li class="wy-breadcrumbs-aside">
                                <a class="icon icon-github" target="_blank" href="https://www.github.com/ballerina-platform/ballerina-dev-website/blob/master/1.2/learn/by-example/openshift-deployment.html">Edit on GitHub</a>
                            </li> -->
                        </ul>
                    </div>
                </div>
                <div class="cBlallerina-io-docs-content-container">
                    <div class="wy-nav-content">
                        <div class="rst-content">
                            <div role="main">
                                <div class="section">
                                    <div class="row cBallerina-io-Gray-row">
        <div class="container cBallerinaBySampleContainer">
            <div class="FullCode">
                <div class="highlight"><pre><span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">http</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">log</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">kubernetes</span><span class="p">;</span>
<span class="kn">import</span> <span class="nx">ballerina</span><span class="o">/</span><span class="nx">openshift</span><span class="p">;</span>

<span class="c1">//Add the `@kubernetes:Service` to a listener endpoint to expose the endpoint as a Kubernetes Service.</span>
<span class="nd">@kubernetes:Service {</span><span class="p">}</span>
<span class="c1">//Add the `@openshift:Route` to expose the Kubernetes Service through an OpenShift Route.</span>
<span class="nd">@openshift:Route {</span>
    <span class="nx">host</span><span class="p">:</span> <span class="s">&quot;www.oc-example.com&quot;</span>
<span class="p">}</span>
<span class="nx">listener</span> <span class="nx">http</span><span class="p">:</span><span class="nx">Listener</span> <span class="nx">helloEP</span> <span class="p">=</span> <span class="nx">new</span><span class="p">(</span><span class="mi">9090</span><span class="p">);</span>

<span class="c1">//Add the `@kubernetes:Deployment` annotation to a Ballerina service to generate a Kuberenetes Deployment for a Ballerina module.</span>
<span class="nd">@kubernetes:Deployment {</span>
    <span class="c1">//OpenShift project name.</span>
    <span class="nx">namespace</span><span class="p">:</span> <span class="s">&quot;hello-api&quot;</span><span class="p">,</span>
    <span class="c1">//IP and port of the OpenShift docker registry. If you are using minishift, use the `minishift openshift registry` to find the Docker registry.</span>
    <span class="nx">registry</span><span class="p">:</span> <span class="s">&quot;172.30.1.1:5000&quot;</span><span class="p">,</span>
    <span class="c1">//Generate a Docker image with the name `172.30.1.1:5000/hello-api/hello-service:v1.0`.</span>
    <span class="nx">image</span><span class="p">:</span> <span class="s">&quot;hello-service:v1.0&quot;</span><span class="p">,</span>
    <span class="c1">//Disable the image being built by default so that the OpenShift BuildConfig can build it.</span>
    <span class="nx">buildImage</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="c1">//Generate the OpenShift BuildConfig for building the Docker image.</span>
    <span class="nx">buildExtension</span><span class="p">:</span> <span class="nx">openshift</span><span class="p">:</span><span class="nx">BUILD_EXTENSION_OPENSHIFT</span>
<span class="p">}</span>
<span class="nd">@http:ServiceConfig {</span>
    <span class="nx">basePath</span><span class="p">:</span> <span class="s">&quot;/hello&quot;</span>
<span class="p">}</span>
<span class="kd">service</span> <span class="nx">hello</span> <span class="nx">on</span> <span class="nx">helloEP</span> <span class="p">{</span>
    <span class="nd">@http:ResourceConfig {</span>
        <span class="nx">methods</span><span class="p">:</span> <span class="p">[</span><span class="s">&quot;GET&quot;</span><span class="p">],</span>
        <span class="nx">path</span><span class="p">:</span> <span class="s">&quot;/{user}&quot;</span>
    <span class="p">}</span>
    <span class="kd">resource</span> <span class="kd">function</span> <span class="nx">sayHello</span><span class="p">(</span><span class="nx">http</span><span class="p">:</span><span class="nx">Caller</span> <span class="nx">caller</span><span class="p">,</span> <span class="nx">http</span><span class="p">:</span><span class="nx">Request</span> <span class="nx">request</span><span class="p">,</span> <span class="kt">string</span> <span class="nx">user</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">string</span> <span class="nx">payload</span> <span class="p">=</span> <span class="kt">string</span> <span class="s">`Hello ${&lt;@untainted string&gt; user}!`</span><span class="p">;</span>
        <span class="k">var</span> <span class="nx">responseResult</span> <span class="p">=</span> <span class="nx">caller</span><span class="o">-&gt;</span><span class="nx">respond</span><span class="p">(</span><span class="nx">payload</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">responseResult</span> <span class="nx">is</span> <span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">error</span> <span class="nx">err</span> <span class="p">=</span> <span class="nx">responseResult</span><span class="p">;</span>
            <span class="nx">log</span><span class="p">:</span><span class="nx">printError</span><span class="p">(</span><span class="s">&quot;Error sending response&quot;</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>

            </div>

            <div class="col-xs-12 col-sm-12 col-md-12">
                <table class="cTopInfoContainer cTopControlsContainer">
                    <tr>
                        <td class="cLeftTD">
                            <h2>OpenShift Deployment</h2>
                            <p><p>Ballerina supports generating the OpenShift Route, BuildConfig, and ImageStream artifacts based on annotations.
Docker image of the Ballerina service is built using the BuildConfig, which then can be used by the generated Kubernetes Deployment.
A generated OpenShift Route exposes the Kubernetes Service of the Ballerina Service.
This example deploys an HTTP service, which responses &ldquo;Hello&rdquo; followed by a name.<br/><br/></p>
</p>

                        </td>
                        <td class="cRightTD">
                            <div class="cTopButtonContainer">
                                
                                <div class="cButtonInfoContainer">
                                    <a class="prev" href="kubernetes-deployment.html">
                                        <span>< PREVIOUS</span>
                                        <p>Kubernetes Deployment</p>
                                    </a>
                                </div>
                                 
                                <div class="cButtonInfoContainer">
                                    <a class="next" href="aws-lambda-deployment.html">
                                        <span>NEXT ></span>
                                        <p>AWS Lambda Deployment</p>
                                    </a>
                                </div>
                                
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
            <div class="example" id="openshift-deployment">
                <div class="col-xs-12 col-sm-12 col-md-12 cBBETable-container cCodeLeft">
                    <div class="cTopControlsContainer">
                        <div class="cTopControlsRow">
                            <div class="cLeftTD">
                                <div class="cBBE-links">
                                    <ul>
                                        <li>
                                            <a class="copy"><img src="/img/copy-icon.svg" /></a>
                                        </li>
                                        <li>
                                            <a target="_blank" href="https://github.com/ballerina-platform/module-ballerina-kubernetes/tree/ballerina-1.2.x/kubernetes-extension-examples/examples/openshift-deployment"><img src="/img/github-logo-green.svg" /></a>
                                        </li>
                                        
                                    </ul>
                                </div>
                            </div> 
                        </div>
                    </div>
              
                    
                    <div class="codeSnippeset">

                        <div class="cBBE-body">
                            
                            <div class="cTR">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>import ballerina/http;
import ballerina/log;
import ballerina/kubernetes;
import ballerina/openshift;
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>@kubernetes:Service {}
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Add the <code>@kubernetes:Service</code> to a listener endpoint to expose the endpoint as a Kubernetes Service.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>@openshift:Route {
    host: &quot;www.oc-example.com&quot;
}
listener http:Listener helloEP = new(9090);
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Add the <code>@openshift:Route</code> to expose the Kubernetes Service through an OpenShift Route.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>@kubernetes:Deployment {
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Add the <code>@kubernetes:Deployment</code> annotation to a Ballerina service to generate a Kuberenetes Deployment for a Ballerina module.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    namespace: &quot;hello-api&quot;,
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>OpenShift project name.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    registry: &quot;172.30.1.1:5000&quot;,
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>IP and port of the OpenShift docker registry. If you are using minishift, use the <code>minishift openshift registry</code> to find the Docker registry.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    image: &quot;hello-service:v1.0&quot;,
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Generate a Docker image with the name <code>172.30.1.1:5000/hello-api/hello-service:v1.0</code>.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code leading">
                                    <div class="highlight"><pre><code class=language-ballerina>    buildImage: false,
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Disable the image being built by default so that the OpenShift BuildConfig can build it.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                            <div class="cTR hover-enable">

                                <div class="code">
                                    <div class="highlight"><pre><code class=language-ballerina>    buildExtension: openshift:BUILD_EXTENSION_OPENSHIFT
}
@http:ServiceConfig {
    basePath: &quot;/hello&quot;
}
service hello on helloEP {
    @http:ResourceConfig {
        methods: [&quot;GET&quot;],
        path: &quot;/{user}&quot;
    }
    resource function sayHello(http:Caller caller, http:Request request, string user) {
        string payload = string `Hello ${&lt;@untainted string&gt; user}!`;
        var responseResult = caller-&gt;respond(payload);
        if (responseResult is error) {
            error err = responseResult;
            log:printError(&quot;Error sending response&quot;, err);
        }
    }
}
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                    <div class="cCodeDesription">
                                        <div>
                                            <p>Generate the OpenShift BuildConfig for building the Docker image.</p>

                                        </div>
                                    </div>
                                    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    
                    <div class="codeSnippeset">

                        <div class="cBBE-body">
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Build the Ballerina program.
$ ballerina build openshift_deployment.bal
Compiling source
	openshift_deployment.bal
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>Generating executables.
	openshift_deployment.jar
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>Generating artifacts...
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>	@kubernetes:Service 			 - complete 1/1
	@kubernetes:Deployment 			 - complete 1/1
	@kubernetes:Docker 			 - complete 1/1
	@kubernetes:Helm 			 - complete 1/1
	@openshift:BuildConfig 			 - complete 1/1
	@openshift:ImageStream 			 - complete 1/1
	@openshift:Route 			 - complete 1/1
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>	Run the following command to deploy the OpenShift artifacts:
	oc apply -f ./kubernetes/openshift
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>	Run the following command to start a build:
	oc start-build bc/openshift-openshift-bc-openshift-bc --from-dir=. --follow
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session>	Run the following command to deploy the Kubernetes artifacts:
	kubectl apply -f ./kubernetes
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Create a new OpenShift project
$ oc new-project hello-api
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Deploy the OpenShift artifacts
$ oc apply -f ./kubernetes/openshift
buildconfig.build.openshift.io/openshift-openshift-bc-openshift-bc created
imagestream.image.openshift.io/hello-service created
route.route.openshift.io/helloep-openshift-route created
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Trigger a build to create the Docker image.
$ oc start-build bc/openshift-openshift-bc-openshift-bc --from-dir=. --follow
Uploading directory &quot;.&quot; as binary input for the build ...
..
Uploading finished
build.build.openshift.io/openshift-openshift-bc-openshift-bc-1 started
Receiving source from STDIN as archive ...
Pulling image ballerina/jre8:v1 ...
Pulled 3/4 layers, 92% complete
Pulled 4/4 layers, 100% complete
Extracting
Step 1/10 : FROM ballerina/jre8:v1
 ---&gt; 6953736bfaaa
Step 2/10 : LABEL maintainer &quot;dev@ballerina.io&quot;
 ---&gt; Running in e77dfb0dfe3c
 ---&gt; e3ae9b17b0b7
Removing intermediate container e77dfb0dfe3c
Step 3/10 : RUN addgroup troupe     &amp;&amp; adduser -S -s /bin/bash -g &#39;ballerina&#39; -G troupe -D ballerina     &amp;&amp; apk add --update --no-cache bash     &amp;&amp; chown -R ballerina:troupe /usr/bin/java     &amp;&amp; rm -rf /var/cache/apk/*
 ---&gt; Running in eaa889f617e6
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/main/x86_64/APKINDEX.tar.gz
fetch http://dl-cdn.alpinelinux.org/alpine/v3.9/community/x86_64/APKINDEX.tar.gz
(1/5) Installing ncurses-terminfo-base (6.1_p20190105-r0)
(2/5) Installing ncurses-terminfo (6.1_p20190105-r0)
(3/5) Installing ncurses-libs (6.1_p20190105-r0)
(4/5) Installing readline (7.0.003-r1)
(5/5) Installing bash (4.4.19-r1)
Executing bash-4.4.19-r1.post-install
Executing busybox-1.29.3-r10.trigger
OK: 93 MiB in 58 packages
 ---&gt; c49c36916288
Removing intermediate container eaa889f617e6
Step 4/10 : WORKDIR /home/ballerina
 ---&gt; a701b8eae0d9
Removing intermediate container 50703b9e9269
Step 5/10 : COPY openshift_deployment.jar /home/ballerina
 ---&gt; 991deed81242
Removing intermediate container ce1ec590569b
Step 6/10 : EXPOSE 9090
 ---&gt; Running in 854b6576d5d6
 ---&gt; d00ae6c70a05
Removing intermediate container 854b6576d5d6
Step 7/10 : USER ballerina
 ---&gt; Running in c56759363d0a
 ---&gt; 2fc8a5b56b1b
Removing intermediate container c56759363d0a
Step 8/10 : CMD java -jar openshift_deployment.jar
 ---&gt; Running in 0c2eb5f6f61b
 ---&gt; 1cf62f598ef2
Removing intermediate container 0c2eb5f6f61b
Step 9/10 : ENV &quot;OPENSHIFT_BUILD_NAME&quot; &quot;openshift-openshift-bc-openshift-bc-1&quot; &quot;OPENSHIFT_BUILD_NAMESPACE&quot; &quot;hello-api2&quot;
 ---&gt; Running in 1aeed538f9bc
 ---&gt; 35657b171b0a
Removing intermediate container 1aeed538f9bc
Step 10/10 : LABEL &quot;io.openshift.build.name&quot; &quot;openshift-openshift-bc-openshift-bc-1&quot; &quot;io.openshift.build.namespace&quot; &quot;hello-api2&quot;
 ---&gt; Running in a48523992d84
 ---&gt; 104517906bb2
Removing intermediate container a48523992d84
Successfully built 104517906bb2
Pushing image 172.30.1.1:5000/hello-api2/hello-service:v1.0 ...
Pushed 0/6 layers, 7% complete
Pushed 1/6 layers, 28% complete
Pushed 2/6 layers, 50% complete
Pushed 3/6 layers, 60% complete
Pushed 4/6 layers, 70% complete
Pushed 5/6 layers, 87% complete
Pushed 6/6 layers, 100% complete
Push successful
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Deploy the Kubernetes artifacts
$ kubectl apply -f ./kubernetes
service/helloep-svc created
deployment.apps/openshift-deployment-deployment created
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code leading cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Check if pods are running
$ oc get pods
NAME                                               READY     STATUS      RESTARTS   AGE
openshift-deployment-deployment-865d564bc9-5rh78   1/1       Running     0          35m
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                            <div class="cTR cOutputTr">

                                <div class="code cOutput">
                                    <div class="highlight"><pre><code class=shell-session># Invoke the service. If you are using minikube, go to www.oc-example.com to get the minikube IP. Use the `minikube ip` command to find the IP.
$ curl --resolve www.oc-example.com:80:192.168.99.101 http://www.oc-example.com/hello/john
Hello john!
</code></pre></div>

                                </div>
                                <div class="docs">
                                    
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    


                     
                </div>
            </div>
        </div>
    </div>

     <script>
            $(document).ready(function() {

                // hljs.initHighlightingOnLoad();

                $(".switch").click(function() {
                    $(".cCodeRight").toggleClass('cShow');
                    $(".cCodeLeft").toggleClass('cHide');
                });

                // register "copy to clipboard" event to elements with "copy" class
                var clipboard = new ClipboardJS('.copy', {
                    text: function(trigger) {
                        return $('.FullCode').find('pre').text();
                    }
                });

                // Register events show hide tooltip on click event
                clipboard.on('success', function(e) {
                    setTooltip(e.trigger, 'Copied!');
                    hideTooltip(e.trigger);
                });

                clipboard.on('error', function(e) {
                    setTooltip(e.trigger, 'Failed!');
                    hideTooltip(e.trigger);
                });

                $('.copy').tooltip({
                    trigger: 'click',
                    placement: 'bottom'
                });
                $("a.copy").unbind("click");
            });

            function setTooltip(btn, message) {
                $(btn).attr('data-original-title', message)
                    .tooltip('show');
            }

            function hideTooltip(btn) {
                setTimeout(function() {
                    $(btn).tooltip('hide').removeAttr('data-original-title');
                }, 1000);
            }
        </script>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="iBallerinaFooter" class="row cBallerina-io-White-row">
    <div class="container">
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-left-col cBallerinaFooterLinks">
        <ul>
            <li><a class="cBioFooterLink" href="/downloads">DOWNLOAD</a></li>
            <!--<li><a class="cBioFooterLink" href="/community/#report-issues">REPORT ISSUES</a></li>-->
            <li data-toggle="modal" data-target="#reportissues" data-whatever="@mdo"><a href="/community/#report-issues">REPORT ISSUES</a></li>
            <li><a class="cBioFooterLink" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li>
            <li><a class="cBioFooterLink" href="/license-of-site">SITE LICENSE</a></li>
            <li><a class="cBioFooterLink" href="/terms-of-service">TERMS OF SERVICE</a></li>
            <li><a class="cBioFooterLink" href="/privacy-policy">PRIVACY POLICY</a></li>
            <li><a class="cBioFooterLink" href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li>
            </ul>
        </div>
    <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3 cBallerina-io-middle-col cBallerinaFooterSignUp">
        <div class="cSocialmedia">
            <ul>
                <li>
                    <a class="cBioFooterLink" href="https://github.com/ballerina-platform" target="_blank"><img src="/img/github.svg"/></a>
                    </li>
                <li><a class="cBioFooterLink" href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank"><img src="/img/stackoverflow.svg"/></a></li>
                <li><a class="cBioFooterLink" href="https://twitter.com/ballerinalang" target="_blank"><img src="/img/twitter.svg"/></a></li>
                <li><a class="cBioFooterLink" href="/community/slack/"><img src="/img/slack-2022.svg" style="width:17px; height:17px;"/></a></li>
                <li><a class="cBioFooterLink" href="https://www.youtube.com/c/Ballerinalang"><img style="width: 15px;" src="/img/youtube-icon.svg"/></a></li>
                </ul>
            <div class="pdframe"></div>
            </div>


           <a class="cNLButton" href="/community/#subscribe-to-the-newsletter">Subscribe to the newsletter</a> 

           <div class="modal fade" id="reportissues" tabindex="-1" role="dialog" aria-labelledby="reportissueslabel" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content" style="padding:15px;border-radius:0px;">
                <div class="modal-header">
                  <h3 class="modal-title" style="color: #20b6b0;">Report Issues</h3>
                  <p style="padding: 10px 0px ;">Report issues in the GitHub repositories of the areas and components listed below.
                  </p>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body" style="background-color: #fff; font-size: 20; color: #465867;font-size: 20px;">
                  <ul class="b">
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose" target="_blank"> Compiler, runtime, or tooling</a></li>
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-standard-library/issues" target="_blank"> Standard Library</a></li>
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-standard-library/issues/new/choose" target="_blank">  Language specification</a></li>
                    <li><a class="linkText" href="https://github.com/ballerina-platform/ballerina-dev-website/issues/new/choose" target="_blank">  Website</a></li>
                    <li><a class="linkText" href="mailto:security@ballerina.io" target="_blank">Security</a> <span style="font-size: 16px;">(For details, see the</span> <a class="linkText" href="/security" target="_blank">security policy</a>.)</li>
                  </ul>  
                
                </div>
                <div class="modal-footer">
                 
                </div>
              </div>
            </div>
          </div>
        </div>
    <div class="col-xs-12 col-sm-10 col-md-6 col-lg-6 cBallerina-io-right-col">
        <p>In the creation of Ballerina, we were inspired by so many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub and WSO2.</p></div>
    </div>
</div>

<div class="cCookie-Policy">
    <div class="container">
        <div class="col-xs-12 col-sm-12 col-lg-12">
            <!-- <div class="closebuttoon"><img src="/img/close-w.svg"/></div> -->
<h4>Cookie policy</h4>
<p>This website uses cookies so that we can provide you with the best user experience. Read our <a href="https://ballerina.io/cookie-policy/">Cookie policy</a></a> to find out more.</p>
<p>If you wish to disable cookies you can do so from your browser. </p>
  
<!-- <a href="https://ballerina.io/cookie-policy/"></a> -->
<a class="cIUnderstand ">I understand </a>
        </div>
    </div>
</div>





<script src="/js/prism.js"></script>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.14.0/components/prism-core.min.js"></script> -->
<script src="/js/prism-ballerina.js"></script>



<script>

$(".cIUnderstand ").click(function() {
    $(".cCookie-Policy").addClass('cHide-Policy');
   
    
});



</script>


<!-- 
<script>
    (function () {

if (typeof self === 'undefined' || !self.Prism || !self.document) {
    return;
}

/**
 * Plugin name which is used as a class name for <pre> which is activating the plugin
 * @type {String}
 */
var PLUGIN_NAME = 'line-numbers';

/**
 * Regular expression used for determining line breaks
 * @type {RegExp}
 */
var NEW_LINE_EXP = /\n(?!$)/g;

/**
 * Resizes line numbers spans according to height of line of code
 * @param {Element} element <pre> element
 */
var _resizeElement = function (element) {
    var codeStyles = getStyles(element);
    var whiteSpace = codeStyles['white-space'];

    if (whiteSpace === 'pre-wrap' || whiteSpace === 'pre-line') {
        var codeElement = element.querySelector('code');
        var lineNumbersWrapper = element.querySelector('.line-numbers-rows');
        if (!codeElement || !lineNumbersWrapper) {
            return;
        }
        var lineNumberSizer = element.querySelector('.line-numbers-sizer');
        var codeLines = codeElement.textContent.split(NEW_LINE_EXP);

        if (!lineNumberSizer) {
            lineNumberSizer = document.createElement('span');
            lineNumberSizer.className = 'line-numbers-sizer';

            codeElement.appendChild(lineNumberSizer);
        }

        lineNumberSizer.style.display = 'block';

        codeLines.forEach(function (line, lineNumber) {
            lineNumberSizer.textContent = line || '\n';
            var lineSize = lineNumberSizer.getBoundingClientRect().height;
            lineNumbersWrapper.children[lineNumber].style.height = lineSize + 'px';
        });

        lineNumberSizer.textContent = '';
        lineNumberSizer.style.display = 'none';
    }
};

/**
 * Returns style declarations for the element
 * @param {Element} element
 */
var getStyles = function (element) {
    if (!element) {
        return null;
    }

    return window.getComputedStyle ? getComputedStyle(element) : (element.currentStyle || null);
};

window.addEventListener('resize', function () {
    Array.prototype.forEach.call(document.querySelectorAll('pre.' + PLUGIN_NAME), _resizeElement);
});

Prism.hooks.add('complete', function (env) {
    if (!env.code) {
        return;
    }

    var code = env.element;
    var pre = code.parentNode;

    // works only for <code> wrapped inside <pre> (not inline)
    if (!pre || !/pre/i.test(pre.nodeName)) {
        return;
    }

    // Abort if line numbers already exists
    if (code.querySelector('.line-numbers-rows')) {
        return;
    }

    var addLineNumbers = false;
    var lineNumbersRegex = /(?:^|\s)line-numbers(?:\s|$)/;

    for (var element = code; element; element = element.parentNode) {
        if (lineNumbersRegex.test(element.className)) {
            addLineNumbers = true;
            break;
        }
    }

    // only add line numbers if <code> or one of its ancestors has the `line-numbers` class
    if (!addLineNumbers) {
        return;
    }

    // Remove the class 'line-numbers' from the <code>
    code.className = code.className.replace(lineNumbersRegex, ' ');
    // Add the class 'line-numbers' to the <pre>
    if (!lineNumbersRegex.test(pre.className)) {
        pre.className += ' line-numbers';
    }

    var match = env.code.match(NEW_LINE_EXP);
    var linesNum = match ? match.length + 1 : 1;
    var lineNumbersWrapper;

    var lines = new Array(linesNum + 1).join('<span></span>');

    lineNumbersWrapper = document.createElement('span');
    lineNumbersWrapper.setAttribute('aria-hidden', 'true');
    lineNumbersWrapper.className = 'line-numbers-rows';
    lineNumbersWrapper.innerHTML = lines;

    if (pre.hasAttribute('data-start')) {
        pre.style.counterReset = 'linenumber ' + (parseInt(pre.getAttribute('data-start'), 10) - 1);
    }

    env.element.appendChild(lineNumbersWrapper);

    _resizeElement(pre);

    Prism.hooks.run('line-numbers', env);
});

Prism.hooks.add('line-numbers', function (env) {
    env.plugins = env.plugins || {};
    env.plugins.lineNumbers = true;
});

/**
 * Global exports
 */
Prism.plugins.lineNumbers = {
    /**
     * Returns the node of the given line number in the given element.
     * @param {Element} element A `<pre>` element with line numbers.
     * @param {Number} number
     * @returns {Element | undefined}
     */
    getLine: function (element, number) {
        if (element.tagName !== 'PRE' || !element.classList.contains(PLUGIN_NAME)) {
            return;
        }

        var lineNumberRows = element.querySelector('.line-numbers-rows');
        var lineNumberStart = parseInt(element.getAttribute('data-start'), 10) || 1;
        var lineNumberEnd = lineNumberStart + (lineNumberRows.children.length - 1);

        if (number < lineNumberStart) {
            number = lineNumberStart;
        }
        if (number > lineNumberEnd) {
            number = lineNumberEnd;
        }

        var lineIndex = number - lineNumberStart;

        return lineNumberRows.children[lineIndex];
    },
    /**
     * Resizes the line numbers of the given element.
     *
     * This function will not add line numbers. It will only resize existing ones.
     * @param {Element} element A `<pre>` element with line numbers.
     * @returns {void}
     */
    resize: function (element) {
        _resizeElement(element);
    }
};

}());
</script> -->

<!-- 
<style>
    pre[class*="language-"].line-numbers {
	position: relative;
	padding-left: 3.8em;
	counter-reset: linenumber;
}

pre[class*="language-"].line-numbers > code {
	position: relative;
	white-space: inherit;
}

.line-numbers .line-numbers-rows {
	position: absolute;
	pointer-events: none;
	top: 0;
	font-size: 100%;
	left: -3.8em;
	width: 3em; /* works for line-numbers below 1000 lines */
	letter-spacing: -1px;
	border-right: 1px solid #999;

	-webkit-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;

}

	.line-numbers-rows > span {
		display: block;
		counter-increment: linenumber;
	}

		.line-numbers-rows > span:before {
			content: counter(linenumber);
			color: #999;
			display: block;
			padding-right: 0.8em;
			text-align: right;
		}
</style> -->

<script src="/js/theme.js"></script>

<script>
    $(document).ready(function() {
        var gitstar = '<iframe id="iGitStarIframe" src="https://ghbtns.com/github-btn.html?user=ballerina-platform&repo=ballerina-lang&type=star&count=true&size=small" frameborder="0" scrolling="0"></iframe>';
        $('[data-button="iGitStarText"]').replaceWith(gitstar);

        var gitwatch = '<iframe id="iGitWatchIframe" src="https://ghbtns.com/github-btn.html?user=ballerina-platform&repo=ballerina-lang&type=watch&count=true&size=lsmalle&v=2" frameborder="0" scrolling="0"></iframe>';
        $('[data-button="iGitWatchText"]').replaceWith(gitwatch);
        checkIsFromRefrencePage();   
    });
    function checkIsFromRefrencePage(){ 
        var url_string =window.location.href; 
        var url = new URL(url_string);
        var isFromRefPage = url.searchParams.get("is_ref_by_example");
        if(isFromRefPage){ 
            $('.bbe-by-example-page-row').addClass('hide');
            $('.bbe-by-reference-page-row').removeClass('hide');
            $('.cTopButtonContainer').show();
            $('.cVersionItem').hide();
        }else{ 
            $('.bbe-by-example-page-row').removeClass('hide');
            $('.bbe-by-reference-page-row').addClass('hide');
            $('.cTopButtonContainer').hide();
            $('.cVersionItem').show(); 
        }
    }
</script>

<style>
    .cGitButtonContainer {
        display: inline-block;
        width: 100%;
        margin-bottom: 0px;
    }

    #iGitStarText {
        height: 20px;
        float: left;
        padding: 0;
        margin: 0;
    }
    #iGitStarIframe , #iGitWatchIframe {
        height: 20px;
        width: 100px;
        float: left;
    }
</style>

</body>
</html>


