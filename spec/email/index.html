<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="Specification: Ballerina Email Library"/><meta name="keywords"/><title>Specification: Ballerina Email Library - The Ballerina programming language</title><meta property="og:type" content="article"/><meta property="og:title" content="Specification: Ballerina Email Library - The Ballerina programming language"/><meta property="og:description" content="Specification: Ballerina Email Library"/><meta property="og:description" content="Specification: Ballerina Email Library"/><meta name="twitter:title" content="Specification: Ballerina Email Library - The Ballerina programming language"/><meta property="twitter:description" content="Specification: Ballerina Email Library"/><meta property="twitter:text:description" content="Specification: Ballerina Email Library"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="22"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta http-equiv="X-Frame-Options" content="SAMEORIGIN"/><meta http-equiv="Content-Security-Policy" content="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/9bb35c8110b0fa38.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9bb35c8110b0fa38.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-4e330c78879e2b14.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ba2391f08766dae9.js" defer=""></script><script src="/_next/static/chunks/7621-d6bcd83f463fef72.js" defer=""></script><script src="/_next/static/chunks/1058-de0b031bc614d462.js" defer=""></script><script src="/_next/static/chunks/6084-4e54ad5efcb8d3b5.js" defer=""></script><script src="/_next/static/chunks/5530-11a262420fdd225c.js" defer=""></script><script src="/_next/static/chunks/pages/spec/%5Bslug%5D-8f6d3ef3b598acd4.js" defer=""></script><script src="/_next/static/mu_ZG9gcuWCKvLyJdgsrq/_buildManifest.js" defer=""></script><script src="/_next/static/mu_ZG9gcuWCKvLyJdgsrq/_ssgManifest.js" defer=""></script><script src="/_next/static/mu_ZG9gcuWCKvLyJdgsrq/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper spec vstack gap-0"><div class="wrap-page-content container"><div class="row"><div class="mdContent col-12"><div class="container"><div class="topRowSpec row"><div class="col-12"></div></div><div class="specContent row"><div class="stdLib"><h1>Specification: Ballerina Email Library</h1>
<p><em>Owners</em>: @Maninda @wggihan @shafreenAnfar<br/>
<em>Reviewers</em>: @shafreenAnfar @Maninda<br/>
<em>Created</em>: 2020/04/24<br/>
<em>Updated</em>: 2022/02/17<br/>
<em>Edition</em>: Swan Lake</p>
<h2 id="introduction" level="2">Introduction</h2>
<p>This is the specification for the Email standard library of <a href="https://ballerina.io/">Ballerina language</a>, which provides functionalities related to
sending/receiving emails via SMTP, POP3, and IMAP protocols.</p>
<p>The Email library specification has evolved and may continue to evolve in the future. The released versions of the specification can be found under the relevant GitHub tag.</p>
<p>If you have any feedback or suggestions about the library, start a discussion via a <a href="https://github.com/ballerina-platform/ballerina-standard-library/issues">GitHub issue</a> or in the <a href="https://discord.gg/ballerinalang">Discord server</a>. Based on the outcome of the discussion, the specification and implementation can be updated. Community feedback is always welcome. Any accepted proposal which affects the specification is stored under <code>/docs/proposals</code>. Proposals under discussion can be found with the label <code>type/proposal</code> in GitHub.</p>
<p>The conforming implementation of the specification is released and included in the distribution. Any deviation from the specification is considered a bug.</p>
<h2 id="contents" level="2">Contents</h2>
<ol>
<li><a href="#1-overview">Overview</a></li>
<li><a href="#2-smtp-pop3-and-imap-protocols">SMTP, POP3 and IMAP Protocols</a></li>
<li><a href="#3-client">Client</a>
<ul>
<li>3.1. <a href="#31-smtp-client">SMTP Client</a>
<ul>
<li>3.1.1. <a href="#311-init-function"><code>init</code> function</a></li>
<li>3.1.2. <a href="#312-sendmessage-function"><code>sendMessage</code> function</a></li>
<li>3.1.3. <a href="#313-send-function"><code>send</code> function</a></li>
</ul>
</li>
<li>3.2. <a href="#32-pop3-client">POP3 Client</a>
<ul>
<li>3.2.1. <a href="#321-init-function"><code>init</code> function</a></li>
<li>3.2.2. <a href="#322-receivemessage-function"><code>receiveMessage</code> function</a></li>
<li>3.2.3. <a href="#323-close-function"><code>close</code> function</a></li>
</ul>
</li>
<li>3.3. <a href="#33-imap-client">IMAP Client</a>
<ul>
<li>3.3.1. <a href="#331-init-function"><code>init</code> function</a></li>
<li>3.3.2. <a href="#332-receivemessage-function"><code>receiveMessage</code> function</a></li>
<li>3.3.3. <a href="#333-close-function"><code>close</code> function</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4-service">Service</a>
<ul>
<li>4.1. <a href="#41-pop3-listener">POP3 Listener</a></li>
<li>4.2. <a href="#42-imap-listener">IMAP Listener</a></li>
<li>4.3. <a href="#43-pop3imap-service">POP3/IMAP Service</a></li>
</ul>
</li>
<li><a href="#5-samples">Samples</a>
<ul>
<li>5.1. <a href="#51-clients">Clients</a>
<ul>
<li>5.1.1. <a href="#511-smtp-client">SMTP Client</a></li>
<li>5.1.2. <a href="#512-pop3-client">POP3 Client</a></li>
<li>5.1.3. <a href="#513-imap-client">IMAP Client</a></li>
</ul>
</li>
<li>5.2. <a href="#52-services">Services</a>
<ul>
<li>5.2.1. <a href="#521-pop3-service">POP3 Service</a></li>
<li>5.2.2. <a href="#522-imap-service">IMAP Service</a></li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="1-overview" level="2">1. Overview</h2>
<p>This specification elaborates on Basic SMTP, POP3, IMAP4 clients and services/listeners.</p>
<h2 id="2-smtp-pop3-and-imap-protocols" level="2">2. SMTP, POP3 and IMAP Protocols</h2>
<p>SMTP is an application layer protocol used for sending an email to a recipient across a network.
POP3 and IMAP are application layer protocols used for receiving emails from an email server across a network.</p>
<p>Ballerina Email library has the capability of sending and receiving email via SMTP, POP3 and IMAP protocols using both clients and services.</p>
<h2 id="3-client" level="2">3. Client</h2>
<p>Introduce three different clients, SMTP for sending emails and POP3/IMAP clients for receiving emails.</p>
<h3 id="31-smtp-client" level="3">3.1 SMTP Client</h3>
<p>Sends an email to with SMTP protocol.
Either this client can be used to send an email from a pre-defined <code>email:Message</code> record or directly sending the email by passing all the parameters as arguments.</p>
<h4 id="311-init-function" level="4">3.1.1 <code>init</code> function</h4>
<p>If there are certificates to be added or in the case where the port number is different from <code>465</code> with SSL a configuration has to be passed.
Otherwise, only the host address, username, and the password has to be provided.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">SmtpClient smtpClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"smtp.email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"sender@email.com"</span><span style="color:#24292E"> , </span><span style="color:#032F62">"pass123"</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h4 id="312-sendmessage-function" level="4">3.1.2 <code>sendMessage</code> function</h4>
<p>The <code>email:Message</code> record has to be defined first as follows.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message emailMessage </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">   to</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"receiver1@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"receiver2@email.com"</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">   cc</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"receiver3@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"receiver4@email.com"</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">   bcc</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"receiver5@email.com"</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">   subject</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Sample Email Subject"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">   body</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "This is a sample email."</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">   'from</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "author@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">   sender</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "sender@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">   replyTo</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"replyTo1@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"replyTo2@email.com"</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p>Then the above record can be used to send using the SMTP client.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">check</span><span style="color:#24292E"> smtpClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">sendMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">emailMessage</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<p>If <code>body</code>, <code>htmlBody</code>, and <code>attachments</code> are empty then the client will send <code>CRLF</code> token which denotes end-of-message according to <a href="https://datatracker.ietf.org/doc/html/rfc5322#section-3.5">RFC 5322</a>.</p>
<h4 id="313-send-function" level="4">3.1.3 <code>send</code> function</h4>
<p>Instead of defining a record related to the email message the email can be sent directly.
This method can be in simple cases.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">check</span><span style="color:#24292E"> smtpClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">send</span><span style="color:#24292E">(</span><span style="color:#032F62">"receiver@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"Sample Email Subject"</span><span style="color:#24292E">, </span><span style="color:#032F62">"author@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"This is a sample email."</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h3 id="32-pop3-client" level="3">3.2 POP3 Client</h3>
<h4 id="321-init-function" level="4">3.2.1 <code>init</code> function</h4>
<p>If there are certificates to be added or in the case where the port number is different from <code>995</code> with SSL a configuration has to be passed.
Otherwise, only the host address, username, and the password has to be provided.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">PopClient popClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"pop.email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"reader@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"pass456"</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h4 id="322-receivemessage-function" level="4">3.2.2 <code>receiveMessage</code> function</h4>
<p>A <code>email:Message</code> record can to be received as follows.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message? emailResponse </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> popClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">receiveMessage</span><span style="color:#24292E">();</span></span></code></pre></div></pre>
<p>This method will return a single email that was already received if any such email exists. Otherwise, returns a nil.
A <code>timeout</code> value can be passed as an argument to the function required to be blocked on the method invocation till an email is received.</p>
<h4 id="323-close-function" level="4">3.2.3 <code>close</code> function</h4>
<p>Closes the email folder and the store from the POP3 server.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">check</span><span style="color:#24292E"> popClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span></code></pre></div></pre>
<h3 id="33-imap-client" level="3">3.3 IMAP Client</h3>
<h4 id="331-init-function" level="4">3.3.1 <code>init</code> function</h4>
<p>If there are certificates to be added or in the case where the port number is different from <code>993</code> with SSL a configuration has to be passed.
Otherwise, only the host address, username, and the password has to be provided.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">ImapClient imapClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"imap.email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"reader@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"pass456"</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h4 id="332-receivemessage-function" level="4">3.3.2 <code>receiveMessage</code> function</h4>
<p>A <code>email:Message</code> record can to be received as follows.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message? emailResponse </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> imapClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">receiveMessage</span><span style="color:#24292E">();</span></span></code></pre></div></pre>
<p>This method will return a single email that was already received if any such email exists. Otherwise, returns a nil.
A <code>timeout</code> value can be passed as an argument to the function required to be blocked on the method invocation till an email is received.</p>
<h4 id="333-close-function" level="4">3.3.3 <code>close</code> function</h4>
<p>Closes the email folder and the store from the IMAP server.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">check</span><span style="color:#24292E"> imapClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span></code></pre></div></pre>
<h2 id="4-service" level="2">4. Service</h2>
<p>A service can subscribe to a listener to read data from the POP3/IMAP server.</p>
<h3 id="41-pop3-listener" level="3">4.1 POP3 Listener</h3>
<p>A POP3 listener is initialized by passing <code>email:PopListenerConfiguration</code> to the constructor of the <code>email:PopListener</code>.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">PopListenerConfiguration popListenerConfiguration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    host</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "pop.email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    username</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "reader@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    password</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "pass456"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    pollingInterval</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    port</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 995</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">PopListener emailListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">popListenerConfiguration</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h3 id="42-imap-listener" level="3">4.2 IMAP Listener</h3>
<p>A IMAP listener is initialized by passing <code>email:ImapListenerConfiguration</code> to the constructor of the <code>email:ImapListener</code>.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">ImapListenerConfiguration imapListenerConfiguration </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    host</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "imap.email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    username</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "reader@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    password</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "pass456"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    pollingInterval</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    port</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 993</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">ImapListener emailListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">imapListenerConfiguration</span><span style="color:#24292E">);</span></span></code></pre></div></pre>
<p><code>pollingInterval</code> specifies the polling interval time period from number of seconds.</p>
<h3 id="43-pop3imap-service" level="3">4.3 POP3/IMAP Service</h3>
<p>Both POP3 and IMAP services can be defined as follows.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service emailObserver </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> service</span><span style="color:#D73A49"> object</span><span style="color:#24292E"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">   remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message emailMessage) {</span></span>
<span class="line"><span style="color:#24292E">      io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Body: "</span><span style="color:#24292E">, </span><span style="color:#E36209">emailMessage?</span><span style="color:#24292E">.body);</span></span>
<span class="line"><span style="color:#24292E">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">   remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onError</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error emailError) {</span></span>
<span class="line"><span style="color:#24292E">      io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Error while polling for the emails: "</span></span>
<span class="line"><span style="color:#D73A49">            +</span><span style="color:#24292E"> emailError.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">   remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onClose</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? </span><span style="color:#E36209">closeError</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">   }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p>When a new email is received <code>onMessage</code> function get called with the received email given as the argument.
If an error occurred during the listening <code>onError</code> method get called.
When the listener is getting closed <code>onClose</code> method get called.</p>
<h2 id="5-samples" level="2">5 Samples</h2>
<h3 id="51-clients" level="3">5.1 Clients</h3>
<h4 id="511-smtp-client" level="4">5.1.1 SMTP Client</h4>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> main</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">SmtpClient smtpClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"smtp.email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"sender@email.com"</span><span style="color:#24292E"> , </span><span style="color:#032F62">"pass123"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message email </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        to</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"receiver1@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"receiver2@email.com"</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">        subject</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Sample Email"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        body</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "This is a sample email."</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        'from</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "author@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">        replyTo</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"replyTo1@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"replyTo2@email.com"</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">    };</span></span>
<span class="line"><span style="color:#D73A49">    check</span><span style="color:#24292E"> smtpClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">sendMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h4 id="512-pop3-client" level="4">5.1.2 POP3 Client</h4>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> main</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">PopClient popClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"pop.email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"reader@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"pass456"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message? emailResponse </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> popClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">receiveMessage</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (emailResponse </span><span style="color:#D73A49">is</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"POP client received an email."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Subject: "</span><span style="color:#24292E">, emailResponse.subject);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Body: "</span><span style="color:#24292E">, </span><span style="color:#E36209">emailResponse?</span><span style="color:#24292E">.body);</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"There are no emails in the INBOX."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#D73A49">    check</span><span style="color:#24292E"> popClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h4 id="513-imap-client" level="4">5.1.3 IMAP Client</h4>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> main</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    email</span><span style="color:#D73A49">:</span><span style="color:#24292E">ImapClient imapClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"imap.email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"reader@email.com"</span><span style="color:#24292E">, </span><span style="color:#032F62">"pass456"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    emailResponse </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> imapClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">receiveMessage</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#D73A49">    if</span><span style="color:#24292E"> (emailResponse </span><span style="color:#D73A49">is</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"IMAP client received an email."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Subject: "</span><span style="color:#24292E">, emailResponse.subject);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Body: "</span><span style="color:#24292E">, </span><span style="color:#E36209">emailResponse?</span><span style="color:#24292E">.body);</span></span>
<span class="line"><span style="color:#24292E">    } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"There are no emails in the INBOX."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#D73A49">    check</span><span style="color:#24292E"> imapClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h3 id="52-services" level="3">5.2 services</h3>
<h4 id="521-pop3-service" level="4">5.2.1 POP3 Service</h4>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/email;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/io;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">PopListener emailListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> ({</span></span>
<span class="line"><span style="color:#24292E">    host</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "pop.email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    username</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "reader@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    password</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "pass456"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    pollingInterval</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    port</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 995</span></span>
<span class="line"><span style="color:#24292E">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#032F62"> "emailObserver"</span><span style="color:#D73A49"> on</span><span style="color:#24292E"> emailListener {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message emailMessage) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"POP Listener received an email."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Subject: "</span><span style="color:#24292E">, emailMessage.subject);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Body: "</span><span style="color:#24292E">, </span><span style="color:#E36209">emailMessage?</span><span style="color:#24292E">.body);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onError</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error emailError) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Error while polling for the emails: "</span><span style="color:#D73A49"> +</span><span style="color:#24292E"> emailError.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onClose</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? </span><span style="color:#E36209">closeError</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Closed the listener."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h4 id="522-imap-service" level="4">5.2.2 IMAP Service</h4>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/email;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/io;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">ImapListener emailListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> ({</span></span>
<span class="line"><span style="color:#24292E">    host</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "imap.email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    username</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "reader@email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    password</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "pass456"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    pollingInterval</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    port</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 993</span></span>
<span class="line"><span style="color:#24292E">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#032F62"> "emailObserver"</span><span style="color:#D73A49"> on</span><span style="color:#24292E"> emailListener {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message emailMessage) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"IMAP Listener received an email."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Subject: "</span><span style="color:#24292E">, emailMessage.subject);</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Email Body: "</span><span style="color:#24292E">, </span><span style="color:#E36209">emailMessage?</span><span style="color:#24292E">.body);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onError</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error emailError) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Error while polling for the emails: "</span><span style="color:#D73A49"> +</span><span style="color:#24292E"> emailError.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onClose</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? </span><span style="color:#E36209">closeError</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Closed the listener."</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{},"content":"# Specification: Ballerina Email Library\n\n_Owners_: @Maninda @wggihan @shafreenAnfar   \n_Reviewers_: @shafreenAnfar @Maninda   \n_Created_: 2020/04/24   \n_Updated_: 2022/02/17  \n_Edition_: Swan Lake  \n\n## Introduction\n\nThis is the specification for the Email standard library of [Ballerina language](https://ballerina.io/), which provides functionalities related to\nsending/receiving emails via SMTP, POP3, and IMAP protocols.  \n\nThe Email library specification has evolved and may continue to evolve in the future. The released versions of the specification can be found under the relevant GitHub tag. \n\nIf you have any feedback or suggestions about the library, start a discussion via a [GitHub issue](https://github.com/ballerina-platform/ballerina-standard-library/issues) or in the [Discord server](https://discord.gg/ballerinalang). Based on the outcome of the discussion, the specification and implementation can be updated. Community feedback is always welcome. Any accepted proposal which affects the specification is stored under `/docs/proposals`. Proposals under discussion can be found with the label `type/proposal` in GitHub.\n\nThe conforming implementation of the specification is released and included in the distribution. Any deviation from the specification is considered a bug.\n\n## Contents\n\n1. [Overview](#1-overview)\n2. [SMTP, POP3 and IMAP Protocols](#2-smtp-pop3-and-imap-protocols)\n3. [Client](#3-client)\n    * 3.1. [SMTP Client](#31-smtp-client)\n       * 3.1.1. [`init` function](#311-init-function)\n       * 3.1.2. [`sendMessage` function](#312-sendmessage-function)\n       * 3.1.3. [`send` function](#313-send-function)\n    * 3.2. [POP3 Client](#32-pop3-client)\n        * 3.2.1. [`init` function](#321-init-function)\n        * 3.2.2. [`receiveMessage` function](#322-receivemessage-function)\n        * 3.2.3. [`close` function](#323-close-function)\n    * 3.3. [IMAP Client](#33-imap-client)\n        * 3.3.1. [`init` function](#331-init-function)\n        * 3.3.2. [`receiveMessage` function](#332-receivemessage-function)\n        * 3.3.3. [`close` function](#333-close-function)\n4. [Service](#4-service)\n    * 4.1. [POP3 Listener](#41-pop3-listener)\n    * 4.2. [IMAP Listener](#42-imap-listener)\n    * 4.3. [POP3/IMAP Service](#43-pop3imap-service)\n5. [Samples](#5-samples)\n    * 5.1. [Clients](#51-clients)\n        * 5.1.1. [SMTP Client](#511-smtp-client)\n        * 5.1.2. [POP3 Client](#512-pop3-client)\n        * 5.1.3. [IMAP Client](#513-imap-client)\n    * 5.2. [Services](#52-services)\n        * 5.2.1. [POP3 Service](#521-pop3-service)\n        * 5.2.2. [IMAP Service](#522-imap-service)\n\n## 1. Overview\nThis specification elaborates on Basic SMTP, POP3, IMAP4 clients and services/listeners.\n\n## 2. SMTP, POP3 and IMAP Protocols\nSMTP is an application layer protocol used for sending an email to a recipient across a network.\nPOP3 and IMAP are application layer protocols used for receiving emails from an email server across a network.\n\nBallerina Email library has the capability of sending and receiving email via SMTP, POP3 and IMAP protocols using both clients and services.\n\n## 3. Client\nIntroduce three different clients, SMTP for sending emails and POP3/IMAP clients for receiving emails.\n\n### 3.1 SMTP Client\nSends an email to with SMTP protocol.\nEither this client can be used to send an email from a pre-defined `email:Message` record or directly sending the email by passing all the parameters as arguments.\n\n#### 3.1.1 `init` function\nIf there are certificates to be added or in the case where the port number is different from `465` with SSL a configuration has to be passed.\nOtherwise, only the host address, username, and the password has to be provided.\n\n```ballerina\nemail:SmtpClient smtpClient = check new (\"smtp.email.com\", \"sender@email.com\" , \"pass123\");\n```\n\n#### 3.1.2 `sendMessage` function\nThe `email:Message` record has to be defined first as follows.\n```ballerina\nemail:Message emailMessage = {\n   to: [\"receiver1@email.com\", \"receiver2@email.com\"],\n   cc: [\"receiver3@email.com\", \"receiver4@email.com\"],\n   bcc: [\"receiver5@email.com\"],\n   subject: \"Sample Email Subject\",\n   body: \"This is a sample email.\",\n   'from: \"author@email.com\",\n   sender: \"sender@email.com\",\n   replyTo: [\"replyTo1@email.com\", \"replyTo2@email.com\"]\n};\n```\n\nThen the above record can be used to send using the SMTP client.\n```ballerina\ncheck smtpClient-\u003esendMessage(emailMessage);\n```\n\nIf `body`, `htmlBody`, and `attachments` are empty then the client will send `CRLF` token which denotes end-of-message according to [RFC 5322](https://datatracker.ietf.org/doc/html/rfc5322#section-3.5).\n\n#### 3.1.3 `send` function\nInstead of defining a record related to the email message the email can be sent directly.\nThis method can be in simple cases.\n```ballerina\ncheck smtpClient-\u003esend(\"receiver@email.com\", \"Sample Email Subject\", \"author@email.com\", \"This is a sample email.\");\n```\n\n### 3.2 POP3 Client\n\n#### 3.2.1 `init` function\nIf there are certificates to be added or in the case where the port number is different from `995` with SSL a configuration has to be passed.\nOtherwise, only the host address, username, and the password has to be provided.\n\n```ballerina\nemail:PopClient popClient = check new (\"pop.email.com\", \"reader@email.com\", \"pass456\");\n```\n\n#### 3.2.2 `receiveMessage` function\nA `email:Message` record can to be received as follows.\n```ballerina\nemail:Message? emailResponse = check popClient-\u003ereceiveMessage();\n```\nThis method will return a single email that was already received if any such email exists. Otherwise, returns a nil.\nA `timeout` value can be passed as an argument to the function required to be blocked on the method invocation till an email is received.\n\n#### 3.2.3 `close` function\nCloses the email folder and the store from the POP3 server.\n```ballerina\ncheck popClient-\u003eclose();\n```\n\n### 3.3 IMAP Client\n\n#### 3.3.1 `init` function\nIf there are certificates to be added or in the case where the port number is different from `993` with SSL a configuration has to be passed.\nOtherwise, only the host address, username, and the password has to be provided.\n\n```ballerina\nemail:ImapClient imapClient = check new (\"imap.email.com\", \"reader@email.com\", \"pass456\");\n```\n\n#### 3.3.2 `receiveMessage` function\nA `email:Message` record can to be received as follows.\n```ballerina\nemail:Message? emailResponse = check imapClient-\u003ereceiveMessage();\n```\nThis method will return a single email that was already received if any such email exists. Otherwise, returns a nil.\nA `timeout` value can be passed as an argument to the function required to be blocked on the method invocation till an email is received.\n\n#### 3.3.3 `close` function\nCloses the email folder and the store from the IMAP server.\n```ballerina\ncheck imapClient-\u003eclose();\n```\n\n## 4. Service\nA service can subscribe to a listener to read data from the POP3/IMAP server.\n\n### 4.1 POP3 Listener\nA POP3 listener is initialized by passing `email:PopListenerConfiguration` to the constructor of the `email:PopListener`.\n```ballerina\nemail:PopListenerConfiguration popListenerConfiguration = {\n    host: \"pop.email.com\",\n    username: \"reader@email.com\",\n    password: \"pass456\",\n    pollingInterval: 2,\n    port: 995\n}\nlistener email:PopListener emailListener = check new (popListenerConfiguration);\n```\n\n### 4.2 IMAP Listener\nA IMAP listener is initialized by passing `email:ImapListenerConfiguration` to the constructor of the `email:ImapListener`.\n```ballerina\nemail:ImapListenerConfiguration imapListenerConfiguration = {\n    host: \"imap.email.com\",\n    username: \"reader@email.com\",\n    password: \"pass456\",\n    pollingInterval: 2,\n    port: 993\n}\nlistener email:ImapListener emailListener = check new (imapListenerConfiguration);\n```\n`pollingInterval` specifies the polling interval time period from number of seconds.\n\n### 4.3 POP3/IMAP Service\nBoth POP3 and IMAP services can be defined as follows.\n```ballerina\nemail:Service emailObserver = service object {\n\n   remote function onMessage(email:Message emailMessage) {\n      io:println(\"Email Body: \", emailMessage?.body);\n   }\n\n   remote function onError(email:Error emailError) {\n      io:println(\"Error while polling for the emails: \"\n            + emailError.message());\n   }\n\n   remote function onClose(email:Error? closeError) {\n   }\n\n};\n```\nWhen a new email is received `onMessage` function get called with the received email given as the argument.\nIf an error occurred during the listening `onError` method get called.\nWhen the listener is getting closed `onClose` method get called.\n\n## 5 Samples\n\n### 5.1 Clients\n\n#### 5.1.1 SMTP Client\n```ballerina\npublic function main() returns error? {\n    email:SmtpClient smtpClient = check new (\"smtp.email.com\", \"sender@email.com\" , \"pass123\");\n    email:Message email = {\n        to: [\"receiver1@email.com\", \"receiver2@email.com\"],\n        subject: \"Sample Email\",\n        body: \"This is a sample email.\",\n        'from: \"author@email.com\",\n        replyTo: [\"replyTo1@email.com\", \"replyTo2@email.com\"]\n    };\n    check smtpClient-\u003esendMessage(email);\n}\n```\n\n#### 5.1.2 POP3 Client\n```ballerina\npublic function main() returns error? {\n    email:PopClient popClient = check new (\"pop.email.com\", \"reader@email.com\", \"pass456\");\n    email:Message? emailResponse = check popClient-\u003ereceiveMessage();\n    if (emailResponse is email:Message) {\n        io:println(\"POP client received an email.\");\n        io:println(\"Email Subject: \", emailResponse.subject);\n        io:println(\"Email Body: \", emailResponse?.body);\n    } else {\n        io:println(\"There are no emails in the INBOX.\");\n    }\n    check popClient-\u003eclose();\n}\n```\n\n#### 5.1.3 IMAP Client\n```ballerina\npublic function main() returns error? {\n    email:ImapClient imapClient = check new (\"imap.email.com\", \"reader@email.com\", \"pass456\");\n    emailResponse = check imapClient-\u003ereceiveMessage();\n    if (emailResponse is email:Message) {\n        io:println(\"IMAP client received an email.\");\n        io:println(\"Email Subject: \", emailResponse.subject);\n        io:println(\"Email Body: \", emailResponse?.body);\n    } else {\n        io:println(\"There are no emails in the INBOX.\");\n    }\n    check imapClient-\u003eclose();\n}\n```\n\n### 5.2 services\n\n#### 5.2.1 POP3 Service\n```ballerina\nimport ballerina/email;\nimport ballerina/io;\n\nlistener email:PopListener emailListener = check new ({\n    host: \"pop.email.com\",\n    username: \"reader@email.com\",\n    password: \"pass456\",\n    pollingInterval: 2,\n    port: 995\n});\n\nservice \"emailObserver\" on emailListener {\n\n    remote function onMessage(email:Message emailMessage) {\n        io:println(\"POP Listener received an email.\");\n        io:println(\"Email Subject: \", emailMessage.subject);\n        io:println(\"Email Body: \", emailMessage?.body);\n    }\n\n    remote function onError(email:Error emailError) {\n        io:println(\"Error while polling for the emails: \" + emailError.message());\n    }\n\n    remote function onClose(email:Error? closeError) {\n        io:println(\"Closed the listener.\");\n    }\n\n}\n```\n\n#### 5.2.2 IMAP Service\n```ballerina\nimport ballerina/email;\nimport ballerina/io;\n\nlistener email:ImapListener emailListener = check new ({\n    host: \"imap.email.com\",\n    username: \"reader@email.com\",\n    password: \"pass456\",\n    pollingInterval: 2,\n    port: 993\n});\n\nservice \"emailObserver\" on emailListener {\n\n    remote function onMessage(email:Message emailMessage) {\n        io:println(\"IMAP Listener received an email.\");\n        io:println(\"Email Subject: \", emailMessage.subject);\n        io:println(\"Email Body: \", emailMessage?.body);\n    }\n\n    remote function onError(email:Error emailError) {\n        io:println(\"Error while polling for the emails: \" + emailError.message());\n    }\n\n    remote function onClose(email:Error? closeError) {\n        io:println(\"Closed the listener.\");\n    }\n\n}\n```\n","codeSnippets":"[[-1658420439,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eSmtpClient smtpClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"smtp.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"sender@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e , \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pass123\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-919324383,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage emailMessage \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   to\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver1@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver2@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e],\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   cc\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver3@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver4@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e],\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   bcc\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver5@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e],\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   subject\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"Sample Email Subject\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"This is a sample email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   'from\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"author@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   sender\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"sender@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   replyTo\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"replyTo1@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"replyTo2@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1984287472,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e smtpClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003esendMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemailMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1571966425,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e smtpClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003esend\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Sample Email Subject\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"author@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"This is a sample email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1451443311,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePopClient popClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pop.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[202364625,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage? emailResponse \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e popClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ereceiveMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[316285559,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e popClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eclose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-918661855,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eImapClient imapClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"imap.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1527216193,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage? emailResponse \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e imapClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ereceiveMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1039757225,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003echeck\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e imapClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eclose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[2122385929,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePopListenerConfiguration popListenerConfiguration \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    host\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"pop.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    username\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    password\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    pollingInterval\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    port\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 995\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003elistener\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePopListener emailListener \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003epopListenerConfiguration\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1189258763,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eImapListenerConfiguration imapListenerConfiguration \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    host\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"imap.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    username\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    password\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    pollingInterval\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    port\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 993\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003elistener\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eImapListener emailListener \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eimapListenerConfiguration\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-446044591,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eService emailObserver \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e service\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e object\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage emailMessage) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e      io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Body: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemailMessage?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.body);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError emailError) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e      io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Error while polling for the emails: \\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e            +\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e emailError.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onClose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ecloseError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[567697682,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e main\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eSmtpClient smtpClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"smtp.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"sender@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e , \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pass123\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage email \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        to\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver1@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"receiver2@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e],\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        subject\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"Sample Email\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        body\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"This is a sample email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        'from\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"author@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        replyTo\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"replyTo1@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"replyTo2@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    };\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e smtpClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003esendMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-2051303906,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e main\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePopClient popClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pop.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage? emailResponse \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e popClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ereceiveMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (emailResponse \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"POP client received an email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Subject: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, emailResponse.subject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Body: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemailResponse?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.body);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    } \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eelse\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"There are no emails in the INBOX.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e popClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eclose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-558905730,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e main\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eImapClient imapClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"imap.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    emailResponse \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e imapClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ereceiveMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    if\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (emailResponse \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eis\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"IMAP client received an email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Subject: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, emailResponse.subject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Body: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemailResponse?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.body);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    } \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eelse\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"There are no emails in the INBOX.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e imapClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eclose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-341317613,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/email;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/io;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003elistener\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePopListener emailListener \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    host\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"pop.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    username\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    password\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    pollingInterval\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    port\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 995\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e});\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"emailObserver\\\"\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e emailListener {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage emailMessage) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"POP Listener received an email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Subject: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, emailMessage.subject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Body: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemailMessage?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.body);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError emailError) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Error while polling for the emails: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e +\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e emailError.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onClose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ecloseError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Closed the listener.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1152986745,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/email;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/io;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003elistener\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e email\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eImapListener emailListener \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ({\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    host\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"imap.email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    username\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"reader@email.com\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    password\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"pass456\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    pollingInterval\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 2\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    port\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 993\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e});\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"emailObserver\\\"\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e emailListener {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eMessage emailMessage) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"IMAP Listener received an email.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Subject: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, emailMessage.subject);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Email Body: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemailMessage?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.body);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError emailError) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Error while polling for the emails: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e +\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e emailError.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onClose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eemail\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ecloseError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Closed the listener.\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/spec/[slug]","query":{"slug":"email"},"buildId":"mu_ZG9gcuWCKvLyJdgsrq","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>