<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="Specification: Ballerina WebSocket Library"/><meta name="keywords"/><title>Specification: Ballerina WebSocket Library - The Ballerina programming language</title><meta property="og:type" content="article"/><meta property="og:title" content="Specification: Ballerina WebSocket Library - The Ballerina programming language"/><meta property="og:description" content="Specification: Ballerina WebSocket Library"/><meta property="og:description" content="Specification: Ballerina WebSocket Library"/><meta name="twitter:title" content="Specification: Ballerina WebSocket Library - The Ballerina programming language"/><meta property="twitter:description" content="Specification: Ballerina WebSocket Library"/><meta property="twitter:text:description" content="Specification: Ballerina WebSocket Library"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="22"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta http-equiv="X-Frame-Options" content="SAMEORIGIN"/><meta http-equiv="Content-Security-Policy" content="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/9bb35c8110b0fa38.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9bb35c8110b0fa38.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-9ee6b616f8ba237c.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ba2391f08766dae9.js" defer=""></script><script src="/_next/static/chunks/7621-d6bcd83f463fef72.js" defer=""></script><script src="/_next/static/chunks/1058-de0b031bc614d462.js" defer=""></script><script src="/_next/static/chunks/6084-4e54ad5efcb8d3b5.js" defer=""></script><script src="/_next/static/chunks/5530-11a262420fdd225c.js" defer=""></script><script src="/_next/static/chunks/pages/spec/%5Bslug%5D-8f6d3ef3b598acd4.js" defer=""></script><script src="/_next/static/Pd9WPoK4goWjtX6NxyBX_/_buildManifest.js" defer=""></script><script src="/_next/static/Pd9WPoK4goWjtX6NxyBX_/_ssgManifest.js" defer=""></script><script src="/_next/static/Pd9WPoK4goWjtX6NxyBX_/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper spec vstack gap-0"><div class="wrap-page-content container"><div class="row"><div class="mdContent col-12"><div class="container"><div class="topRowSpec row"><div class="col-12"></div></div><div class="specContent row"><div class="stdLib"><h1>Specification: Ballerina WebSocket Library</h1>
<p><em>Owners</em>: @shafreenAnfar @bhashinee<br/>
<em>Reviewers</em>: @shafreenAnfar<br/>
<em>Created</em>: 2021/12/09<br/>
<em>Updated</em>: 2022/12/08<br/>
<em>Edition</em>: Swan Lake</p>
<h2 id="introduction" level="2">Introduction</h2>
<p>This is the specification for the WebSocket standard library of <a href="https://ballerina.io/">Ballerina language</a>, which provides WebSocket client-server functionalities.</p>
<p>The WebSocket library specification has evolved and may continue to evolve in the future. The released versions of the specification can be found under the relevant GitHub tag.</p>
<p>If you have any feedback or suggestions about the library, start a discussion via a <a href="https://github.com/ballerina-platform/ballerina-standard-library/issues">GitHub issue</a> or in the <a href="https://discord.gg/ballerinalang">Discord server</a>. Based on the outcome of the discussion, the specification and implementation can be updated. Community feedback is always welcome. Any accepted proposal, which affects the specification is stored under <code>/docs/proposals</code>. Proposals under discussion can be found with the label <code>type/proposal</code> in GitHub.</p>
<p>The conforming implementation of the specification is released and included in the distribution. Any deviation from the specification is considered a bug.</p>
<h2 id="contents" level="2">Contents</h2>
<ol>
<li><a href="#1-overview">Overview</a></li>
<li><a href="#2-listener">Listener</a>
<ul>
<li>2.1. <a href="#21-listener-configurations">Listener Configurations</a></li>
<li>2.2. <a href="#22-initialization">Initialization</a></li>
</ul>
</li>
<li><a href="#3-service-types">Service Types</a>
<ul>
<li>3.1. <a href="#31-upgradeservice">UpgradeService</a>
<ul>
<li>3.1.1. <a href="#311-upgradeservice-configurations">UpgradeService Configurations</a></li>
</ul>
</li>
<li>3.2. <a href="#32-websocket-service">WebSocket Service</a>
<ul>
<li>3.2.1. <a href="#321-remote-methods-associated-with-websocket-service">Remote methods associated with WebSocket Service</a>
<ul>
<li><a href="#onopen">onOpen</a></li>
<li><a href="#ontextmessage">onTextMessage</a></li>
<li><a href="#onbinarymessage">onBinaryMessage</a></li>
<li><a href="#onmessage">onMessage</a></li>
<li><a href="#onping-and-onpong">onPing and onPong</a></li>
<li><a href="#onidletimeout">onIdleTimeout</a></li>
<li><a href="#onclose">onClose</a></li>
<li><a href="#onerror">onError</a></li>
</ul>
</li>
<li>3.2.2. <a href="#322-dispatching-custom-remote-methods">Dispatching custom remote methods</a>
<ul>
<li><a href="#dispatching-custom-error-remote-methods">Dispatching custom error remote methods</a></li>
</ul>
</li>
<li>3.2.3. <a href="#323-return-types">Return types</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4-client">Client</a>
<ul>
<li>4.1. <a href="#41-client-configurations">Client Configurations</a></li>
<li>4.2. <a href="#42-initialization">Initialization</a></li>
<li>4.3. <a href="#43-send-and-receive-messages-using-the-client">Send and receive messages using the Client</a>
<ul>
<li><a href="#writetextmessage">writeTextMessage</a></li>
<li><a href="#writebinarymessage">writeBinaryMessage</a></li>
<li><a href="#readtextmessage">readTextMessage</a></li>
<li><a href="#readbinarymessage">readBinaryMessage</a></li>
<li><a href="#readmessage">readMessage</a></li>
<li><a href="#close">close</a></li>
<li><a href="#ping">ping</a></li>
<li><a href="#pong">pong</a></li>
<li><a href="#onping-and-onpong-remote-methods">onPing and onPong remote methods</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#5-securing-the-websocket-connections">Securing the WebSocket Connections</a>
<ul>
<li>5.1. <a href="#51-ssl-tls">SSL/TLS</a></li>
<li>5.2. <a href="#52-authentication-and-authorization">Authentication and Authorization</a></li>
</ul>
</li>
<li><a href="#6-samples">Samples</a></li>
</ol>
<h2 id="1-overview" level="2">1. <a href="#1-overview">Overview</a></h2>
<p>WebSocket is a protocol that allows a long held full-duplex connection between a server and client. This specification elaborates on how Ballerina language provides a tested WebSocket client and server implementation that is compliant with the <a href="https://www.rfc-editor.org/rfc/rfc6455.html">RFC 6455</a>.</p>
<h2 id="2-listener" level="2">2. <a href="#2-listener">Listener</a></h2>
<p>The WebSocket listener can be constructed with a port or an http:Listener. When initiating the listener it opens up the port and attaches the upgrade service at the given service path. It is also worth noting that upgrade service is quite similar to an HTTP service.</p>
<h3 id="21-listener-configurations" level="3">2.1. <a href="#21-listener-configurations">Listener Configurations</a></h3>
<p>When initializing the listener, following configurations can be provided,</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Provides a set of configurations for HTTP service endpoints.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">host</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The host name/IP of the endpoint</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">http1Settings</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Configurations related to HTTP/1.x protocol</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">secureSocket</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The SSL configurations for the service endpoint. This needs to be configured in order to</span></span>
<span class="line"><span style="color:#6A737D">#                  communicate through WSS.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">timeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Period of time in seconds that a connection waits for a read/write operation in the</span></span>
<span class="line"><span style="color:#6A737D">#                     initial upgrade request. Use value 0 to disable timeout</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">server</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The server name which should appear as a response header</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">webSocketCompressionEnabled</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Enable support for compression in WebSocket</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">requestLimits</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Configurations associated with inbound request size limits</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> ListenerConfiguration</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> host </span><span style="color:#D73A49">=</span><span style="color:#032F62"> "0.0.0.0"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    ListenerHttp1Settings http1Settings </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#24292E">    ListenerSecureSocket secureSocket</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> timeout </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 120</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E">? server </span><span style="color:#D73A49">=</span><span style="color:#24292E"> ();</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> webSocketCompressionEnabled </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> true</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    RequestLimitConfigs requestLimits </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p><code>ListenerHttp1Settings</code> record contains the settings related to HTTP/1.x protocol. This is an included record from the HTTP package, and this will only be applicable to the initial WebSocket upgrade request.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Provides settings related to HTTP/1.x protocol.</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> ListenerHttp1Settings</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ListenerHttp1Settings;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p>The actual <code>ListenerHttp1Settings</code> record in the HTTP package contains the following fields.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Provides settings related to HTTP/1.x protocol.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">keepAlive</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Can be set to either `KEEPALIVE_AUTO`, which respects the `connection` header, or `KEEPALIVE_ALWAYS`,</span></span>
<span class="line"><span style="color:#6A737D">#               which always keeps the connection alive, or `KEEPALIVE_NEVER`, which always closes the connection</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">maxPipelinedRequests</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Defines the maximum number of requests that can be processed at a given time on a single</span></span>
<span class="line"><span style="color:#6A737D">#                          connection. By default 10 requests can be pipelined on a single connection and user can</span></span>
<span class="line"><span style="color:#6A737D">#                          change this limit appropriately.</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> ListenerHttp1Settings</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">    KeepAlive keepAlive </span><span style="color:#D73A49">=</span><span style="color:#24292E"> KEEPALIVE_AUTO;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> maxPipelinedRequests </span><span style="color:#D73A49">=</span><span style="color:#24292E"> MAX_PIPELINED_REQUESTS;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p><code>ListenerSecureSocket</code> record contains configurations related to enabling SSL/TLS on the listener side, and it is an included record from the HTTP package. More details and examples of how to configure them can be found in a following section on <code>Securing the WebSocket Connections</code>.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Configures the SSL/TLS options to be used for WebSocket service.</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> ListenerSecureSocket</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">ListenerSecureSocket;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p>The actual <code>ListenerSecureSocket</code> record in the HTTP package contains the following fields.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Configures the SSL/TLS options to be used for HTTP service.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">key</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Configurations associated with `crypto:KeyStore` or combination of certificate and (PKCS8) private key of the server</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">mutualSsl</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Configures associated with mutual SSL operations</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">protocol</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">SSL/TLS protocol related options</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">certValidation</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Certificate validation against OCSP_CRL, OCSP_STAPLING related options</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">ciphers</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">List of ciphers to be used</span></span>
<span class="line"><span style="color:#6A737D">#             eg: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">shareSession</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Enable/Disable new SSL session creation</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">handshakeTimeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">SSL handshake time out</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">sessionTimeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">SSL session time out</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> ListenerSecureSocket</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">    crypto</span><span style="color:#D73A49">:</span><span style="color:#24292E">KeyStore</span><span style="color:#D73A49">|</span><span style="color:#24292E">CertKey key;</span></span>
<span class="line"><span style="color:#D73A49">    record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">        VerifyClient verifyClient </span><span style="color:#D73A49">=</span><span style="color:#24292E"> REQUIRE;</span></span>
<span class="line"><span style="color:#24292E">        crypto</span><span style="color:#D73A49">:</span><span style="color:#24292E">TrustStore</span><span style="color:#D73A49">|</span><span style="color:#24292E">string cert;</span></span>
<span class="line"><span style="color:#D73A49">    |</span><span style="color:#24292E">} mutualSsl</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">    record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">        Protocol name;</span></span>
<span class="line"><span style="color:#005CC5">        string</span><span style="color:#24292E">[] versions </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [];</span></span>
<span class="line"><span style="color:#D73A49">    |</span><span style="color:#24292E">} protocol</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">    record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">        CertValidationType 'type </span><span style="color:#D73A49">=</span><span style="color:#24292E"> OCSP_STAPLING;</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> cacheSize;</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> cacheValidityPeriod;</span></span>
<span class="line"><span style="color:#D73A49">    |</span><span style="color:#24292E">} certValidation</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E">[] ciphers </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [</span><span style="color:#032F62">"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256"</span><span style="color:#24292E">, </span><span style="color:#032F62">"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">                        "TLS_DHE_RSA_WITH_AES_128_CBC_SHA256"</span><span style="color:#24292E">, </span><span style="color:#032F62">"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">                        "TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA"</span><span style="color:#24292E">, </span><span style="color:#032F62">"TLS_DHE_RSA_WITH_AES_128_CBC_SHA"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">                        "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256"</span><span style="color:#24292E">, </span><span style="color:#032F62">"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#032F62">                        "TLS_DHE_RSA_WITH_AES_128_GCM_SHA256"</span><span style="color:#24292E">];</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> shareSession </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> true</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> handshakeTimeout?;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> sessionTimeout?;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p><code>RequestLimitConfigs</code> record represents configurations related to maximum sizes of URI, headers and entity body which is also an included record from the hTTP package as this will only be applicable to the initial WebSocket upgrade request.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Provides inbound request URI, total header and entity body size threshold configurations.</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> RequestLimitConfigs</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">RequestLimitConfigs;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<p>The actual <code>RequestLimitConfigs</code> record in the HTTP package contains the following fields.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Provides inbound request URI, total header and entity body size threshold configurations.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">maxUriLength</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Maximum allowed length for a URI. Exceeding this limit will result in a `414 - URI Too Long`</span></span>
<span class="line"><span style="color:#6A737D">#                  response</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">maxHeaderSize</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Maximum allowed size for headers. Exceeding this limit will result in a</span></span>
<span class="line"><span style="color:#6A737D">#                   `431 - Request Header Fields Too Large` response</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">maxEntityBodySize</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Maximum allowed size for the entity body. By default it is set to -1 which means there</span></span>
<span class="line"><span style="color:#6A737D">#                       is no restriction `maxEntityBodySize`, On the Exceeding this limit will result in a</span></span>
<span class="line"><span style="color:#6A737D">#                       `413 - Payload Too Large` response</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> RequestLimitConfigs</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> maxUriLength </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 4096</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> maxHeaderSize </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 8192</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> maxEntityBodySize </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> -</span><span style="color:#005CC5">1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<h3 id="22-initialization" level="3">2.2. <a href="#22-initialization">Initialization</a></h3>
<p>The WebSocket listener can be initialized by providing the <code>port</code> or a <code>http:Listener</code> and optionally a <code>ListenerConfiguration</code>.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Gets invoked during the module initialization to initialize the listener.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">port</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Listening port of the WebSocket service listener</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">config</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Configurations for the WebSocket service listener</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> init</span><span style="color:#24292E">(</span><span style="color:#005CC5">int</span><span style="color:#D73A49">|</span><span style="color:#E36209">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Listener 'listener, *</span><span style="color:#E36209">ListenerConfiguration</span><span style="color:#E36209"> config</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {</span></span></code></pre></div></pre>
<h2 id="3-service-types" level="2">3. <a href="#3-service-types">Service Types</a></h2>
<h3 id="31-upgradeservice" level="3">3.1. <a href="#31-upgrade-service">UpgradeService</a></h3>
<p>Upgrade service is pretty much similar to an HTTP service. It has a single <code>get</code> resource, which takes in an <code>http:Request</code> optionally. The <code>get</code> resource returns a <code>websocket:Service</code> to which incoming messages get dispatched after a successful WebSocket connection upgrade. This resource can be used to intercept the initial HTTP upgrade with custom headers or to cancel the WebSocket upgrade by returning an error.</p>
<h4 id="311-upgradeservice-configurations" level="4">3.1.1. <a href="#311-upgradeservice-configurations">UpgradeService Configurations</a></h4>
<p>When writing the service, following configurations can be provided,</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Configurations for a WebSocket service.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">subProtocols</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Negotiable sub protocol by the service</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">idleTimeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Idle timeout for the client connection. Upon timeout, `onIdleTimeout` resource (if defined)</span></span>
<span class="line"><span style="color:#6A737D">#                          in the server service will be triggered. Note that this overrides the `timeout` config</span></span>
<span class="line"><span style="color:#6A737D">#                          in the `websocket:Listener` which is applicable only for the initial HTTP upgrade request.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">maxFrameSize</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The maximum payload size of a WebSocket frame in bytes.</span></span>
<span class="line"><span style="color:#6A737D">#                  If this is not set or is negative or zero, the default frame size which is 65536 will be used.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">auth</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Listener authenticaton configurations</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">dispatcherKey</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The key which is going to be used for dispatching to custom remote functions.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">dispatcherStreamId</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The identifier used to distinguish between requests and their corresponding responses in a multiplexing scenario.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">connectionClosureTimeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Time to wait (in seconds) for the close frame to be received from the remote endpoint </span></span>
<span class="line"><span style="color:#6A737D"># before closing the connection. If the timeout exceeds, then the connection is terminated even though a close frame is</span></span>
<span class="line"><span style="color:#6A737D"># not received from the remote endpoint. If the value is -1, then the connection waits until a close frame is</span></span>
<span class="line"><span style="color:#6A737D"># received, and any other negative value results in an error. If the WebSocket frame is received from the remote endpoint within the waiting period, the connection is</span></span>
<span class="line"><span style="color:#6A737D"># terminated immediately.</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> WSServiceConfig</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E">[] subProtocols </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [];</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> idleTimeout </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> maxFrameSize </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 65536</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    ListenerAuthConfig[] auth</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> validation </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> true</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> dispatcherKey?;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> dispatcherStreamId?;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> connectionClosureTimeout </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 60</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<blockquote>
<p><strong>Note:</strong> The <code>connectionClosureTimeout</code> is validated at compile-time for literal values and at runtime for non-literal values such as variables.</p>
</blockquote>
<h3 id="32-websocket-service" level="3">3.2. <a href="#32-websocket-service">WebSocket Service</a></h3>
<p>Once the WebSocket upgrade is accepted by the UpgradeService, it returns a <code>websocket:Service</code>. This service has a fixed set of remote methods that do not have any configs. Receiving messages will get dispatched to the relevant remote method. Each remote method is explained below.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /ws</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> websocket:Listener(</span><span style="color:#005CC5">21003</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    resource</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> get</span><span style="color:#24292E"> .(</span><span style="color:#E36209">http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Request req) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service</span><span style="color:#D73A49">|</span><span style="color:#24292E">websocket:UpgradeError {</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> WsService</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">    }    </span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#24292E">        </span></span>
<span class="line"><span style="color:#D73A49">service class</span><span style="color:#6F42C1"> WsService</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service;</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onTextMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">string</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#D73A49">        check</span><span style="color:#24292E"> caller</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">writeTextMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h4 id="321-remote-methods-associated-with-websocket-service" level="4">3.2.1. <a href="#remote-methods-associated-with-websocket-service">Remote methods associated with WebSocket Service</a></h4>
<h5 id="onopen" level="5"><a href="#onopen">onOpen</a></h5>
<p>As soon as the WebSocket handshake is completed and the connection is established, the <code>onOpen</code> remote method is dispatched.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onOpen</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Opened a WebSocket connection"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="ontextmessage" level="5"><a href="#ontextmessage">onTextMessage</a></h5>
<p>The received text messages are dispatched to this remote method.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onTextMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">string</span><span style="color:#E36209"> text</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#24292E">     io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Text message: "</span><span style="color:#D73A49"> +</span><span style="color:#E36209"> text</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="onbinarymessage" level="5"><a href="#onbinarymessage">onBinaryMessage</a></h5>
<p>The received binary messages are dispatched to this remote method.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onBinaryMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="onmessage" level="5"><a href="#onmessage">onMessage</a></h5>
<p>The received messages are dispatched to this remote method. Data binding support is provided to accept the messages as <code>anydata</code>.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">json</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<p>Data deserialization for text messages happens similar to the following,</p>
<ul>
<li>If the contextually-expected data type is string, received data will be directly presented to the API without doing any deserialization.</li>
<li>If the contextually-expected data type is xml, received text data will be deserialized to xml.</li>
<li>All the other data types are treated as json and received text data will be deserialized to json.</li>
</ul>
<p>Data deserialization for binary messages happens similar to the following,</p>
<ul>
<li>If the contextually-expected data type is byte[], received data will be directly presented to the API without doing any deserialization.</li>
<li>If the contextually-expected data type is xml, received binary data will be first converted to the string representation of the byte[] and then deserialized to xml.</li>
<li>All the other data types are treated as json and received binary data will be first converted to the string representation of the byte[] and then will be deserialized to json.</li>
</ul>
<p>If the data binding fails, the connection will get terminated by sending a close frame with the 1003 error code(1003 indicates that an endpoint is terminating the connection because it has received a type of data it cannot accept ) and will print an error log at the listener side.</p>
<h5 id="onping-and-onpong" level="5"><a href="#onping-and-onpong">onPing and onPong</a></h5>
<p>The received ping and pong messages are dispatched to these remote methods respectively. You do not need to explicitly control these messages as they are handled automatically by the services and clients.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onPing</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `Ping received with data: ${</span><span style="color:#24292E">data</span><span style="color:#032F62">.</span><span style="color:#6F42C1">toBase64</span><span style="color:#032F62">()</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">    check</span><span style="color:#24292E"> caller</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">pong</span><span style="color:#24292E">(</span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#24292E"> </span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onPong</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `Pong received with data: ${</span><span style="color:#24292E">data</span><span style="color:#032F62">.</span><span style="color:#6F42C1">toBase64</span><span style="color:#032F62">()</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="onidletimeout" level="5"><a href="#onidletimeout">onIdleTimeout</a></h5>
<p>This remote method is dispatched when the idle timeout is reached. The idleTimeout has to be configured either in the WebSocket service or the client configuration.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onIdleTimeout</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller) {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Connection timed out"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="onclose" level="5"><a href="#onclose">onClose</a></h5>
<p>This remote method is dispatched when a close frame with a statusCode and a reason is received.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onClose</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">int</span><span style="color:#E36209"> statusCode</span><span style="color:#24292E">, </span><span style="color:#005CC5">string</span><span style="color:#E36209"> reason</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `Client closed connection with ${</span><span style="color:#24292E">statusCode</span><span style="color:#032F62">} because of ${</span><span style="color:#24292E">reason</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="onerror" level="5"><a href="#onerror">onError</a></h5>
<p>This remote method is dispatched when an error occurs in the WebSocket connection. This will always be preceded by a connection closure with an appropriate close frame.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onError</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#D73A49">error</span><span style="color:#E36209"> err</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">    io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(err.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h4 id="322-dispatching-custom-remote-methods" level="4">3.2.2. <a href="#322-dispatching-custom-remote-methods">Dispatching custom remote methods</a></h4>
<p>The WebSocket service also supports dispatching messages to custom remote functions based on the message type(declared by a field in the received message) with the end goal of generating meaningful Async APIs.</p>
<p>For example, if the message is <code>{&quot;event&quot;: &quot;heartbeat&quot;}</code> it will get dispatched to <code>onHeartbeat</code> remote function if the user has defined such a method.</p>
<p><strong>Dispatching rules</strong></p>
<ol>
<li>
<p>The user can configure the field name(key) to identify the messages and the allowed values as message types.</p>
<p>The <code>dispatcherKey</code> is used to identify the event type of the incoming message by its value. The <code>dispatcherStreamId</code> is used to distinguish between requests and their corresponding responses in a multiplexing scenario.</p>
<pre><div>Ex:
incoming message = ` {"event": "heartbeat", "id": "1"}`
dispatcherKey = "event"
dispatcherStreamId = "id"
event/message type = "heartbeat"
dispatching to remote function = "onHeartbeat"

```ballerina
@websocket:ServiceConfig {
    dispatcherKey: "event",
    dispatcherStreamId: "id"
}
service / on new websocket:Listener(9090) {}</div></pre>
</li>
<li>
<p>Naming of the remote function.</p>
<ul>
<li>If there are spaces and underscores between message types, those will be removed and made camel case(&quot;un subscribe&quot; -&gt; &quot;onUnSubscribe&quot;).</li>
<li>The &#x27;on&#x27; word is added as the predecessor and the remote function name is in the camel case(&quot;heartbeat&quot; -&gt; &quot;onHeartbeat&quot;).</li>
</ul>
</li>
<li>
<p>Custom Dispatching with <code>@websocket:DispatcherConfig</code> annotation</p>
<p>The <code>@websocket:DispatcherConfig</code> annotation allows users to explicitly define the dispatching behavior for remote functions. If an incoming message type matches the dispatcherValue in the annotation, the respective remote function will be invoked.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">@</span><span style="color:#005CC5">websocket</span><span style="color:#24292E">:</span><span style="color:#005CC5">DispatcherConfig</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    dispatcherValue</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "subscribe"</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onSubscribeMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">Subscribe</span><span style="color:#E36209"> message</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#032F62"> "onSubscribeMessage"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<p>In this case, when a message of type &quot;subscribe&quot; is received, the <code>onSubscribeMessage</code> remote function is invoked.</p>
</li>
<li>
<p>If an unmatching message type receives where a matching remote function is not implemented in the WebSocket service by the user, it gets dispatched to the default <code>onMessage</code> remote function if it is implemented. Or else it will get ignored.</p>
</li>
</ol>
<h5 id="dispatching-custom-error-remote-methods" level="5"><a href="#dispatching-custom-error-remote-methods">Dispatching custom error remote methods</a></h5>
<p>If the user has defined a remote function with the name <code>customRemoteFunction</code> + <code>Error</code> in the WebSocket service, the error messages will get dispatched to that remote function when there is a data binding error. If that is not defined, the generic <code>onError</code> remote function gets dispatched.</p>
<ul>
<li>Example 1</li>
</ul>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onHeartbeat</span><span style="color:#24292E">(</span><span style="color:#E36209">Heartbeat</span><span style="color:#E36209"> message</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onHeartbeatError</span><span style="color:#24292E">(</span><span style="color:#D73A49">error</span><span style="color:#E36209"> message</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">incoming message </span><span style="color:#D73A49">=</span><span style="color:#032F62"> ` {"event": "heartbeat"}`</span></span>
<span class="line"><span style="color:#24292E">dispatching </span><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> = </span><span style="color:#032F62">"onHeartbeat"</span></span>
<span class="line"><span style="color:#24292E">dispatching </span><span style="color:#D73A49">error</span><span style="color:#6F42C1"> remote</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> = </span><span style="color:#032F62">"onHeartbeatError"</span></span></code></pre></div></pre>
<ul>
<li>Example 2</li>
</ul>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">@</span><span style="color:#005CC5">websocket</span><span style="color:#24292E">:</span><span style="color:#005CC5">DispatcherConfig</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    dispatcherValue</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "subscribe"</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onSubscribeMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">Subscribe</span><span style="color:#E36209"> message</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onSubscribeMessageError</span><span style="color:#24292E">(</span><span style="color:#D73A49">error</span><span style="color:#E36209"> message</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">incoming message </span><span style="color:#D73A49">=</span><span style="color:#032F62"> ` {"event": "subscribe"}`</span></span>
<span class="line"><span style="color:#24292E">dispatching </span><span style="color:#D73A49">remote</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> = </span><span style="color:#032F62">"onSubscribeMessage"</span></span>
<span class="line"><span style="color:#24292E">dispatching </span><span style="color:#D73A49">error</span><span style="color:#6F42C1"> remote</span><span style="color:#D73A49"> function</span><span style="color:#24292E"> = </span><span style="color:#032F62">"onSubscribeMessageError"</span></span></code></pre></div></pre>
<h4 id="323-return-types" level="4">3.2.3. Return types</h4>
<p>The remote methods support <code>record</code>, <code>string</code>, <code>int</code>, <code>boolean</code>, <code>decimal</code>, <code>float</code>, <code>map</code>, <code>json</code>, <code>xml</code>, and <code>websocket:CloseFrame</code> as return types.
When a value is returned, a WebSocket response is sent to the caller who initiated the call. Therefore, user does not necessarily depend on the <code>websocket:Caller</code> and its remote methods to proceed with the response.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> User</span><span style="color:#D73A49">|</span><span style="color:#005CC5">string</span><span style="color:#D73A49">|</span><span style="color:#005CC5">int</span><span style="color:#D73A49">|</span><span style="color:#005CC5">boolean</span><span style="color:#D73A49">|</span><span style="color:#005CC5">decimal</span><span style="color:#D73A49">|</span><span style="color:#005CC5">float</span><span style="color:#D73A49">|</span><span style="color:#005CC5">json</span><span style="color:#D73A49">|</span><span style="color:#005CC5">xml</span><span style="color:#D73A49">|</span><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">CloseFrame {</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h5 id="3231-close-frame-records" level="5">3.2.3.1. Close Frame Records</h5>
<p>The <code>websocket:CloseFrame</code> record represents a WebSocket close frame. When a <code>CloseFrame</code> is returned from a WebSocket service, a <code>CloseFrame</code> is sent to the client and the connection will be terminated.</p>
<p>Following is the <code>websocket:NormalClosure</code> definition. Likewise, some predefined close frame records are provided.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> NormalClosure</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">CloseFrameBase;</span></span>
<span class="line"><span style="color:#D73A49">    readonly</span><span style="color:#24292E"> PredefinedCloseFrameType 'type </span><span style="color:#D73A49">=</span><span style="color:#24292E"> PREDEFINED_CLOSE_FRAME;</span></span>
<span class="line"><span style="color:#D73A49">    readonly</span><span style="color:#005CC5"> 1000</span><span style="color:#24292E"> status </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1000</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">CloseFrame {</span></span>
<span class="line"><span style="color:#24292E">    websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">NormalClosure normalClosure </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {reason</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Normal Closure"</span><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> normalClosure;</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<p>Custom Close Frame records enable users to define close frames with any status code and reason within the range of 1000–4999.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> InvalidUserCloseFrame</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">CustomCloseFrame;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> InvalidUserCloseFrame {</span></span>
<span class="line"><span style="color:#D73A49">    return</span><span style="color:#24292E"> {status</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> 4444</span><span style="color:#24292E">, reason</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "Invalid User"</span><span style="color:#24292E">};</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<h2 id="4-client" level="2">4. <a href="#4-client">Client</a></h2>
<p><code>websocket:Client</code> can be used to send and receive data synchronously over WebSocket connection. The underlying implementation is non-blocking.</p>
<h3 id="41-client-configurations" level="3">4.1. <a href="#41-client-configurations">Client Configurations</a></h3>
<p>When initializing the client, following configurations can be provided,</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Client configurations for WebSocket clients.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">subProtocols</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Negotiable sub protocols of the client</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">customHeaders</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Custom headers, which should be sent to the server</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">readTimeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Read timeout (in seconds) of the client</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">secureSocket</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">SSL/TLS-related options</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">maxFrameSize</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The maximum payload size of a WebSocket frame in bytes.</span></span>
<span class="line"><span style="color:#6A737D">#                  If this is not set, is negative, or is zero, the default frame size of 65536 will be used</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">webSocketCompressionEnabled</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Enable support for compression in the WebSocket</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">handShakeTimeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Time (in seconds) that a connection waits to get the response of</span></span>
<span class="line"><span style="color:#6A737D">#                               the WebSocket handshake. If the timeout exceeds, then the connection is terminated with</span></span>
<span class="line"><span style="color:#6A737D">#                               an error. If the value &#x3C; 0, then the value sets to the default value(300)</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">cookies</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">An Array of `http:Cookie`</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">auth</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Configurations related to client authentication</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">pingPongHandler</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">A service to handle the ping/pong frames.</span></span>
<span class="line"><span style="color:#6A737D">#                     Resources in this service gets called on the receipt of ping/pong frames from the server</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> ClientConfiguration</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E">[] subProtocols </span><span style="color:#D73A49">=</span><span style="color:#24292E"> [];</span></span>
<span class="line"><span style="color:#D73A49">    map&#x3C;</span><span style="color:#005CC5">string</span><span style="color:#D73A49">></span><span style="color:#24292E"> customHeaders </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> readTimeout </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> -</span><span style="color:#005CC5">1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    ClientSecureSocket</span><span style="color:#D73A49">?</span><span style="color:#24292E"> secureSocket </span><span style="color:#D73A49">=</span><span style="color:#24292E"> ();</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> maxFrameSize </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 65536</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> webSocketCompressionEnabled </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> true</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> handShakeTimeout </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 300</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    http</span><span style="color:#D73A49">:</span><span style="color:#24292E">Cookie[] cookies?;</span></span>
<span class="line"><span style="color:#24292E">    ClientAuthConfig auth</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    PingPongService pingPongHandler</span><span style="color:#D73A49">?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span></code></pre></div></pre>
<h3 id="42-initialization" level="3">4.2. <a href="#42-initialization">Initialization</a></h3>
<p>A client can be initialized by providing the WebSocket server url and optionally the <code>ClientConfiguration</code>.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Initializes the synchronous client when called.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">url</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">URL of the target service</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">config</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The configurations to be used when initializing the client</span></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> init</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> url</span><span style="color:#24292E">, *</span><span style="color:#E36209">ClientConfiguration</span><span style="color:#E36209"> config</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {</span></span></code></pre></div></pre>
<h3 id="43-send-and-receive-messages-using-the-client" level="3">4.3. <a href="#43-send-and-receive-messages-using-the-client">Send and receive messages using the Client</a></h3>
<h4 id="writetextmessage" level="4"><a href="#writetextmessage">writeTextMessage</a></h4>
<p><code>writeTextMessage</code> API can be used to send a text message. It takes in the message to be sent as a <code>string</code> and returns an error if an error occurs while sending the text message to the connection.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Writes text messages to the connection. If an error occurs while sending the text message to the connection, that message</span></span>
<span class="line"><span style="color:#6A737D"># will be lost.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">data</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Data to be sent.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">A `websocket:Error` if an error occurs when sending</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> writeTextMessage</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {}</span></span></code></pre></div></pre>
<h4 id="writebinarymessage" level="4"><a href="#writebinarymessage">writeBinaryMessage</a></h4>
<p><code>writeBinaryMessage</code> API can be used to send a binary message. It takes in the message to be sent as a <code>byte[]</code> and returns an error if an error occurs while sending the binary message to the connection.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Writes binary data to the connection. If an error occurs while sending the binary message to the connection,</span></span>
<span class="line"><span style="color:#6A737D"># that message will be lost.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">data</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Binary data to be sent</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">A `websocket:Error` if an error occurs when sending</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> writeBinaryMessage</span><span style="color:#24292E">(</span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {}</span></span></code></pre></div></pre>
<h4 id="writemessage" level="4"><a href="#writemessage">writeMessage</a></h4>
<p><code>writeMessage</code> API can be used to send messages. It takes in the message to be sent as subtypes of <code>anydata</code> and returns an error if an error occurs while sending the message to the connection.
The input data is internally converted to relevant frame type as follows,</p>
<ul>
<li>subtypes of string, xml, json - write out using text frames</li>
<li>byte[] - write out using binary frames</li>
</ul>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Writes messages to the connection. If an error occurs while sending the message to the connection, that message</span></span>
<span class="line"><span style="color:#6A737D"># will be lost.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">data</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Data to be sent</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">A `websocket:Error` if an error occurs when sending</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> writeMessage</span><span style="color:#24292E">(</span><span style="color:#005CC5">anydata</span><span style="color:#E36209"> data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {</span></span></code></pre></div></pre>
<h4 id="readtextmessage" level="4"><a href="#readtextmessage">readTextMessage</a></h4>
<p><code>readTextMessage</code> API can be used to receive a text message. It returns the complete text message as a <code>string</code> or else an error if an error occurs while reading the messages.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Reads text messages in a synchronous manner</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">The text data sent by the server or a `websocket:Error` if an error occurs when receiving</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> readTextMessage</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#005CC5"> string</span><span style="color:#D73A49">|</span><span style="color:#24292E">Error {}</span></span></code></pre></div></pre>
<h4 id="readbinarymessage" level="4"><a href="#readbinarymessage">readBinaryMessage</a></h4>
<p><code>readBinaryMessage</code> API can be used to receive a binary message. It returns the complete binary message as a <code>byte[]</code> or else an error if an error occurs while reading the messages.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Reads binary data in a synchronous manner</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">The binary data sent by the server or an `websocket:Error` if an error occurs when receiving</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> readBinaryMessage</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#005CC5"> byte</span><span style="color:#24292E">[]</span><span style="color:#D73A49">|</span><span style="color:#24292E">Error {}</span></span></code></pre></div></pre>
<h4 id="readmessage" level="4"><a href="#readmessage">readMessage</a></h4>
<p><code>readMessage</code> API can be used to receive a message without prior knowledge of message type. <code>anydata</code> type is supported by this API.
The contextually-expected data type is inferred from the LHS variable type. If there is an error when converting the expected data type or else any other error occurs while reading the messages, the respective error will be returned from the API</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Reads data from the WebSocket connection</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">targetType</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The payload type (sybtype of `anydata`), which is expected to be returned after data binding</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">The data sent by the server or a `websocket:Error` if an error occurs when receiving</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> readMessage</span><span style="color:#24292E">(</span><span style="color:#D73A49">typedesc&#x3C;</span><span style="color:#005CC5">anydata</span><span style="color:#D73A49">></span><span style="color:#E36209"> targetType</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> &#x3C;></span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> targetType</span><span style="color:#D73A49">|</span><span style="color:#24292E">Error</span></span></code></pre></div></pre>
<p>When the receiving data are of the text frame type, data will be deserialized to the expected data type. If the incoming data is of binary frames, and if the LHS type is some other data type apart from byte[], incoming data will first be converted to the string representation of the binary data and then be converted to the expected data type.</p>
<p>Data deserialization for text messages happens similar to the following,</p>
<ul>
<li>If the contextually-expected data type is string, received data will be directly presented to the API without doing any deserialization.</li>
<li>If the contextually-expected data type is xml, received text data will be deserialized to xml.</li>
<li>All the other data types are treated as json and received text data will be deserialized to json.</li>
</ul>
<p>Data deserialization for binary messages happens similar to the following,</p>
<ul>
<li>If the contextually-expected data type is byte[], received data will be directly presented to the API without doing any deserialization.</li>
<li>If the contextually-expected data type is xml, received binary data will be first converted to the string representation of the byte[] and then deserialized to xml.</li>
<li>All the other data types are treated as json and received binary data will be first converted to the string representation of the byte[] and then will be deserialized to json.</li>
</ul>
<h4 id="close" level="4"><a href="#close">close</a></h4>
<p><code>close</code> API can be used to close the connection. It takes in the optional parameters <code>statusCode</code> for closing the connection, <code>reason</code> for closing the connection if there is any and the <code>timeout</code> to wait until a close frame is received from the remote endpoint.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Closes the connection.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">statusCode</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Status code for closing the connection</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">reason</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Reason for closing the connection</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">timeout</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Time to wait (in seconds) for the close frame to be received from the remote endpoint before closing the</span></span>
<span class="line"><span style="color:#6A737D">#                   connection. If the timeout exceeds, then the connection is terminated even though a close frame</span></span>
<span class="line"><span style="color:#6A737D">#                   is not received from the remote endpoint. If the value is &#x3C; 0 (e.g., -1), then the connection</span></span>
<span class="line"><span style="color:#6A737D">#                   waits until a close frame is received. If the WebSocket frame is received from the remote</span></span>
<span class="line"><span style="color:#6A737D">#                   endpoint within the waiting period, the connection is terminated immediately.</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">A `websocket:Error` if an error occurs while closing the WebSocket connection</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> close</span><span style="color:#24292E">(</span><span style="color:#005CC5">int</span><span style="color:#24292E">? </span><span style="color:#E36209">statusCode</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> 1000</span><span style="color:#24292E">, </span><span style="color:#005CC5">string</span><span style="color:#E36209">?</span><span style="color:#E36209"> reason</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> (), </span><span style="color:#005CC5">decimal</span><span style="color:#24292E"> timeout </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 60</span><span style="color:#24292E">) returns Error? {}</span></span></code></pre></div></pre>
<h4 id="ping" level="4"><a href="#ping">ping</a></h4>
<p><code>ping</code> API can be used to send ping messages. It takes in the message to be sent as a <code>byte[]</code> and returns an error if an error occurs while sending the ping message to the connection.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Pings the connection. If an error occurs while sending the ping frame to the server, that frame will be lost.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">data</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Binary data to be sent</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">A `websocket:Error` if an error occurs when sending</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> ping</span><span style="color:#24292E">(</span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {}</span></span></code></pre></div></pre>
<h4 id="pong" level="4"><a href="#pong">pong</a></h4>
<p><code>pong</code> API can be used to send pong messages. It takes in the message to be sent as a <code>byte[]</code> and returns an error if an error occurs while sending the pong message to the connection.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#6A737D"># Sends a pong message to the connection. If an error occurs while sending the pong frame to the connection, that</span></span>
<span class="line"><span style="color:#6A737D"># the frame will be lost.</span></span>
<span class="line"><span style="color:#6A737D">#</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">data</span><span style="color:#D73A49"> - </span><span style="color:#6A737D">Binary data to be sent</span></span>
<span class="line"><span style="color:#6A737D"># </span><span style="color:#D73A49">+ </span><span style="color:#24292E">return</span><span style="color:#D73A49">  - </span><span style="color:#6A737D">A `websocket:Error` if an error occurs when sending</span></span>
<span class="line"><span style="color:#D73A49">remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> pong</span><span style="color:#24292E">(</span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> Error</span><span style="color:#D73A49">?</span><span style="color:#24292E"> {}</span></span></code></pre></div></pre>
<h4 id="onping-and-onpong-remote-methods" level="4"><a href="#onping-and-onpong-remote-methods">onPing and onPong remote methods</a></h4>
<p>To receive ping/pong messages, users have to register a <code>websocket:PingPongService</code> when creating the client. If the service is registered, receiving ping/pong messages will get dispatched to the <code>onPing</code> and <code>onPong</code> remote methods respectively.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">service class</span><span style="color:#6F42C1"> PingPongService</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">   *</span><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">PingPongService;</span></span>
<span class="line"><span style="color:#D73A49">   remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onPong</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller wsEp, </span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">       io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Pong received"</span><span style="color:#24292E">, </span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">   }</span></span>
<span class="line"><span style="color:#24292E">   </span></span>
<span class="line"><span style="color:#D73A49">   remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onPing</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">localData</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#005CC5"> byte</span><span style="color:#24292E">[] {</span></span>
<span class="line"><span style="color:#D73A49">       return</span><span style="color:#24292E"> localData;</span></span>
<span class="line"><span style="color:#24292E">   }    </span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client wsClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#032F62">"ws://localhost:21020"</span><span style="color:#24292E">, {pingPongHandler </span><span style="color:#D73A49">:</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> PingPongService</span><span style="color:#24292E">()});</span></span></code></pre></div></pre>
<p>If the user has implemented <code>onPing</code> on their service, it&#x27;s user&#x27;s responsibility to send the <code>pong</code> frame. It can be done simply by returning the data from the remote method, or else can be done using the <code>pong</code> API of websocket:Caller. If the user hasn&#x27;t implemented the <code>onPing</code> remote method, <code>pong</code> will be sent automatically.</p>
<h2 id="5-securing-the-websocket-connections" level="2">5. <a href="#5-securing-the-websocket-connections">Securing the WebSocket Connections</a></h2>
<p>Ballerina provides inbuilt support for SSL/TLS and configurations to enforce authentication and authorization such as Basic Auth, JWT auth, and OAuth2.</p>
<h3 id="51-ssltls" level="3">5.1. <a href="#51-ssl-tls">SSL/TLS</a></h3>
<p>You can configure a secure socket for your WebSocket listener and client to upgrade to a TCP connection with TLS.</p>
<p>The TLS-enabled Listener</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Listener wsListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#24292E">(</span><span style="color:#005CC5">9090</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">    secureSocket</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">        key:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">             certFile</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "/path/to/public.crt"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">             keyFile</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "/path/to/private.key"</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">);</span></span></code></pre></div></pre>
<p>The TLS-enabled Client</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client wsClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `wss://localhost:9090/taxi/${</span><span style="color:#24292E">username</span><span style="color:#032F62">}`</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">    secureSocket</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        cert</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "/path/to/public.crt"</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h3 id="52-authentication-and-authorization" level="3">5.2. <a href="#52-authentication-and-authorization">Authentication and Authorization</a></h3>
<h4 id="listener" level="4">Listener</h4>
<p>The Ballerina WebSocket library provides built-in support for the following listener authentication mechanisms that are validated in the initial upgrade request.</p>
<ol>
<li>Basic authentication</li>
<li>JWT authentication</li>
<li>OAuth2 authentication</li>
</ol>
<p>To enable one of the above, you should configure the <code>auth</code> field in <code>websocket:ServiceConfig</code> annotation which consists of the following records:</p>
<ol>
<li>FileUserStoreConfigWithScopes</li>
<li>LdapUserStoreConfigWithScopes</li>
<li>JwtValidatorConfigWithScopes</li>
<li>OAuth2IntrospectionConfigWithScopes</li>
</ol>
<p>Each of the above records consists of configurations specific to each type as <code>FileUserStoreConfig</code> , <code>LdapUserStoreConfig</code> ,<code>JwtValidatorConfig</code> and <code>OAuth2IntrospectionConfig</code> respectively. You just have to configure them and there will be no need for any extensions or handlers. Ballerina will perform the required validation for you.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">istener websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Listener wsListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#24292E">(</span><span style="color:#005CC5">9090</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">   secureSocket</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">       key:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">           certFile</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "../resource/path/to/public.crt"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">           keyFile</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "../resource/path/to/private.key"</span></span>
<span class="line"><span style="color:#24292E">       }</span></span>
<span class="line"><span style="color:#24292E">   }</span></span>
<span class="line"><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">ServiceConfig {</span></span>
<span class="line"><span style="color:#24292E">    auth</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#24292E">       {</span></span>
<span class="line"><span style="color:#6F42C1">           oauth2IntrospectionConfig</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#6F42C1">               url</span><span style="color:#24292E">: </span><span style="color:#032F62">"https://localhost:9445/oauth2/introspect"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#6F42C1">               tokenTypeHint</span><span style="color:#24292E">: </span><span style="color:#032F62">"access_token"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#6F42C1">               scopeKey</span><span style="color:#24292E">: </span><span style="color:#032F62">"scp"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#6F42C1">               clientConfig</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#6F42C1">                   secureSocket</span><span style="color:#24292E">: {</span></span>
<span class="line"><span style="color:#6F42C1">                       cert</span><span style="color:#24292E">: </span><span style="color:#032F62">"../resource/path/to/introspect/service/public.crt"</span></span>
<span class="line"><span style="color:#24292E">                   }</span></span>
<span class="line"><span style="color:#24292E">               }</span></span>
<span class="line"><span style="color:#24292E">           },</span></span>
<span class="line"><span style="color:#6F42C1">           scopes</span><span style="color:#24292E">: [</span><span style="color:#032F62">"write"</span><span style="color:#24292E">, </span><span style="color:#032F62">"update"</span><span style="color:#24292E">]</span></span>
<span class="line"><span style="color:#24292E">       }</span></span>
<span class="line"><span style="color:#24292E">   ]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">ervice </span><span style="color:#D73A49">/</span><span style="color:#24292E">ws </span><span style="color:#D73A49">on</span><span style="color:#24292E"> wsListener {</span></span>
<span class="line"><span style="color:#D73A49">   resource</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> get</span><span style="color:#24292E"> .() </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service</span><span style="color:#D73A49">|</span><span style="color:#24292E">websocket:UpgradeError {</span></span>
<span class="line"><span style="color:#6A737D">       // ....</span></span>
<span class="line"><span style="color:#24292E">   }</span></span></code></pre></div></pre>
<h4 id="client" level="4">Client</h4>
<p>The Ballerina WebSocket client can be configured to send authentication information to the endpoint being invoked. The Ballerina WebSocket library also has built-in support for the following client authentication mechanisms.</p>
<ol>
<li>Basic authentication</li>
<li>JWT authentication</li>
<li>OAuth2 authentication</li>
</ol>
<p>The following code snippet shows how a WebSocket client can be configured to call a secured endpoint. The <code>auth</code> field of the client configurations (websocket:ClientConfiguration) should have either one of the <code>CredentialsConfig</code>, <code>BearerTokenConfig</code>, <code>JwtIssuerConfig</code>, <code>OAuth2ClientCredentialsGrantConfig</code>, <code>OAuth2PasswordGrantConfig</code>, and <code>OAuth2RefreshTokenGrantConfig</code> records. Once this is configured, Ballerina will take care of the rest of the validation process.</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client wsClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `wss://localhost:9090/taxi/${</span><span style="color:#24292E">username</span><span style="color:#032F62">}`</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">     auth</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">         tokenUrl</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "https://localhost:9445/oauth2/token"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">         username</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "johndoe"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">         password</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "A3ddj3w"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">         clientId</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">         clientSecret</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "9205371918321623741"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">         scopes</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span><span style="color:#032F62">"write"</span><span style="color:#24292E">, </span><span style="color:#032F62">"update"</span><span style="color:#24292E">],</span></span>
<span class="line"><span style="color:#24292E">         clientConfig</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">             secureSocket</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">                 cert</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "../resource/path/to/introspect/service/public.crt"</span></span>
<span class="line"><span style="color:#24292E">             }</span></span>
<span class="line"><span style="color:#24292E">         }</span></span>
<span class="line"><span style="color:#24292E">     },</span></span>
<span class="line"><span style="color:#E36209">     secureSocket</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">         cert</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "../resource/path/to/public.crt"</span></span>
<span class="line"><span style="color:#24292E">     }</span></span>
<span class="line"><span style="color:#24292E">);</span></span></code></pre></div></pre>
<h2 id="6-samples" level="2">6. <a href="#6-samples">Samples</a></h2>
<p>Listener</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/io;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/websocket;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /basic/ws</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> websocket:Listener(</span><span style="color:#005CC5">9090</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">   resource</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> get</span><span style="color:#24292E"> .() </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service</span><span style="color:#D73A49">|</span><span style="color:#24292E">websocket:Error {</span></span>
<span class="line"><span style="color:#D73A49">       return</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> WsService</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">   }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service class</span><span style="color:#6F42C1"> WsService</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service;</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onTextMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">string</span><span style="color:#E36209"> text</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#032F62">"Text message: "</span><span style="color:#D73A49"> +</span><span style="color:#E36209"> text</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">        check</span><span style="color:#24292E"> caller</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">writeTextMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">text</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">    </span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onBinaryMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">byte</span><span style="color:#24292E">[] </span><span style="color:#E36209">data</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">        check</span><span style="color:#24292E"> caller</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">writeBinaryMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">data</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre>
<p>Client</p>
<pre><div><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/io;</span></span>
<span class="line"><span style="color:#D73A49">import</span><span style="color:#24292E"> ballerina/websocket;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> main</span><span style="color:#24292E">() </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">   websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Client wsClient </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E">(</span><span style="color:#032F62">"ws://localhost:9090/basic/ws"</span><span style="color:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">   check</span><span style="color:#24292E"> wsClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">writeTextMessage</span><span style="color:#24292E">(</span><span style="color:#032F62">"Text message"</span><span style="color:#24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">   string</span><span style="color:#24292E"> textResp </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> wsClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">readTextMessage</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">   io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#E36209">textResp</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">   </span></span>
<span class="line"><span style="color:#D73A49">   check</span><span style="color:#24292E"> wsClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">writeBinaryMessage</span><span style="color:#24292E">(</span><span style="color:#032F62">"Binary message"</span><span style="color:#24292E">.</span><span style="color:#6F42C1">toBytes</span><span style="color:#24292E">());</span></span>
<span class="line"></span>
<span class="line"><span style="color:#005CC5">   byte</span><span style="color:#24292E">[] byteResp </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> wsClient</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">readBinaryMessage</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#005CC5">   string</span><span style="color:#24292E"> stringResp </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> 'string</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">fromBytes</span><span style="color:#24292E">(</span><span style="color:#E36209">byteResp</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">   io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#E36209">stringResp</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">}</span></span></code></pre></div></pre></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{},"content":"# Specification: Ballerina WebSocket Library\n\n_Owners_: @shafreenAnfar @bhashinee  \n_Reviewers_: @shafreenAnfar  \n_Created_: 2021/12/09  \n_Updated_: 2022/12/08  \n_Edition_: Swan Lake  \n\n## Introduction\n\nThis is the specification for the WebSocket standard library of [Ballerina language](https://ballerina.io/), which provides WebSocket client-server functionalities.\n\nThe WebSocket library specification has evolved and may continue to evolve in the future. The released versions of the specification can be found under the relevant GitHub tag.\n\nIf you have any feedback or suggestions about the library, start a discussion via a [GitHub issue](https://github.com/ballerina-platform/ballerina-standard-library/issues) or in the [Discord server](https://discord.gg/ballerinalang). Based on the outcome of the discussion, the specification and implementation can be updated. Community feedback is always welcome. Any accepted proposal, which affects the specification is stored under `/docs/proposals`. Proposals under discussion can be found with the label `type/proposal` in GitHub.\n\nThe conforming implementation of the specification is released and included in the distribution. Any deviation from the specification is considered a bug.\n\n## Contents\n1. [Overview](#1-overview)\n2. [Listener](#2-listener)\n    * 2.1. [Listener Configurations](#21-listener-configurations)\n    * 2.2. [Initialization](#22-initialization)\n3. [Service Types](#3-service-types)\n    * 3.1. [UpgradeService](#31-upgradeservice)\n        * 3.1.1. [UpgradeService Configurations](#311-upgradeservice-configurations)\n    * 3.2. [WebSocket Service](#32-websocket-service)\n        * 3.2.1. [Remote methods associated with WebSocket Service](#321-remote-methods-associated-with-websocket-service)\n            * [onOpen](#onopen)\n            * [onTextMessage](#ontextmessage)\n            * [onBinaryMessage](#onbinarymessage)\n            * [onMessage](#onmessage)\n            * [onPing and onPong](#onping-and-onpong)\n            * [onIdleTimeout](#onidletimeout)\n            * [onClose](#onclose)\n            * [onError](#onerror)\n        * 3.2.2. [Dispatching custom remote methods](#322-dispatching-custom-remote-methods)\n          * [Dispatching custom error remote methods](#dispatching-custom-error-remote-methods)\n        * 3.2.3. [Return types](#323-return-types)\n4. [Client](#4-client)\n    * 4.1. [Client Configurations](#41-client-configurations)\n    * 4.2. [Initialization](#42-initialization)\n    * 4.3. [Send and receive messages using the Client](#43-send-and-receive-messages-using-the-client)\n        * [writeTextMessage](#writetextmessage)\n        * [writeBinaryMessage](#writebinarymessage)\n        * [readTextMessage](#readtextmessage)\n        * [readBinaryMessage](#readbinarymessage)\n        * [readMessage](#readmessage)\n        * [close](#close)\n        * [ping](#ping)\n        * [pong](#pong)\n        * [onPing and onPong remote methods](#onping-and-onpong-remote-methods)\n5. [Securing the WebSocket Connections](#5-securing-the-websocket-connections)\n    * 5.1. [SSL/TLS](#51-ssl-tls)\n    * 5.2. [Authentication and Authorization](#52-authentication-and-authorization)\n6. [Samples](#6-samples)\n\n## 1. [Overview](#1-overview)\n\nWebSocket is a protocol that allows a long held full-duplex connection between a server and client. This specification elaborates on how Ballerina language provides a tested WebSocket client and server implementation that is compliant with the [RFC 6455](https://www.rfc-editor.org/rfc/rfc6455.html).\n\n## 2. [Listener](#2-listener)\n\nThe WebSocket listener can be constructed with a port or an http:Listener. When initiating the listener it opens up the port and attaches the upgrade service at the given service path. It is also worth noting that upgrade service is quite similar to an HTTP service.\n\n### 2.1. [Listener Configurations](#21-listener-configurations)\n\nWhen initializing the listener, following configurations can be provided,\n```ballerina\n# Provides a set of configurations for HTTP service endpoints.\n#\n# + host - The host name/IP of the endpoint\n# + http1Settings - Configurations related to HTTP/1.x protocol\n# + secureSocket - The SSL configurations for the service endpoint. This needs to be configured in order to\n#                  communicate through WSS.\n# + timeout - Period of time in seconds that a connection waits for a read/write operation in the\n#                     initial upgrade request. Use value 0 to disable timeout\n# + server - The server name which should appear as a response header\n# + webSocketCompressionEnabled - Enable support for compression in WebSocket\n# + requestLimits - Configurations associated with inbound request size limits\npublic type ListenerConfiguration record {|\n    string host = \"0.0.0.0\";\n    ListenerHttp1Settings http1Settings = {};\n    ListenerSecureSocket secureSocket?;\n    decimal timeout = 120;\n    string? server = ();\n    boolean webSocketCompressionEnabled = true;\n    RequestLimitConfigs requestLimits = {};\n|};\n```\n\n`ListenerHttp1Settings` record contains the settings related to HTTP/1.x protocol. This is an included record from the HTTP package, and this will only be applicable to the initial WebSocket upgrade request.\n```ballerina\n# Provides settings related to HTTP/1.x protocol.\npublic type ListenerHttp1Settings record {|\n    *http:ListenerHttp1Settings;\n|};\n```\n\nThe actual `ListenerHttp1Settings` record in the HTTP package contains the following fields.\n\n```ballerina\n# Provides settings related to HTTP/1.x protocol.\n#\n# + keepAlive - Can be set to either `KEEPALIVE_AUTO`, which respects the `connection` header, or `KEEPALIVE_ALWAYS`,\n#               which always keeps the connection alive, or `KEEPALIVE_NEVER`, which always closes the connection\n# + maxPipelinedRequests - Defines the maximum number of requests that can be processed at a given time on a single\n#                          connection. By default 10 requests can be pipelined on a single connection and user can\n#                          change this limit appropriately.\npublic type ListenerHttp1Settings record {|\n    KeepAlive keepAlive = KEEPALIVE_AUTO;\n    int maxPipelinedRequests = MAX_PIPELINED_REQUESTS;\n|};\n```\n\n`ListenerSecureSocket` record contains configurations related to enabling SSL/TLS on the listener side, and it is an included record from the HTTP package. More details and examples of how to configure them can be found in a following section on `Securing the WebSocket Connections`.\n```ballerina\n# Configures the SSL/TLS options to be used for WebSocket service.\npublic type ListenerSecureSocket record {|\n    *http:ListenerSecureSocket;\n|};\n```\n\nThe actual `ListenerSecureSocket` record in the HTTP package contains the following fields.\n```ballerina\n# Configures the SSL/TLS options to be used for HTTP service.\n#\n# + key - Configurations associated with `crypto:KeyStore` or combination of certificate and (PKCS8) private key of the server\n# + mutualSsl - Configures associated with mutual SSL operations\n# + protocol - SSL/TLS protocol related options\n# + certValidation - Certificate validation against OCSP_CRL, OCSP_STAPLING related options\n# + ciphers - List of ciphers to be used\n#             eg: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\n# + shareSession - Enable/Disable new SSL session creation\n# + handshakeTimeout - SSL handshake time out\n# + sessionTimeout - SSL session time out\npublic type ListenerSecureSocket record {|\n    crypto:KeyStore|CertKey key;\n    record {|\n        VerifyClient verifyClient = REQUIRE;\n        crypto:TrustStore|string cert;\n    |} mutualSsl?;\n    record {|\n        Protocol name;\n        string[] versions = [];\n    |} protocol?;\n    record {|\n        CertValidationType 'type = OCSP_STAPLING;\n        int cacheSize;\n        int cacheValidityPeriod;\n    |} certValidation?;\n    string[] ciphers = [\"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\", \"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\",\n                        \"TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\", \"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\",\n                        \"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\", \"TLS_DHE_RSA_WITH_AES_128_CBC_SHA\",\n                        \"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\", \"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\",\n                        \"TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\"];\n    boolean shareSession = true;\n    decimal handshakeTimeout?;\n    decimal sessionTimeout?;\n|};\n```\n\n`RequestLimitConfigs` record represents configurations related to maximum sizes of URI, headers and entity body which is also an included record from the hTTP package as this will only be applicable to the initial WebSocket upgrade request.\n```ballerina\n# Provides inbound request URI, total header and entity body size threshold configurations.\npublic type RequestLimitConfigs record {|\n    *http:RequestLimitConfigs;\n|};\n```\n\nThe actual `RequestLimitConfigs` record in the HTTP package contains the following fields.\n```ballerina\n# Provides inbound request URI, total header and entity body size threshold configurations.\n#\n# + maxUriLength - Maximum allowed length for a URI. Exceeding this limit will result in a `414 - URI Too Long`\n#                  response\n# + maxHeaderSize - Maximum allowed size for headers. Exceeding this limit will result in a\n#                   `431 - Request Header Fields Too Large` response\n# + maxEntityBodySize - Maximum allowed size for the entity body. By default it is set to -1 which means there\n#                       is no restriction `maxEntityBodySize`, On the Exceeding this limit will result in a\n#                       `413 - Payload Too Large` response\npublic type RequestLimitConfigs record {|\n    int maxUriLength = 4096;\n    int maxHeaderSize = 8192;\n    int maxEntityBodySize = -1;\n|};\n```\n### 2.2. [Initialization](#22-initialization)\n\nThe WebSocket listener can be initialized by providing the `port` or a `http:Listener` and optionally a `ListenerConfiguration`.\n```ballerina\n# Gets invoked during the module initialization to initialize the listener.\n#\n# + port - Listening port of the WebSocket service listener\n# + config - Configurations for the WebSocket service listener\npublic isolated function init(int|http:Listener 'listener, *ListenerConfiguration config) returns Error? {\n```\n\n## 3. [Service Types](#3-service-types)\n\n### 3.1. [UpgradeService](#31-upgrade-service)\n\nUpgrade service is pretty much similar to an HTTP service. It has a single `get` resource, which takes in an `http:Request` optionally. The `get` resource returns a `websocket:Service` to which incoming messages get dispatched after a successful WebSocket connection upgrade. This resource can be used to intercept the initial HTTP upgrade with custom headers or to cancel the WebSocket upgrade by returning an error.\n\n#### 3.1.1. [UpgradeService Configurations](#311-upgradeservice-configurations)\n\nWhen writing the service, following configurations can be provided,\n```ballerina\n# Configurations for a WebSocket service.\n#\n# + subProtocols - Negotiable sub protocol by the service\n# + idleTimeout - Idle timeout for the client connection. Upon timeout, `onIdleTimeout` resource (if defined)\n#                          in the server service will be triggered. Note that this overrides the `timeout` config\n#                          in the `websocket:Listener` which is applicable only for the initial HTTP upgrade request.\n# + maxFrameSize - The maximum payload size of a WebSocket frame in bytes.\n#                  If this is not set or is negative or zero, the default frame size which is 65536 will be used.\n# + auth - Listener authenticaton configurations\n# + dispatcherKey - The key which is going to be used for dispatching to custom remote functions.\n# + dispatcherStreamId - The identifier used to distinguish between requests and their corresponding responses in a multiplexing scenario.\n# + connectionClosureTimeout - Time to wait (in seconds) for the close frame to be received from the remote endpoint \n# before closing the connection. If the timeout exceeds, then the connection is terminated even though a close frame is\n# not received from the remote endpoint. If the value is -1, then the connection waits until a close frame is\n# received, and any other negative value results in an error. If the WebSocket frame is received from the remote endpoint within the waiting period, the connection is\n# terminated immediately.\npublic type WSServiceConfig record {|\n    string[] subProtocols = [];\n    decimal idleTimeout = 0;\n    int maxFrameSize = 65536;\n    ListenerAuthConfig[] auth?;\n    boolean validation = true;\n    string dispatcherKey?;\n    string dispatcherStreamId?;\n    decimal connectionClosureTimeout = 60;\n|};\n```\n\n\u003e **Note:** The `connectionClosureTimeout` is validated at compile-time for literal values and at runtime for non-literal values such as variables.\n\n### 3.2. [WebSocket Service](#32-websocket-service)\n\nOnce the WebSocket upgrade is accepted by the UpgradeService, it returns a `websocket:Service`. This service has a fixed set of remote methods that do not have any configs. Receiving messages will get dispatched to the relevant remote method. Each remote method is explained below.\n\n```ballerina\nservice /ws on new websocket:Listener(21003) {\n    resource function get .(http:Request req) returns websocket:Service|websocket:UpgradeError {\n        return new WsService();\n    }    \n}\n        \nservice class WsService {\n    *websocket:Service;\n    remote isolated function onTextMessage(websocket:Caller caller, string data) returns websocket:Error? {\n        check caller-\u003ewriteTextMessage(data);\n    }\n}              \n```\n\n#### 3.2.1. [Remote methods associated with WebSocket Service](#remote-methods-associated-with-websocket-service)\n\n##### [onOpen](#onopen)\n\nAs soon as the WebSocket handshake is completed and the connection is established, the `onOpen` remote method is dispatched.\n\n```ballerina\nremote function onOpen(websocket:Caller caller) returns error? {\n    io:println(\"Opened a WebSocket connection\");\n}\n```\n\n##### [onTextMessage](#ontextmessage)\n\nThe received text messages are dispatched to this remote method.\n\n```ballerina\nremote isolated function onTextMessage(websocket:Caller caller, string text) returns websocket:Error? {\n     io:println(\"Text message: \" + text);\n}\n```\n\n##### [onBinaryMessage](#onbinarymessage)\n\nThe received binary messages are dispatched to this remote method.\n\n```ballerina\nremote isolated function onBinaryMessage(websocket:Caller caller, byte[] data) returns websocket:Error? {\n    io:println(data);\n}\n```\n\n##### [onMessage](#onmessage)\n\nThe received messages are dispatched to this remote method. Data binding support is provided to accept the messages as `anydata`.\n\n```ballerina\nremote isolated function onMessage(websocket:Caller caller, json data) returns websocket:Error? {\n    io:println(data);\n}\n```\n\nData deserialization for text messages happens similar to the following,\n\n- If the contextually-expected data type is string, received data will be directly presented to the API without doing any deserialization.\n- If the contextually-expected data type is xml, received text data will be deserialized to xml.\n- All the other data types are treated as json and received text data will be deserialized to json.\n\nData deserialization for binary messages happens similar to the following,\n\n- If the contextually-expected data type is byte[], received data will be directly presented to the API without doing any deserialization.\n- If the contextually-expected data type is xml, received binary data will be first converted to the string representation of the byte[] and then deserialized to xml.\n- All the other data types are treated as json and received binary data will be first converted to the string representation of the byte[] and then will be deserialized to json.\n\nIf the data binding fails, the connection will get terminated by sending a close frame with the 1003 error code(1003 indicates that an endpoint is terminating the connection because it has received a type of data it cannot accept ) and will print an error log at the listener side.\n\n##### [onPing and onPong](#onping-and-onpong)\n\nThe received ping and pong messages are dispatched to these remote methods respectively. You do not need to explicitly control these messages as they are handled automatically by the services and clients.\n\n```ballerina\nremote function onPing(websocket:Caller caller, byte[] data) returns error? {\n    io:println(string `Ping received with data: ${data.toBase64()}`);\n    check caller-\u003epong(data);\n}\n \nremote function onPong(websocket:Caller caller, byte[] data) {\n    io:println(string `Pong received with data: ${data.toBase64()}`);\n}\n```\n\n##### [onIdleTimeout](#onidletimeout)\n\nThis remote method is dispatched when the idle timeout is reached. The idleTimeout has to be configured either in the WebSocket service or the client configuration.\n\n```ballerina\nremote function onIdleTimeout(websocket:Caller caller) {\n    io:println(\"Connection timed out\");\n}\n```\n\n##### [onClose](#onclose)\n\nThis remote method is dispatched when a close frame with a statusCode and a reason is received.\n\n```ballerina\nremote function onClose(websocket:Caller caller, int statusCode, string reason) {\n    io:println(string `Client closed connection with ${statusCode} because of ${reason}`);\n}\n```\n\n##### [onError](#onerror)\n\nThis remote method is dispatched when an error occurs in the WebSocket connection. This will always be preceded by a connection closure with an appropriate close frame.\n\n```ballerina\nremote function onError(websocket:Caller caller, error err) {\n    io:println(err.message());\n}\n```\n\n#### 3.2.2. [Dispatching custom remote methods](#322-dispatching-custom-remote-methods)\n\nThe WebSocket service also supports dispatching messages to custom remote functions based on the message type(declared by a field in the received message) with the end goal of generating meaningful Async APIs. \n\nFor example, if the message is `{\"event\": \"heartbeat\"}` it will get dispatched to `onHeartbeat` remote function if the user has defined such a method. \n\n**Dispatching rules**\n\n1. The user can configure the field name(key) to identify the messages and the allowed values as message types.\n\n    The `dispatcherKey` is used to identify the event type of the incoming message by its value. The `dispatcherStreamId` is used to distinguish between requests and their corresponding responses in a multiplexing scenario.\n\n    ```ballerina\n    Ex:\n    incoming message = ` {\"event\": \"heartbeat\", \"id\": \"1\"}`\n    dispatcherKey = \"event\"\n    dispatcherStreamId = \"id\"\n    event/message type = \"heartbeat\"\n    dispatching to remote function = \"onHeartbeat\"\n\n    ```ballerina\n    @websocket:ServiceConfig {\n        dispatcherKey: \"event\",\n        dispatcherStreamId: \"id\"\n    }\n    service / on new websocket:Listener(9090) {}\n    ```\n\n2. Naming of the remote function.\n\n    * If there are spaces and underscores between message types, those will be removed and made camel case(\"un subscribe\" -\u003e \"onUnSubscribe\").\n    * The 'on' word is added as the predecessor and the remote function name is in the camel case(\"heartbeat\" -\u003e \"onHeartbeat\").\n\n3. Custom Dispatching with `@websocket:DispatcherConfig` annotation\n\n    The `@websocket:DispatcherConfig` annotation allows users to explicitly define the dispatching behavior for remote functions. If an incoming message type matches the dispatcherValue in the annotation, the respective remote function will be invoked.\n\n    ```ballerina\n    @websocket:DispatcherConfig {\n        dispatcherValue: \"subscribe\"\n    }\n    remote function onSubscribeMessage(Subscribe message) returns string {\n        return \"onSubscribeMessage\";\n    }\n    ```\n\n    In this case, when a message of type \"subscribe\" is received, the `onSubscribeMessage` remote function is invoked.\n\n4. If an unmatching message type receives where a matching remote function is not implemented in the WebSocket service by the user, it gets dispatched to the default `onMessage` remote function if it is implemented. Or else it will get ignored.\n\n##### [Dispatching custom error remote methods](#dispatching-custom-error-remote-methods)\n\nIf the user has defined a remote function with the name `customRemoteFunction` + `Error` in the WebSocket service, the error messages will get dispatched to that remote function when there is a data binding error. If that is not defined, the generic `onError` remote function gets dispatched.\n\n* Example 1\n\n```ballerina\nremote function onHeartbeat(Heartbeat message) returns error? {\n}\n\nremote function onHeartbeatError(error message) returns error? {\n}\n\nincoming message = ` {\"event\": \"heartbeat\"}`\ndispatching remote function = \"onHeartbeat\"\ndispatching error remote function = \"onHeartbeatError\"\n```\n\n* Example 2\n\n```ballerina\n@websocket:DispatcherConfig {\n    dispatcherValue: \"subscribe\"\n}\nremote function onSubscribeMessage(Subscribe message) returns error? {\n}\n\nremote function onSubscribeMessageError(error message) returns error? {\n}\n\nincoming message = ` {\"event\": \"subscribe\"}`\ndispatching remote function = \"onSubscribeMessage\"\ndispatching error remote function = \"onSubscribeMessageError\"\n```\n\n#### 3.2.3. Return types\n\nThe remote methods support `record`, `string`, `int`, `boolean`, `decimal`, `float`, `map`, `json`, `xml`, and `websocket:CloseFrame` as return types.\nWhen a value is returned, a WebSocket response is sent to the caller who initiated the call. Therefore, user does not necessarily depend on the `websocket:Caller` and its remote methods to proceed with the response.\n\n```ballerina\nremote isolated function onMessage(string data) returns User|string|int|boolean|decimal|float|json|xml|websocket:CloseFrame {\n}\n```\n\n##### 3.2.3.1. Close Frame Records\n\nThe `websocket:CloseFrame` record represents a WebSocket close frame. When a `CloseFrame` is returned from a WebSocket service, a `CloseFrame` is sent to the client and the connection will be terminated.\n\nFollowing is the `websocket:NormalClosure` definition. Likewise, some predefined close frame records are provided.\n\n```ballerina\npublic type NormalClosure record {|\n    *CloseFrameBase;\n    readonly PredefinedCloseFrameType 'type = PREDEFINED_CLOSE_FRAME;\n    readonly 1000 status = 1000;\n|};\n\nremote isolated function onMessage(string data) returns websocket:CloseFrame {\n    websocket:NormalClosure normalClosure = {reason: \"Normal Closure\"};\n    return normalClosure;\n}\n```\n\nCustom Close Frame records enable users to define close frames with any status code and reason within the range of 1000–4999.\n\n```ballerina\npublic type InvalidUserCloseFrame record {|\n    *websocket:CustomCloseFrame;\n|};\n\nremote isolated function onMessage(string data) returns InvalidUserCloseFrame {\n    return {status: 4444, reason: \"Invalid User\"};\n}\n```\n\n## 4. [Client](#4-client)\n\n`websocket:Client` can be used to send and receive data synchronously over WebSocket connection. The underlying implementation is non-blocking.\n\n### 4.1. [Client Configurations](#41-client-configurations)\n\nWhen initializing the client, following configurations can be provided,\n```ballerina\n# Client configurations for WebSocket clients.\n#\n# + subProtocols - Negotiable sub protocols of the client\n# + customHeaders - Custom headers, which should be sent to the server\n# + readTimeout - Read timeout (in seconds) of the client\n# + secureSocket - SSL/TLS-related options\n# + maxFrameSize - The maximum payload size of a WebSocket frame in bytes.\n#                  If this is not set, is negative, or is zero, the default frame size of 65536 will be used\n# + webSocketCompressionEnabled - Enable support for compression in the WebSocket\n# + handShakeTimeout - Time (in seconds) that a connection waits to get the response of\n#                               the WebSocket handshake. If the timeout exceeds, then the connection is terminated with\n#                               an error. If the value \u003c 0, then the value sets to the default value(300)\n# + cookies - An Array of `http:Cookie`\n# + auth - Configurations related to client authentication\n# + pingPongHandler - A service to handle the ping/pong frames.\n#                     Resources in this service gets called on the receipt of ping/pong frames from the server\npublic type ClientConfiguration record {|\n    string[] subProtocols = [];\n    map\u003cstring\u003e customHeaders = {};\n    decimal readTimeout = -1;\n    ClientSecureSocket? secureSocket = ();\n    int maxFrameSize = 65536;\n    boolean webSocketCompressionEnabled = true;\n    decimal handShakeTimeout = 300;\n    http:Cookie[] cookies?;\n    ClientAuthConfig auth?;\n    PingPongService pingPongHandler?;\n|};\n```\n### 4.2. [Initialization](#42-initialization)\n\nA client can be initialized by providing the WebSocket server url and optionally the `ClientConfiguration`.\n```ballerina\n# Initializes the synchronous client when called.\n#\n# + url - URL of the target service\n# + config - The configurations to be used when initializing the client\npublic isolated function init(string url, *ClientConfiguration config) returns Error? {\n```\n\n### 4.3. [Send and receive messages using the Client](#43-send-and-receive-messages-using-the-client)\n\n#### [writeTextMessage](#writetextmessage)\n\n`writeTextMessage` API can be used to send a text message. It takes in the message to be sent as a `string` and returns an error if an error occurs while sending the text message to the connection.\n\n```ballerina\n# Writes text messages to the connection. If an error occurs while sending the text message to the connection, that message\n# will be lost.\n#\n# + data - Data to be sent.\n# + return  - A `websocket:Error` if an error occurs when sending\nremote isolated function writeTextMessage(string data) returns Error? {}\n```\n\n#### [writeBinaryMessage](#writebinarymessage)\n\n`writeBinaryMessage` API can be used to send a binary message. It takes in the message to be sent as a `byte[]` and returns an error if an error occurs while sending the binary message to the connection.\n\n```ballerina\n# Writes binary data to the connection. If an error occurs while sending the binary message to the connection,\n# that message will be lost.\n#\n# + data - Binary data to be sent\n# + return  - A `websocket:Error` if an error occurs when sending\nremote isolated function writeBinaryMessage(byte[] data) returns Error? {}\n```\n\n#### [writeMessage](#writemessage)\n\n`writeMessage` API can be used to send messages. It takes in the message to be sent as subtypes of `anydata` and returns an error if an error occurs while sending the message to the connection.\nThe input data is internally converted to relevant frame type as follows,\n\n* subtypes of string, xml, json - write out using text frames\n* byte[] - write out using binary frames\n\n```ballerina\n# Writes messages to the connection. If an error occurs while sending the message to the connection, that message\n# will be lost.\n#\n# + data - Data to be sent\n# + return  - A `websocket:Error` if an error occurs when sending\nremote isolated function writeMessage(anydata data) returns Error? {\n```\n\n#### [readTextMessage](#readtextmessage)\n\n`readTextMessage` API can be used to receive a text message. It returns the complete text message as a `string` or else an error if an error occurs while reading the messages.\n\n```ballerina\n# Reads text messages in a synchronous manner\n#\n# + return  - The text data sent by the server or a `websocket:Error` if an error occurs when receiving\nremote isolated function readTextMessage() returns string|Error {}\n```\n\n#### [readBinaryMessage](#readbinarymessage)\n\n`readBinaryMessage` API can be used to receive a binary message. It returns the complete binary message as a `byte[]` or else an error if an error occurs while reading the messages.\n\n```ballerina\n# Reads binary data in a synchronous manner\n#\n# + return  - The binary data sent by the server or an `websocket:Error` if an error occurs when receiving\nremote isolated function readBinaryMessage() returns byte[]|Error {}\n```\n\n#### [readMessage](#readmessage)\n\n`readMessage` API can be used to receive a message without prior knowledge of message type. `anydata` type is supported by this API.\nThe contextually-expected data type is inferred from the LHS variable type. If there is an error when converting the expected data type or else any other error occurs while reading the messages, the respective error will be returned from the API \n\n```ballerina\n# Reads data from the WebSocket connection\n#\n# + targetType - The payload type (sybtype of `anydata`), which is expected to be returned after data binding\n# + return - The data sent by the server or a `websocket:Error` if an error occurs when receiving\nremote isolated function readMessage(typedesc\u003canydata\u003e targetType = \u003c\u003e) returns targetType|Error\n```\nWhen the receiving data are of the text frame type, data will be deserialized to the expected data type. If the incoming data is of binary frames, and if the LHS type is some other data type apart from byte[], incoming data will first be converted to the string representation of the binary data and then be converted to the expected data type.\n\nData deserialization for text messages happens similar to the following,\n\n- If the contextually-expected data type is string, received data will be directly presented to the API without doing any deserialization.\n- If the contextually-expected data type is xml, received text data will be deserialized to xml.\n- All the other data types are treated as json and received text data will be deserialized to json.\n\nData deserialization for binary messages happens similar to the following,\n\n- If the contextually-expected data type is byte[], received data will be directly presented to the API without doing any deserialization.\n- If the contextually-expected data type is xml, received binary data will be first converted to the string representation of the byte[] and then deserialized to xml.\n- All the other data types are treated as json and received binary data will be first converted to the string representation of the byte[] and then will be deserialized to json.\n\n#### [close](#close)\n\n`close` API can be used to close the connection. It takes in the optional parameters `statusCode` for closing the connection, `reason` for closing the connection if there is any and the `timeout` to wait until a close frame is received from the remote endpoint.\n\n```ballerina\n# Closes the connection.\n#\n# + statusCode - Status code for closing the connection\n# + reason - Reason for closing the connection\n# + timeout - Time to wait (in seconds) for the close frame to be received from the remote endpoint before closing the\n#                   connection. If the timeout exceeds, then the connection is terminated even though a close frame\n#                   is not received from the remote endpoint. If the value is \u003c 0 (e.g., -1), then the connection\n#                   waits until a close frame is received. If the WebSocket frame is received from the remote\n#                   endpoint within the waiting period, the connection is terminated immediately.\n# + return - A `websocket:Error` if an error occurs while closing the WebSocket connection\nremote isolated function close(int? statusCode = 1000, string? reason = (), decimal timeout = 60) returns Error? {}\n```\n\n#### [ping](#ping)\n\n`ping` API can be used to send ping messages. It takes in the message to be sent as a `byte[]` and returns an error if an error occurs while sending the ping message to the connection.\n\n```ballerina\n# Pings the connection. If an error occurs while sending the ping frame to the server, that frame will be lost.\n#\n# + data - Binary data to be sent\n# + return  - A `websocket:Error` if an error occurs when sending\nremote isolated function ping(byte[] data) returns Error? {}\n```\n\n#### [pong](#pong)\n\n`pong` API can be used to send pong messages. It takes in the message to be sent as a `byte[]` and returns an error if an error occurs while sending the pong message to the connection.\n\n```ballerina\n# Sends a pong message to the connection. If an error occurs while sending the pong frame to the connection, that\n# the frame will be lost.\n#\n# + data - Binary data to be sent\n# + return  - A `websocket:Error` if an error occurs when sending\nremote isolated function pong(byte[] data) returns Error? {}\n```\n\n#### [onPing and onPong remote methods](#onping-and-onpong-remote-methods)\n\nTo receive ping/pong messages, users have to register a `websocket:PingPongService` when creating the client. If the service is registered, receiving ping/pong messages will get dispatched to the `onPing` and `onPong` remote methods respectively.\n```ballerina\nservice class PingPongService {\n   *websocket:PingPongService;\n   remote function onPong(websocket:Caller wsEp, byte[] data) {\n       io:println(\"Pong received\", data);\n   }\n   \n   remote isolated function onPing(websocket:Caller caller, byte[] localData) returns byte[] {\n       return localData;\n   }    \n}\n\nwebsocket:Client wsClient = check new (\"ws://localhost:21020\", {pingPongHandler : new PingPongService()});\n```\nIf the user has implemented `onPing` on their service, it's user's responsibility to send the `pong` frame. It can be done simply by returning the data from the remote method, or else can be done using the `pong` API of websocket:Caller. If the user hasn't implemented the `onPing` remote method, `pong` will be sent automatically.\n\n## 5. [Securing the WebSocket Connections](#5-securing-the-websocket-connections)\n\nBallerina provides inbuilt support for SSL/TLS and configurations to enforce authentication and authorization such as Basic Auth, JWT auth, and OAuth2.\n\n### 5.1. [SSL/TLS](#51-ssl-tls)\nYou can configure a secure socket for your WebSocket listener and client to upgrade to a TCP connection with TLS.\n\nThe TLS-enabled Listener\n\n```ballerina\nlistener websocket:Listener wsListener = new(9090,\n    secureSocket = {\n        key: {\n             certFile: \"/path/to/public.crt\",\n             keyFile: \"/path/to/private.key\"\n        }\n    }\n);\n```\n\nThe TLS-enabled Client\n\n```ballerina\nwebsocket:Client wsClient = check new (string `wss://localhost:9090/taxi/${username}`,\n    secureSocket = {\n        cert: \"/path/to/public.crt\"\n    }\n);\n```\n\n### 5.2. [Authentication and Authorization](#52-authentication-and-authorization)\n\n#### Listener\n\nThe Ballerina WebSocket library provides built-in support for the following listener authentication mechanisms that are validated in the initial upgrade request.\n1. Basic authentication\n2. JWT authentication\n3. OAuth2 authentication\n\nTo enable one of the above, you should configure the `auth` field in `websocket:ServiceConfig` annotation which consists of the following records:\n1. FileUserStoreConfigWithScopes\n2. LdapUserStoreConfigWithScopes\n3. JwtValidatorConfigWithScopes\n4. OAuth2IntrospectionConfigWithScopes\n\nEach of the above records consists of configurations specific to each type as `FileUserStoreConfig` , `LdapUserStoreConfig` ,`JwtValidatorConfig` and `OAuth2IntrospectionConfig` respectively. You just have to configure them and there will be no need for any extensions or handlers. Ballerina will perform the required validation for you.\n\n```ballerina\n\nlistener websocket:Listener wsListener = new(9090,\n    secureSocket = {\n        key: {\n            certFile: \"../resource/path/to/public.crt\",\n            keyFile: \"../resource/path/to/private.key\"\n        }\n    }\n);\n\n@websocket:ServiceConfig {\n     auth: [\n        {\n            oauth2IntrospectionConfig: {\n                url: \"https://localhost:9445/oauth2/introspect\",\n                tokenTypeHint: \"access_token\",\n                scopeKey: \"scp\",\n                clientConfig: {\n                    secureSocket: {\n                        cert: \"../resource/path/to/introspect/service/public.crt\"\n                    }\n                }\n            },\n            scopes: [\"write\", \"update\"]\n        }\n    ]\n}\nservice /ws on wsListener {\n    resource function get .() returns websocket:Service|websocket:UpgradeError {\n        // ....\n    }\n}\n```\n\n#### Client\n\nThe Ballerina WebSocket client can be configured to send authentication information to the endpoint being invoked. The Ballerina WebSocket library also has built-in support for the following client authentication mechanisms.\n1. Basic authentication\n2. JWT authentication\n3. OAuth2 authentication\n\nThe following code snippet shows how a WebSocket client can be configured to call a secured endpoint. The `auth` field of the client configurations (websocket:ClientConfiguration) should have either one of the `CredentialsConfig`, `BearerTokenConfig`, `JwtIssuerConfig`, `OAuth2ClientCredentialsGrantConfig`, `OAuth2PasswordGrantConfig`, and `OAuth2RefreshTokenGrantConfig` records. Once this is configured, Ballerina will take care of the rest of the validation process.\n\n```ballerina\nwebsocket:Client wsClient = check new (string `wss://localhost:9090/taxi/${username}`,\n     auth = {\n         tokenUrl: \"https://localhost:9445/oauth2/token\",\n         username: \"johndoe\",\n         password: \"A3ddj3w\",\n         clientId: \"3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68\",\n         clientSecret: \"9205371918321623741\",\n         scopes: [\"write\", \"update\"],\n         clientConfig: {\n             secureSocket: {\n                 cert: \"../resource/path/to/introspect/service/public.crt\"\n             }\n         }\n     },\n     secureSocket = {\n         cert: \"../resource/path/to/public.crt\"\n     }\n);\n```\n\n## 6. [Samples](#6-samples)\n\nListener\n\n```ballerina\nimport ballerina/io;\nimport ballerina/websocket;\n\nservice /basic/ws on new websocket:Listener(9090) {\n   resource isolated function get .() returns websocket:Service|websocket:Error {\n       return new WsService();\n   }\n}\n\nservice class WsService {\n    *websocket:Service;\n    remote isolated function onTextMessage(websocket:Caller caller, string text) returns websocket:Error? {\n        io:println(\"Text message: \" + text);\n        check caller-\u003ewriteTextMessage(text);\n    }\n    \n    remote isolated function onBinaryMessage(websocket:Caller caller, byte[] data) returns websocket:Error? {\n        io:println(data);\n        check caller-\u003ewriteBinaryMessage(data);\n    }\n}\n```\n\nClient\n\n```ballerina\nimport ballerina/io;\nimport ballerina/websocket;\n\npublic function main() returns error? {\n   websocket:Client wsClient = check new(\"ws://localhost:9090/basic/ws\");\n\n   check wsClient-\u003ewriteTextMessage(\"Text message\");\n\n   string textResp = check wsClient-\u003ereadTextMessage();\n   io:println(textResp);\n   \n   check wsClient-\u003ewriteBinaryMessage(\"Binary message\".toBytes());\n\n   byte[] byteResp = check wsClient-\u003ereadBinaryMessage();\n   string stringResp = check 'string:fromBytes(byteResp);\n   io:println(stringResp);\n}\n```\n","codeSnippets":"[[-734236871,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Provides a set of configurations for HTTP service endpoints.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehost\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe host name/IP of the endpoint\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp1Settings\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eConfigurations related to HTTP/1.x protocol\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003esecureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe SSL configurations for the service endpoint. This needs to be configured in order to\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                  communicate through WSS.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003etimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003ePeriod of time in seconds that a connection waits for a read/write operation in the\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                     initial upgrade request. Use value 0 to disable timeout\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eserver\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe server name which should appear as a response header\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebSocketCompressionEnabled\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eEnable support for compression in WebSocket\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003erequestLimits\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eConfigurations associated with inbound request size limits\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ListenerConfiguration\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e host \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"0.0.0.0\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    ListenerHttp1Settings http1Settings \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    ListenerSecureSocket secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e timeout \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 120\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e? server \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    boolean\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e webSocketCompressionEnabled \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    RequestLimitConfigs requestLimits \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-754871896,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Provides settings related to HTTP/1.x protocol.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ListenerHttp1Settings\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eListenerHttp1Settings;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1093538446,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Provides settings related to HTTP/1.x protocol.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ekeepAlive\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eCan be set to either `KEEPALIVE_AUTO`, which respects the `connection` header, or `KEEPALIVE_ALWAYS`,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#               which always keeps the connection alive, or `KEEPALIVE_NEVER`, which always closes the connection\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emaxPipelinedRequests\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eDefines the maximum number of requests that can be processed at a given time on a single\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                          connection. By default 10 requests can be pipelined on a single connection and user can\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                          change this limit appropriately.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ListenerHttp1Settings\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    KeepAlive keepAlive \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e KEEPALIVE_AUTO;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e maxPipelinedRequests \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e MAX_PIPELINED_REQUESTS;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1781974013,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Configures the SSL/TLS options to be used for WebSocket service.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ListenerSecureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eListenerSecureSocket;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[584834866,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Configures the SSL/TLS options to be used for HTTP service.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ekey\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eConfigurations associated with `crypto:KeyStore` or combination of certificate and (PKCS8) private key of the server\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emutualSsl\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eConfigures associated with mutual SSL operations\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eprotocol\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eSSL/TLS protocol related options\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecertValidation\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eCertificate validation against OCSP_CRL, OCSP_STAPLING related options\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eciphers\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eList of ciphers to be used\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#             eg: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256, TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eshareSession\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eEnable/Disable new SSL session creation\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehandshakeTimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eSSL handshake time out\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003esessionTimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eSSL session time out\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ListenerSecureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    crypto\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eKeyStore\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCertKey key;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        VerifyClient verifyClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e REQUIRE;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        crypto\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eTrustStore\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003estring cert;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    |\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e} mutualSsl\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        Protocol name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] versions \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    |\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e} protocol\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        CertValidationType 'type \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e OCSP_STAPLING;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e cacheSize;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e        int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e cacheValidityPeriod;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    |\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e} certValidation\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] ciphers \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e                        \\\"TLS_DHE_RSA_WITH_AES_128_CBC_SHA256\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e                        \\\"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"TLS_DHE_RSA_WITH_AES_128_CBC_SHA\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e                        \\\"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e                        \\\"TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    boolean\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e shareSession \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e handshakeTimeout?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e sessionTimeout?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-67726219,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Provides inbound request URI, total header and entity body size threshold configurations.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e RequestLimitConfigs\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eRequestLimitConfigs;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[968704605,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Provides inbound request URI, total header and entity body size threshold configurations.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emaxUriLength\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eMaximum allowed length for a URI. Exceeding this limit will result in a `414 - URI Too Long`\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                  response\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emaxHeaderSize\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eMaximum allowed size for headers. Exceeding this limit will result in a\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                   `431 - Request Header Fields Too Large` response\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emaxEntityBodySize\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eMaximum allowed size for the entity body. By default it is set to -1 which means there\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                       is no restriction `maxEntityBodySize`, On the Exceeding this limit will result in a\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                       `413 - Payload Too Large` response\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e RequestLimitConfigs\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e maxUriLength \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 4096\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e maxHeaderSize \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 8192\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e maxEntityBodySize \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e -\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[560133867,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Gets invoked during the module initialization to initialize the listener.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eport\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eListening port of the WebSocket service listener\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eConfigurations for the WebSocket service listener\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e init\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eListener 'listener, *\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eListenerConfiguration\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e config\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1575138789,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Configurations for a WebSocket service.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003esubProtocols\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eNegotiable sub protocol by the service\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eidleTimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eIdle timeout for the client connection. Upon timeout, `onIdleTimeout` resource (if defined)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                          in the server service will be triggered. Note that this overrides the `timeout` config\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                          in the `websocket:Listener` which is applicable only for the initial HTTP upgrade request.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emaxFrameSize\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe maximum payload size of a WebSocket frame in bytes.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                  If this is not set or is negative or zero, the default frame size which is 65536 will be used.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eauth\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eListener authenticaton configurations\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatcherKey\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe key which is going to be used for dispatching to custom remote functions.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatcherStreamId\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe identifier used to distinguish between requests and their corresponding responses in a multiplexing scenario.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003econnectionClosureTimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eTime to wait (in seconds) for the close frame to be received from the remote endpoint \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# before closing the connection. If the timeout exceeds, then the connection is terminated even though a close frame is\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# not received from the remote endpoint. If the value is -1, then the connection waits until a close frame is\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# received, and any other negative value results in an error. If the WebSocket frame is received from the remote endpoint within the waiting period, the connection is\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# terminated immediately.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e WSServiceConfig\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] subProtocols \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e idleTimeout \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 0\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e maxFrameSize \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 65536\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    ListenerAuthConfig[] auth\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    boolean\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e validation \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e dispatcherKey?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e dispatcherStreamId?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e connectionClosureTimeout \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 60\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1166286326,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e /ws\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket:Listener(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e21003\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    resource\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e get\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e .(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ehttp\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eRequest req) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eService\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket:UpgradeError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e WsService\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }    \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice class\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e WsService\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eService;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e caller\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ewriteTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1302701193,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onOpen\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Opened a WebSocket connection\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1596162690,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e text\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e     io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Text message: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e +\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e text\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1010609306,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1202348295,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ejson\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1847716186,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onPing\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `Ping received with data: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003etoBase64\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e caller\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003epong\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onPong\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `Pong received with data: ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003etoBase64\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e()\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1177600348,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onIdleTimeout\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Connection timed out\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1683095243,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onClose\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e statusCode\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e reason\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `Client closed connection with ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003estatusCode\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e} because of ${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereason\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-546541450,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e err\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(err.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003emessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-227163484,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eEx\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eincoming message \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e ` {\\\"event\\\": \\\"heartbeat\\\", \\\"id\\\": \\\"1\\\"}`\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatcherKey \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"event\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatcherStreamId \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"id\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eevent\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emessage type \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"heartbeat\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatching to \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e = \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"onHeartbeat\\\"\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-69553065,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e@\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eDispatcherConfig\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    dispatcherValue\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"subscribe\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onSubscribeMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eSubscribe\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e message\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    return\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"onSubscribeMessage\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1686983920,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onHeartbeat\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eHeartbeat\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e message\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onHeartbeatError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e message\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eincoming message \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e ` {\\\"event\\\": \\\"heartbeat\\\"}`\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatching \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e = \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"onHeartbeat\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatching \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e = \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"onHeartbeatError\\\"\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1644551750,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e@\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eDispatcherConfig\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    dispatcherValue\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"subscribe\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onSubscribeMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eSubscribe\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e message\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onSubscribeMessageError\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e message\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eincoming message \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e ` {\\\"event\\\": \\\"subscribe\\\"}`\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatching \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e = \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"onSubscribeMessage\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edispatching \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eerror\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e = \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"onSubscribeMessageError\\\"\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1907638249,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e User\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eboolean\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003efloat\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ejson\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003exml\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCloseFrame {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-676161295,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e NormalClosure\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCloseFrameBase;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    readonly\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e PredefinedCloseFrameType 'type \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e PREDEFINED_CLOSE_FRAME;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    readonly\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e status \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCloseFrame {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eNormalClosure normalClosure \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {reason\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"Normal Closure\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    return\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e normalClosure;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[772995202,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e InvalidUserCloseFrame\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCustomCloseFrame;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e InvalidUserCloseFrame {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    return\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {status\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 4444\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, reason\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"Invalid User\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1053537033,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Client configurations for WebSocket clients.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003esubProtocols\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eNegotiable sub protocols of the client\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecustomHeaders\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eCustom headers, which should be sent to the server\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereadTimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eRead timeout (in seconds) of the client\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003esecureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eSSL/TLS-related options\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003emaxFrameSize\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe maximum payload size of a WebSocket frame in bytes.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                  If this is not set, is negative, or is zero, the default frame size of 65536 will be used\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebSocketCompressionEnabled\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eEnable support for compression in the WebSocket\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ehandShakeTimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eTime (in seconds) that a connection waits to get the response of\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                               the WebSocket handshake. If the timeout exceeds, then the connection is terminated with\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                               an error. If the value \u0026#x3C; 0, then the value sets to the default value(300)\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ecookies\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eAn Array of `http:Cookie`\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eauth\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eConfigurations related to client authentication\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003epingPongHandler\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA service to handle the ping/pong frames.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                     Resources in this service gets called on the receipt of ping/pong frames from the server\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e type\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ClientConfiguration\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e record\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] subProtocols \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    map\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e customHeaders \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e readTimeout \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e -\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e1\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    ClientSecureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e secureSocket \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    int\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e maxFrameSize \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 65536\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    boolean\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e webSocketCompressionEnabled \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e true\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e    decimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e handShakeTimeout \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 300\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    http\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCookie[] cookies?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    ClientAuthConfig auth\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    PingPongService pingPongHandler\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1806006814,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Initializes the synchronous client when called.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eurl\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eURL of the target service\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003econfig\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe configurations to be used when initializing the client\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e init\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e url\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, *\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003eClientConfiguration\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e config\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1086927261,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Writes text messages to the connection. If an error occurs while sending the text message to the connection, that message\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# will be lost.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eData to be sent.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA `websocket:Error` if an error occurs when sending\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e writeTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1147824397,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Writes binary data to the connection. If an error occurs while sending the binary message to the connection,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# that message will be lost.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eBinary data to be sent\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA `websocket:Error` if an error occurs when sending\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e writeBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1903166704,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Writes messages to the connection. If an error occurs while sending the message to the connection, that message\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# will be lost.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eData to be sent\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA `websocket:Error` if an error occurs when sending\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e writeMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eanydata\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e data\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[379809756,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Reads text messages in a synchronous manner\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe text data sent by the server or a `websocket:Error` if an error occurs when receiving\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e readTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e string\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[39384043,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Reads binary data in a synchronous manner\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe binary data sent by the server or an `websocket:Error` if an error occurs when receiving\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e readBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e byte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[]\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-974500,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Reads data from the WebSocket connection\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003etargetType\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe payload type (sybtype of `anydata`), which is expected to be returned after data binding\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eThe data sent by the server or a `websocket:Error` if an error occurs when receiving\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e readMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003etypedesc\u0026#x3C;\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eanydata\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e\u003e\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e targetType\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e \u0026#x3C;\u003e\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e targetType\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[2113494201,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Closes the connection.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003estatusCode\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eStatus code for closing the connection\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereason\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eReason for closing the connection\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003etimeout\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eTime to wait (in seconds) for the close frame to be received from the remote endpoint before closing the\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                   connection. If the timeout exceeds, then the connection is terminated even though a close frame\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                   is not received from the remote endpoint. If the value is \u0026#x3C; 0 (e.g., -1), then the connection\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                   waits until a close frame is received. If the WebSocket frame is received from the remote\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#                   endpoint within the waiting period, the connection is terminated immediately.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA `websocket:Error` if an error occurs while closing the WebSocket connection\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e close\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e? \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003estatusCode\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 1000\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e reason\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (), \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003edecimal\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e timeout \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e 60\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) returns Error? {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[43246506,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Pings the connection. If an error occurs while sending the ping frame to the server, that frame will be lost.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eBinary data to be sent\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA `websocket:Error` if an error occurs when sending\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e ping\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[518437810,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# Sends a pong message to the connection. If an error occurs while sending the pong frame to the connection, that\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# the frame will be lost.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e#\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eBinary data to be sent\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e# \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e+ \u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e  - \u003c/span\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003eA `websocket:Error` if an error occurs when sending\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eremote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e pong\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e Error\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1082948394,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice class\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e PingPongService\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ePingPongService;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onPong\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller wsEp, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e       io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Pong received\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onPing\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003elocalData\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e byte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e       return\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e localData;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }    \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient wsClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"ws://localhost:21020\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, {pingPongHandler \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e PingPongService\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e()});\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-2065315187,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003elistener\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eListener wsListener \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e9090\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e    secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        key:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e             certFile\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"/path/to/public.crt\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e             keyFile\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"/path/to/private.key\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-11872543,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient wsClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `wss://localhost:9090/taxi/${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eusername\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e    secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        cert\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"/path/to/public.crt\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-353498249,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eistener websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eListener wsListener \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e9090\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e   secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e       key:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e           certFile\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"../resource/path/to/public.crt\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e           keyFile\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"../resource/path/to/private.key\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e       }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eServiceConfig {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    auth\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e       {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e           oauth2IntrospectionConfig\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e               url\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"https://localhost:9445/oauth2/introspect\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e               tokenTypeHint\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"access_token\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e               scopeKey\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"scp\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e               clientConfig\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e                   secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e                       cert\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"../resource/path/to/introspect/service/public.crt\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e               }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e           },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e           scopes\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e: [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"write\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"update\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e       }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   ]\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eervice \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e/\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ews \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eon\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e wsListener {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   resource\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e get\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e .() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eService\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket:UpgradeError {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#6A737D\\\"\u003e       // ....\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1806675342,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient wsClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e (\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e `wss://localhost:9090/taxi/${\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eusername\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e     auth\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         tokenUrl\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"https://localhost:9445/oauth2/token\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         username\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"johndoe\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         password\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"A3ddj3w\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         clientId\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"3MVG9YDQS5WtC11paU2WcQjBB3L5w4gz52uriT8ksZ3nUVjKvrfQMrU4uvZohTftxStwNEW4cfStBEGRxRL68\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         clientSecret\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"9205371918321623741\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e,\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         scopes\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e [\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"write\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"update\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e],\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         clientConfig\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e             secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e                 cert\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"../resource/path/to/introspect/service/public.crt\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e             }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e     },\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e     secureSocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e =\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e         cert\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e \\\"../resource/path/to/public.crt\\\"\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e     }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1238435662,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/io;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/websocket;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e /basic/ws\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e on\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket:Listener(\u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e9090\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   resource\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e get\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e .() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eService\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket:Error {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e       return\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e WsService\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eservice class\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e WsService\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    *\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eService;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e text\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Text message: \\\"\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e +\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003e text\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e caller\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ewriteTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003etext\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e    remote\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e isolated\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e onBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003ebyte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e        io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e        check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e caller\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ewriteBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003edata\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-1423503914,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color:#fff;color:#24292e\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/io;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e ballerina/websocket;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003epublic\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e function\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003e main\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e() \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e error?\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   websocket\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003eClient wsClient \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e new\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"ws://localhost:9090/basic/ws\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e wsClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ewriteTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Text message\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e   string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e textResp \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e wsClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ereadTextMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003etextResp\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e   check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e wsClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ewriteBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#032F62\\\"\u003e\\\"Binary message\\\"\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e.\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003etoBytes\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e());\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e   byte\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e[] byteResp \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e wsClient\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003ereadBinaryMessage\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#005CC5\\\"\u003e   string\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e stringResp \u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e check\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e 'string\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003efromBytes\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003ebyteResp\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e   io\u003c/span\u003e\u003cspan style=\\\"color:#D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color:#6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color:#E36209\\\"\u003estringResp\u003c/span\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color:#24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/spec/[slug]","query":{"slug":"websocket"},"buildId":"Pd9WPoK4goWjtX6NxyBX_","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>