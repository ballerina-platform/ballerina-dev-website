<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="<a href="https://www.rabbitmq.com/">RabbitMQ</a> is one of the most popular open-source enterprise messaging systems modelled on the Advanced Message Queuing Protocol (AMQP) standard. This guide covers the Ballerina RabbitMQ module and its public API. This module contains the functionality to support messaging with the RabbitMQ broker (AMQP 0-9-1). It assumes that the most recent version of Ballerina is used and is built on top of the basics.
">
    <meta name="keywords" content="ballerina,ballerina lang,api docs,rabbitmq">

    <title>API Docs - Listener : Listener</title>
    <script src="../../html-template-resources/jquery.min.js"></script>

    <!-- BIO THEME START -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<!-- Optional theme -->
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
<!-- Latest compiled and minified JavaScript -->
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script type="text/javascript" src="/js/ballerina-common.js"></script>
<link rel="stylesheet" href="/css/ballerina-io.css">
<link rel="stylesheet" href="/css/ballerina-io-docs.css">
<link rel="stylesheet" href="/css/ballerina-io-api-new.css">

<style>
    .line-numbers-wrap {
        display: none;
    }
</style>
<!-- BIO THEME END -->

    <link rel="stylesheet" href="../../html-template-resources/semantic.min.css">
    <link rel="stylesheet" href="../../html-template-resources/components/icon.min.css">
    <link rel="stylesheet" href="../../html-template-resources/styles/css/styles.css">
    <link rel="stylesheet" href="../../html-template-resources/styles/css/font.css">
    <script src="../../html-template-resources/semantic.min.js"></script>
    <script src="../../syntax-highlighter/highlighter.js"></script>

</head>


<body class="cBallerina-io">
    <div class="row cBallerina-io-top-row">
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6"></div>
    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6 cTopLineContainer">
        <div class="cTopLine"></div>
    </div>
</div>
<div class="row cBallerina-io-Nav" id="iMainNavigation">
</div>
<div class="clearfix"></div>
    <div class="navi-wrapper">
        <div class="navi-wrapper-content">
            <a href="
    ../../index.html">
    <img class="logo" src="../../html-template-resources/images/ballerina-logo.png">
</a>

            <div class="primary-list">
                <h3>Listeners</h3>
                <ul>
                    
                        <li class="active">
                            <a href="Listener.html">Listener</a>
                        </li>
                    
                </ul>
            </div>
            <div class="ui divider"></div>
            <div class="primary-list module">
    
        <a href="../../rabbitmq/index.html">
            <h3>rabbitmq</h3>
        </a>
    
    <ul>
        
        <li>
            <a data="records" href="../../rabbitmq/index.html#records">Records</a>
        </li>
        
        
            <li>
                <a  data="objects" href="../../rabbitmq/index.html#objects">Objects</a>
            </li>
        
        
            <li>
                <a data="clients" href="../../rabbitmq/index.html#clients">Clients</a>
            </li>
        
        
            <li>
                <a data="listeners" href="../../rabbitmq/index.html#listeners">Listeners</a>
            </li>
        
        
        
            <li>
                <a data="constants" href="../../rabbitmq/index.html#constants">Constants</a>
            </li>
        
        
            <li>
                <a data="annotations" href="../../rabbitmq/index.html#annotations">Annotations</a>
            </li>
        
        
            <li>
                <a data="types" href="../../rabbitmq/index.html#types">Types</a>
            </li>
        
        
            <li>
                <a data="errors" href="../../rabbitmq/index.html#errors">Errors</a>
            </li>
        
    </ul>
    <div class="ui divider"></div>
</div>

        </div>
    </div>

    <div class="ui vertical sidebar menu">
        <div class="navi-wrapper-sidebar">
            <div class="navi-wrapper-content">
                <a href="
    ../../index.html">
    <img class="logo" src="../../html-template-resources/images/ballerina-logo.png">
</a>

                <div class="primary-list">
                    <h3>Listeners</h3>
                    <ul>
                        
                            <li class="active">
                                <a href="Listener.html">Listener</a>
                            </li>
                        
                    </ul>
                </div>
                <div class="ui divider"></div>
                <div class="primary-list module">
    
        <a href="../../rabbitmq/index.html">
            <h3>rabbitmq</h3>
        </a>
    
    <ul>
        
        <li>
            <a data="records" href="../../rabbitmq/index.html#records">Records</a>
        </li>
        
        
            <li>
                <a  data="objects" href="../../rabbitmq/index.html#objects">Objects</a>
            </li>
        
        
            <li>
                <a data="clients" href="../../rabbitmq/index.html#clients">Clients</a>
            </li>
        
        
            <li>
                <a data="listeners" href="../../rabbitmq/index.html#listeners">Listeners</a>
            </li>
        
        
        
            <li>
                <a data="constants" href="../../rabbitmq/index.html#constants">Constants</a>
            </li>
        
        
            <li>
                <a data="annotations" href="../../rabbitmq/index.html#annotations">Annotations</a>
            </li>
        
        
            <li>
                <a data="types" href="../../rabbitmq/index.html#types">Types</a>
            </li>
        
        
            <li>
                <a data="errors" href="../../rabbitmq/index.html#errors">Errors</a>
            </li>
        
    </ul>
    <div class="ui divider"></div>
</div>

            </div>
        </div>
    </div>
    
    <div class="content-wrapper pusher">
        <div>
    <a class="toc item"> 
        <img src="../../html-template-resources/images/menu.svg">
    </a>
</div>
        <div class="main-wrapper">
            <div id="search-impl"></div>
            <div id="main">
            <h1>
                <a class="breadcrumb-home" href="
    ../../index.html">
    <img class="breadcrumb-home-icon" src="../../html-template-resources/images/home.svg">
</a>
                <span class="title-type">Listener - </span>
                
                    <a href="../../rabbitmq/index.html">rabbitmq</a>
                
                 : <span class="listeners">Listener</span> 
            </h1>
            <p><p>Ballerina RabbitMQ Message Listener.
Provides a listener to consume messages from the RabbitMQ server.</p>
</p>

            <div class="constants">
                <div class="method-sum">
                
                    
                        <h2>Constructor</h2>
<h3 >__init</h3><p>(<a href="../../rabbitmq/records/ConnectionConfiguration.html">ConnectionConfiguration</a> | <a href="../../rabbitmq/objects/Connection.html">Connection</a> connectionOrConnectionConfig, <span class="builtin-type">int?</span> prefetchCount, <span class="builtin-type">int?</span> prefetchSize)</p>
<div class="data-wrapper">
    
        <div class="params-listing">
            <ul>
                <li> <b>connectionOrConnectionConfig</b><span class="type">  <a href="../../rabbitmq/records/ConnectionConfiguration.html">ConnectionConfiguration</a> | <a href="../../rabbitmq/objects/Connection.html">Connection</a></span> </li>
                <li>
                    <p>A <code>rabbitmq:Connection</code> object or the connection configurations.</p>

                </li>
            </ul>
        </div>
    
        <div class="params-listing">
            <ul>
                <li> <b>prefetchCount</b><span class="type">  <span class="builtin-type">int?</span></span> &lt;int?&gt; ()</li>
                <li>
                    <p>Maximum number of messages that the server will deliver. Give the value as 0 if unlimited.
Unless explicitly given, this value is 10 by default.</p>

                </li>
            </ul>
        </div>
    
        <div class="params-listing">
            <ul>
                <li> <b>prefetchSize</b><span class="type">  <span class="builtin-type">int?</span></span> &lt;int?&gt; ()</li>
                <li>
                    <p>Maximum amount of content (measured in octets) that the server will deliver and 0 if unlimited</p>

                </li>
            </ul>
        </div>
    
</div>
                    
                

                
                    <h2>Methods</h2>
                    <div class="method-list">
                        
                            
<div class="param-sum">
    <div class="param-name " title="__detach">
        <a href="#__detach">__detach </a>
    </div>
    <div class="param-details">
        
        <p>Stops consuming messages and detaches the service from the <code>rabbitmq:Listener</code> endpoint.
    </div>
</div>

                        
                            
<div class="param-sum">
    <div class="param-name " title="__gracefulStop">
        <a href="#__gracefulStop">__gracefulStop </a>
    </div>
    <div class="param-details">
        
        <p>Stops consuming messages through all consumer services by terminating the connection and all its channels.
    </div>
</div>

                        
                            
<div class="param-sum">
    <div class="param-name " title="__immediateStop">
        <a href="#__immediateStop">__immediateStop </a>
    </div>
    <div class="param-details">
        
        <p>Stops consuming messages through all the consumer services and terminates the connection
with the server.
    </div>
</div>

                        
                            
<div class="param-sum">
    <div class="param-name " title="getChannel">
        <a href="#getChannel">getChannel </a>
    </div>
    <div class="param-details">
        
        <p>Retrieve the <code>rabbitmq:Channel</code>, which initializes this <code>rabbitmq:Listener</code>.
    </div>
</div>

                        
                    </div>
                

                
                    <h2>LifeCycle Methods</h2>
                    <div class="method-list">
                        
                            
<div class="param-sum">
    <div class="param-name " title="__attach">
        <a href="#__attach">__attach </a>
    </div>
    <div class="param-details">
        
        <p>Attaches the service to the <code>rabbitmq:Listener</code> endpoint.
    </div>
</div>

                        
                            
<div class="param-sum">
    <div class="param-name " title="__start">
        <a href="#__start">__start </a>
    </div>
    <div class="param-details">
        
        <p>Starts consuming the messages on all the attached services.
    </div>
</div>

                        
                    </div>
                
                </div>

                

                
                    <h2>Methods</h2>
                    
                        <div class="method-content">
    <div class="main-method-title here" id="__detach" title="__detach">
             <a class="url-link" href="#__detach">
                <img class="url-link-img" src="../../html-template-resources/images/link.svg">
            </a>
            <h2 > __detach </h2>
        
        <span class="method-types">
            <p>(<span class="builtin-type">service</span> s)</p>
            <b> returns </b><span class="builtin-type">error?</span> 
        </span>
        
    </div>
    <div class="function-desc">
        
        <p>Stops consuming messages and detaches the service from the <code>rabbitmq:Listener</code> endpoint.</p>

    </div>
    
        <div class="data-wrapper">
            <h3 class="param-title">Parameters</h3>
                
            <div class="params-listing">
                <ul>
                    <li>
                        <span >s</span>
                        <span class="type">  <span class="builtin-type">service</span> </span>
                        
                    </li>
                    <li>
                        <p>
                            
                            <p>Type descriptor of the service</p>

                        </p>
                    </li>
                </ul>
            </div>
            
        </div>
    

    
        
        <div class="returns-listing">
            <ul>
                <li> <h3 class="type">Return Type</h3> (<span class="type"><span class="builtin-type">error?</span></span>)</li>
                <li><p><code>()</code> or else  a <code>rabbitmq:Error</code> upon failure to detach the service</p>
</li>
            </ul>
        </div>
        
    
</div>
                    
                        <div class="method-content">
    <div class="main-method-title here" id="__gracefulStop" title="__gracefulStop">
             <a class="url-link" href="#__gracefulStop">
                <img class="url-link-img" src="../../html-template-resources/images/link.svg">
            </a>
            <h2 > __gracefulStop </h2>
        
        <span class="method-types">
            <p>()</p>
            <b> returns </b><span class="builtin-type">error?</span> 
        </span>
        
    </div>
    <div class="function-desc">
        
        <p>Stops consuming messages through all consumer services by terminating the connection and all its channels.</p>

    </div>
    

    
        
        <div class="returns-listing">
            <ul>
                <li> <h3 class="type">Return Type</h3> (<span class="type"><span class="builtin-type">error?</span></span>)</li>
                <li><p><code>()</code> or else  a <code>rabbitmq:Error</code> upon failure to close the <code>ChannelListener</code></p>
</li>
            </ul>
        </div>
        
    
</div>
                    
                        <div class="method-content">
    <div class="main-method-title here" id="__immediateStop" title="__immediateStop">
             <a class="url-link" href="#__immediateStop">
                <img class="url-link-img" src="../../html-template-resources/images/link.svg">
            </a>
            <h2 > __immediateStop </h2>
        
        <span class="method-types">
            <p>()</p>
            <b> returns </b><span class="builtin-type">error?</span> 
        </span>
        
    </div>
    <div class="function-desc">
        
        <p>Stops consuming messages through all the consumer services and terminates the connection
with the server.</p>

    </div>
    

    
        
        <div class="returns-listing">
            <ul>
                <li> <h3 class="type">Return Type</h3> (<span class="type"><span class="builtin-type">error?</span></span>)</li>
                <li><p><code>()</code> or else  a <code>rabbitmq:Error</code> upon failure to close ChannelListener.</p>
</li>
            </ul>
        </div>
        
    
</div>
                    
                        <div class="method-content">
    <div class="main-method-title here" id="getChannel" title="getChannel">
             <a class="url-link" href="#getChannel">
                <img class="url-link-img" src="../../html-template-resources/images/link.svg">
            </a>
            <h2 > getChannel </h2>
        
        <span class="method-types">
            <p>()</p>
            <b> returns </b><a href="../../rabbitmq/clients/Channel.html">Channel</a> 
        </span>
        
    </div>
    <div class="function-desc">
        
        <p>Retrieve the <code>rabbitmq:Channel</code>, which initializes this <code>rabbitmq:Listener</code>.</p>

    </div>
    

    
        
        <div class="returns-listing">
            <ul>
                <li> <h3 class="type">Return Type</h3> (<span class="type"><a href="../../rabbitmq/clients/Channel.html">Channel</a></span>)</li>
                <li><p>A <code>rabbitmq:Channel</code> object or else  a <code>rabbitmq:Error</code> if an I/O problem is encountered.</p>
</li>
            </ul>
        </div>
        
    
</div>
                    
                

                
                    <h2>LifeCycle Methods</h2>
                    
                        <div class="method-content">
    <div class="main-method-title here" id="__attach" title="__attach">
             <a class="url-link" href="#__attach">
                <img class="url-link-img" src="../../html-template-resources/images/link.svg">
            </a>
            <h2 > __attach </h2>
        
        <span class="method-types">
            <p>(<span class="builtin-type">service</span> s, <span class="builtin-type">string?</span> name)</p>
            <b> returns </b><span class="builtin-type">error?</span> 
        </span>
        
    </div>
    <div class="function-desc">
        
        <p>Attaches the service to the <code>rabbitmq:Listener</code> endpoint.</p>

    </div>
    
        <div class="data-wrapper">
            <h3 class="param-title">Parameters</h3>
                
            <div class="params-listing">
                <ul>
                    <li>
                        <span >s</span>
                        <span class="type">  <span class="builtin-type">service</span> </span>
                        
                    </li>
                    <li>
                        <p>
                            
                            <p>Type descriptor of the service</p>

                        </p>
                    </li>
                </ul>
            </div>
                
            <div class="params-listing">
                <ul>
                    <li>
                        <span >name</span>
                        <span class="type">  <span class="builtin-type">string?</span> </span>
                        <span class="default"> (default &lt;string?&gt; ())</span>
                    </li>
                    <li>
                        <p>
                            
                            <p>Name of the service</p>

                        </p>
                    </li>
                </ul>
            </div>
            
        </div>
    

    
        
        <div class="returns-listing">
            <ul>
                <li> <h3 class="type">Return Type</h3> (<span class="type"><span class="builtin-type">error?</span></span>)</li>
                <li><p><code>()</code> or else a <code>rabbitmq:Error</code> upon failure to register the service</p>
</li>
            </ul>
        </div>
        
    
</div>
                    
                        <div class="method-content">
    <div class="main-method-title here" id="__start" title="__start">
             <a class="url-link" href="#__start">
                <img class="url-link-img" src="../../html-template-resources/images/link.svg">
            </a>
            <h2 > __start </h2>
        
        <span class="method-types">
            <p>()</p>
            <b> returns </b><span class="builtin-type">error?</span> 
        </span>
        
    </div>
    <div class="function-desc">
        
        <p>Starts consuming the messages on all the attached services.</p>

    </div>
    

    
        
        <div class="returns-listing">
            <ul>
                <li> <h3 class="type">Return Type</h3> (<span class="type"><span class="builtin-type">error?</span></span>)</li>
                <li><p><code>()</code> or else a <code>rabbitmq:Error</code> upon failure to start</p>
</li>
            </ul>
        </div>
        
    
</div>
                    
                
            </div>
            </div>
        </div>
    </div>
</body>

<script>
    $(document)
    .ready(function() {

      // create sidebar and attach to menu open
      $('.ui.sidebar')
        .sidebar('attach events', '.toc.item')
      ;

    })
  ;

let mainNavLinks = document.querySelectorAll(".primary-list.module ul li a");
let mainSections = document.querySelectorAll(".main-wrapper section.method-content");

let lastId;
let cur = [];

let contentWrapper = document.querySelector(".content-wrapper");
contentWrapper.addEventListener("scroll", event => {
  let fromTop = contentWrapper.scrollTop;

  mainNavLinks.forEach(link => {
    let section = document.querySelector("#" + link.attributes.getNamedItem("data").textContent);

    if (
      section.offsetTop <= fromTop &&
      section.offsetTop + section.offsetHeight > fromTop
    ) {
      link.classList.add("current");
    } else {
      link.classList.remove("current");
    }
  });
});

</script>
<script>
    var rootPath = "../../";
</script>
<script src="../../doc-search/search-data.js"></script>
<script src="../../doc-search/search.js"></script>
<script>
    window.onload = (event) => {
        ballerinaHighlighter.highlightSnippets();
    };
</script>

