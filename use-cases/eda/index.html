<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="description" content="Write code with EDA-friendly abstractions."/><meta name="author" content="WSO2 LLC"/><meta name="keywords" content="ballerina, learn, documentation, docs, programming language"/><link rel="shortcut icon" href="/img/favicon.ico"/><title>Ballerina for EDA - The Ballerina programming language</title><meta property="og:type" content="article"/><meta property="og:title" content="Ballerina for EDA - The Ballerina programming language"/><meta property="og:description" content="Event-driven architecture provides loose coupling, scalability, responsiveness, extensibility, and fault tolerance. Remarkably, Ballerina can produce and consume events like no other."/><meta property="og:title" content="Ballerina for EDA - The Ballerina programming language"/><meta property="og:image" content="https://ballerina.io/images/eda-sm-banner.png"/><meta property="og:description" itemProp="image" content="Event-driven architecture provides loose coupling, scalability, responsiveness, extensibility, and fault tolerance. Remarkably, Ballerina can produce and consume events like no other."/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:title" content="Ballerina for EDA - The Ballerina programming language"/><meta name="twitter:card" content="summary_large_image"/><meta property="twitter:description" content="Event-driven architecture provides loose coupling, scalability, responsiveness, extensibility, and fault tolerance. Remarkably, Ballerina can produce and consume events like no other."/><meta name="twitter:image" content="https://ballerina.io/images/eda-sm-banner.png"/><meta property="twitter:text:description" content="Event-driven architecture provides loose coupling, scalability, responsiveness, extensibility, and fault tolerance. Remarkably, Ballerina can produce and consume events like no other."/><meta property="twitter:image" content="https://ballerina.io/images/eda-sm-banner.png"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="25"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><meta http-equiv="X-Frame-Options" content="SAMEORIGIN"/><meta http-equiv="Content-Security-Policy" content="frame-ancestors &#x27;none&#x27;;"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/9bb35c8110b0fa38.css" as="style"/><link rel="stylesheet" href="/_next/static/css/9bb35c8110b0fa38.css" data-n-g=""/><link rel="preload" href="/_next/static/css/bfbd1a3e1391239a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/bfbd1a3e1391239a.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-2e546c58924a690c.js" defer=""></script><script src="/_next/static/chunks/framework-79bce4a3a540b080.js" defer=""></script><script src="/_next/static/chunks/main-0ea70f422df5d19e.js" defer=""></script><script src="/_next/static/chunks/pages/_app-ba2391f08766dae9.js" defer=""></script><script src="/_next/static/chunks/7621-d6bcd83f463fef72.js" defer=""></script><script src="/_next/static/chunks/1058-de0b031bc614d462.js" defer=""></script><script src="/_next/static/chunks/8130-4f833ffdbe1dba0f.js" defer=""></script><script src="/_next/static/chunks/6084-4e54ad5efcb8d3b5.js" defer=""></script><script src="/_next/static/chunks/5530-11a262420fdd225c.js" defer=""></script><script src="/_next/static/chunks/6242-7c6681de385c0d0b.js" defer=""></script><script src="/_next/static/chunks/1726-d958e891b50f9478.js" defer=""></script><script src="/_next/static/chunks/pages/use-cases/eda-863179718948a6ed.js" defer=""></script><script src="/_next/static/mFXK3qnr1L96w8AvMdJtr/_buildManifest.js" defer=""></script><script src="/_next/static/mFXK3qnr1L96w8AvMdJtr/_ssgManifest.js" defer=""></script><script src="/_next/static/mFXK3qnr1L96w8AvMdJtr/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper usecases vstack gap-0"><div class="wrap-page-content"><div class="community-wrap-row row"><div class="col-sm-12"><div class="pageHeader pageContentRow integration row"><div class="col-12"><div class="container"><h1>Ballerina for Event-Driven Architecture (EDA)</h1></div></div></div><div class="pageContentRow integration row"><div class="col-12"><div class="container"><div class="row"><div class="col-lg-5 col-12"><div><p class="Intro_introText2__Bg_lR">Event-driven architecture provides loose coupling, scalability, responsiveness, extensibility, and fault tolerance. It enables real-time processing, integration, and autonomy, making it ideal for complex systems.</p><p class="Intro_introText3__TUzH9">Remarkably, Ballerina can produce and consume events like no other.</p><p><a href="/downloads/" class="Intro_cDownload__xDbhI">Download Ballerina</a></p></div></div><div class="Intro_introImg__y_Mhl col-lg-7 col-12"><img src="/images/eda1.png" alt="Position Ballerina"/></div></div></div></div></div><div class="pageContentRow integration code odd row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="passing-around-events" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Passing around events has never been easier</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>Producing and consuming events from message brokers and then exposing them to others using WebHook, WebSocket, GraphQL, gRPC, etc., is just a piece of cake using Ballerina. You focus on the business logic and let Ballerina focus on the network logic.</p><div><a href="https://ballerina.io/learn/by-example/kafka-service-consume-message/" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="public type Order readonly &#x26; record {
    int orderId;
    string productName;
    decimal price;
    boolean isValid;
};

listener kafka:Listener orderListener = new (kafka:DEFAULT_URL, {
    groupId: &#x22;order-group-id&#x22;,
    topics: &#x22;order-topic&#x22;
});

service on orderListener {

    remote function onConsumerRecord(Order[] orders) returns error? {
        // The set of orders received by the service are processed one by one.
        check from Order &#x27;order in orders
            where &#x27;order.isValid
            do {
                log:printInfo(string &#x60;Received valid order for ${&#x27;order.productName}&#x60;);
            };
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Order</span><span style="color:#D73A49"> readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> orderId;</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> productName;</span></span>
<span class="line"><span style="color:#005CC5">    decimal</span><span style="color:#24292E"> price;</span></span>
<span class="line"><span style="color:#005CC5">    boolean</span><span style="color:#24292E"> isValid;</span></span>
<span class="line"><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> kafka</span><span style="color:#D73A49">:</span><span style="color:#24292E">Listener orderListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">kafka</span><span style="color:#D73A49">:</span><span style="color:#24292E">DEFAULT_URL, {</span></span>
<span class="line"><span style="color:#24292E">    groupId</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "order-group-id"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    topics</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "order-topic"</span></span>
<span class="line"><span style="color:#24292E">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#D73A49"> on</span><span style="color:#24292E"> orderListener {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onConsumerRecord</span><span style="color:#24292E">(</span><span style="color:#E36209">Order</span><span style="color:#24292E">[] </span><span style="color:#E36209">orders</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">        // The set of orders received by the service are processed one by one.</span></span>
<span class="line"><span style="color:#D73A49">        check</span><span style="color:#D73A49"> from</span><span style="color:#24292E"> Order 'order </span><span style="color:#D73A49">in</span><span style="color:#24292E"> orders</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> 'order.isValid</span></span>
<span class="line"><span style="color:#D73A49">            do</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">                log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printInfo</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `Received valid order for ${</span><span style="color:#24292E">'order</span><span style="color:#032F62">.</span><span style="color:#24292E">productName</span><span style="color:#032F62">}`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">            };</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div><div class="pageContentRow integration code row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="webhook-with-websub" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>WebHooks with WebSub</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>Ballerina combines HTTP and event-driven development leveraging the power of the HTTP ecosystem with WebSub for constructing event-driven applications effortlessly.</p><div><span>WebSub Subscriber</span><a href="https://ballerina.io/learn/by-example/websub-webhook-sample/" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div><div><span>WebSub Hub</span><a href="https://github.com/ballerina-platform/module-ballerina-websubhub/tree/main/examples/kafka-hub" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div id="code-tab"><ul class="mb-3 codeTabs nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><button type="button" id="code-tab-chat1" role="tab" data-rr-ui-event-key="chat1" aria-controls="code-tabpane-chat1" aria-selected="true" class="nav-link active">Subscriber</button></li><li class="nav-item" role="presentation"><button type="button" id="code-tab-chat2" role="tab" data-rr-ui-event-key="chat2" aria-controls="code-tabpane-chat2" aria-selected="false" tabindex="-1" class="nav-link">Hub</button></li></ul><div class="tab-content"><div role="tabpanel" id="code-tabpane-chat1" aria-labelledby="code-tab-chat1" class="fade tab-pane active show"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="@websub:SubscriberServiceConfig {
    target: [
        &#x22;https://api.github.com/hub&#x22;, 
        &#x22;https://github.com/<YOUR_ORGANIZATION>/<REPOSITORY>/events/push.json&#x22;
    ],
    secret: &#x22;<YOUR_SECRET_KEY>&#x22;,
    httpConfig: {
        auth: {
            token: &#x22;<YOUR_AUTH_TOKEN>&#x22;
        }
    }
}
service on new websub:Listener(9090) {
    remote function onEventNotification(websub:ContentDistributionMessage event) returns error? {

        // Get the expected json payload
        json retrievedContent = check event.content.ensureType();

        // Handle the new event
        if retrievedContent.zen is string {
            int hookId = check retrievedContent.hook_id;
            io:println(string &#x60;PingEvent received for webhook [${hookId}]&#x60;);
        } else if retrievedContent.ref is string {
            string repositoryName = check retrievedContent.repository.name;
            io:println(string &#x60;PushEvent received for [${repositoryName}]&#x60;);
        }
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#24292E">@</span><span style="color:#005CC5">websub</span><span style="color:#24292E">:</span><span style="color:#005CC5">SubscriberServiceConfig</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">    target</span><span style="color:#D73A49">:</span><span style="color:#24292E"> [</span></span>
<span class="line"><span style="color:#032F62">        "https://api.github.com/hub"</span><span style="color:#24292E">, </span></span>
<span class="line"><span style="color:#032F62">        "https://github.com/&#x3C;YOUR_ORGANIZATION>/&#x3C;REPOSITORY>/events/push.json"</span></span>
<span class="line"><span style="color:#24292E">    ],</span></span>
<span class="line"><span style="color:#24292E">    secret</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "&#x3C;YOUR_SECRET_KEY>"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    httpConfig</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        auth</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">            token</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "&#x3C;YOUR_AUTH_TOKEN>"</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> websub:Listener(</span><span style="color:#005CC5">9090</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onEventNotification</span><span style="color:#24292E">(</span><span style="color:#E36209">websub</span><span style="color:#D73A49">:</span><span style="color:#24292E">ContentDistributionMessage event) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">        // Get the expected json payload</span></span>
<span class="line"><span style="color:#005CC5">        json</span><span style="color:#24292E"> retrievedContent </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> event.content.</span><span style="color:#6F42C1">ensureType</span><span style="color:#24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">        // Handle the new event</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> retrievedContent.zen </span><span style="color:#D73A49">is</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">            int</span><span style="color:#24292E"> hookId </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> retrievedContent.hook_id;</span></span>
<span class="line"><span style="color:#24292E">            io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `PingEvent received for webhook [${</span><span style="color:#24292E">hookId</span><span style="color:#032F62">}]`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        } </span><span style="color:#D73A49">else</span><span style="color:#D73A49"> if</span><span style="color:#24292E"> retrievedContent.ref </span><span style="color:#D73A49">is</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#005CC5">            string</span><span style="color:#24292E"> repositoryName </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> retrievedContent.repository.name;</span></span>
<span class="line"><span style="color:#24292E">            io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#032F62"> `PushEvent received for [${</span><span style="color:#24292E">repositoryName</span><span style="color:#032F62">}]`</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div><div role="tabpanel" id="code-tabpane-chat2" aria-labelledby="code-tab-chat2" class="fade tab-pane"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="service /hub on new websubhub:Listener(9000) {

    remote function onRegisterTopic(readonly &#x26; websubhub:TopicRegistration message)
                returns websubhub:TopicRegistrationSuccess|websubhub:TopicRegistrationError {
        // Add your logic here
        return websubhub:TOPIC_REGISTRATION_SUCCESS;
    }

    remote function onDeregisterTopic(readonly &#x26; websubhub:TopicDeregistration message)
                returns websubhub:TopicDeregistrationSuccess|websubhub:TopicDeregistrationError {
        // Add your logic here
        return websubhub:TOPIC_DEREGISTRATION_SUCCESS;
    }

    remote function onUpdateMessage(readonly &#x26; websubhub:UpdateMessage message)
                returns websubhub:Acknowledgement|websubhub:UpdateMessageError {
        // Add your logic here
        return websubhub:ACKNOWLEDGEMENT;
    }

    remote function onSubscriptionValidation(readonly &#x26; websubhub:Subscription message)
                returns websubhub:SubscriptionDeniedError? {
        // Add your logic here
    }

    remote function onSubscriptionIntentVerified(readonly &#x26; websubhub:VerifiedSubscription message)
                returns error? {
        // Add your logic here
    }

    remote function onUnsubscriptionValidation(readonly &#x26; websubhub:Unsubscription message)
                returns websubhub:UnsubscriptionDeniedError? {
        // Add your logic here
    }

    remote function onUnsubscriptionIntentVerified(
                readonly &#x26; websubhub:VerifiedUnsubscription message) returns error? {
        // Add your logic here
    } 
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /hub</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> websubhub:Listener(</span><span style="color:#005CC5">9000</span><span style="color:#24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onRegisterTopic</span><span style="color:#24292E">(</span><span style="color:#D73A49">readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">TopicRegistration message)</span></span>
<span class="line"><span style="color:#D73A49">                returns</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">TopicRegistrationSuccess</span><span style="color:#D73A49">|</span><span style="color:#24292E">websubhub:TopicRegistrationError {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">TOPIC_REGISTRATION_SUCCESS;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onDeregisterTopic</span><span style="color:#24292E">(</span><span style="color:#D73A49">readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">TopicDeregistration message)</span></span>
<span class="line"><span style="color:#D73A49">                returns</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">TopicDeregistrationSuccess</span><span style="color:#D73A49">|</span><span style="color:#24292E">websubhub:TopicDeregistrationError {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">TOPIC_DEREGISTRATION_SUCCESS;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onUpdateMessage</span><span style="color:#24292E">(</span><span style="color:#D73A49">readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">UpdateMessage message)</span></span>
<span class="line"><span style="color:#D73A49">                returns</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">Acknowledgement</span><span style="color:#D73A49">|</span><span style="color:#24292E">websubhub:UpdateMessageError {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">ACKNOWLEDGEMENT;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onSubscriptionValidation</span><span style="color:#24292E">(</span><span style="color:#D73A49">readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">Subscription message)</span></span>
<span class="line"><span style="color:#D73A49">                returns</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">SubscriptionDeniedError? {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onSubscriptionIntentVerified</span><span style="color:#24292E">(</span><span style="color:#D73A49">readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">VerifiedSubscription message)</span></span>
<span class="line"><span style="color:#D73A49">                returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onUnsubscriptionValidation</span><span style="color:#24292E">(</span><span style="color:#D73A49">readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">Unsubscription message)</span></span>
<span class="line"><span style="color:#D73A49">                returns</span><span style="color:#24292E"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">UnsubscriptionDeniedError? {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onUnsubscriptionIntentVerified</span><span style="color:#24292E">(</span></span>
<span class="line"><span style="color:#D73A49">                readonly</span><span style="color:#D73A49"> &#x26;</span><span style="color:#E36209"> websubhub</span><span style="color:#D73A49">:</span><span style="color:#24292E">VerifiedUnsubscription message) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">        // Add your logic here</span></span>
<span class="line"><span style="color:#24292E">    } </span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div></div></div></div><div class="pageContentRow integration code odd row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="websocket-tcp-for-web" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>WebSocket, TCP socket for the web</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>WebSocket is an excellent choice for message transmission particularly on the web. With Ballerina, you have not only the capability to utilize a WebSocket as it is but also the flexibility to develop custom subprotocols that align with your organization&#x27;s specific requirements.</p><div><a href="https://ballerina.io/learn/by-example/websub-webhook-sample/" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="// This service is for drivers to register and send locations.
service /taxi on taxiMgtListener {
    resource isolated function get [string name]() 
                        returns websocket:Service|websocket:UpgradeError {
        return new DriverService(name);
    }
}

isolated service class DriverService {
    *websocket:Service;

    final string driverName;

    public isolated function init(string username) {
        self.driverName = username;
    }

    remote isolated function onOpen(websocket:Caller caller) returns websocket:Error? {
        string welcomeMsg = 
                &#x22;Hi &#x22; + self.driverName + &#x22;! Your location will be shared with the riders&#x22;;
        check caller->writeMessage(welcomeMsg);
        
        broadcast(&#x22;Driver &#x22; + self.driverName + &#x22; ready for a ride&#x22;);
    }

    // &#x27;onMessage&#x27; remote function will receive the location updates from drivers.
    remote function onMessage(websocket:Caller caller, string location) returns websocket:Error? {
        worker broadcast returns error? {
            // Broadcast the live locations to registered riders.
            string locationUpdateMsg = self.driverName + &#x22; updated the location &#x22; + location;
            broadcast(locationUpdateMsg);
        }
    }

    remote isolated function onClose(websocket:Caller caller, int statusCode, string reason) {
        io:println(self.driverName + &#x22; got disconnected&#x22;);
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#6A737D">// This service is for drivers to register and send locations.</span></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /taxi</span><span style="color:#D73A49"> on</span><span style="color:#24292E"> taxiMgtListener {</span></span>
<span class="line"><span style="color:#D73A49">    resource</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> get</span><span style="color:#24292E"> [</span><span style="color:#005CC5">string</span><span style="color:#E36209"> name</span><span style="color:#24292E">]() </span></span>
<span class="line"><span style="color:#D73A49">                        returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service</span><span style="color:#D73A49">|</span><span style="color:#24292E">websocket:UpgradeError {</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> DriverService</span><span style="color:#24292E">(</span><span style="color:#E36209">name</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">isolated</span><span style="color:#D73A49"> service class</span><span style="color:#6F42C1"> DriverService</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">    *</span><span style="color:#24292E">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Service;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    final</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> driverName;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    public</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> init</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> username</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#005CC5">        self</span><span style="color:#24292E">.driverName </span><span style="color:#D73A49">=</span><span style="color:#24292E"> username;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onOpen</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#005CC5">        string</span><span style="color:#24292E"> welcomeMsg </span><span style="color:#D73A49">=</span><span style="color:#24292E"> </span></span>
<span class="line"><span style="color:#032F62">                "Hi "</span><span style="color:#D73A49"> +</span><span style="color:#005CC5"> self</span><span style="color:#24292E">.driverName </span><span style="color:#D73A49">+</span><span style="color:#032F62"> "! Your location will be shared with the riders"</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">        check</span><span style="color:#24292E"> caller</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">writeMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">welcomeMsg</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        </span></span>
<span class="line"><span style="color:#6F42C1">        broadcast</span><span style="color:#24292E">(</span><span style="color:#032F62">"Driver "</span><span style="color:#D73A49"> +</span><span style="color:#005CC5"> self</span><span style="color:#24292E">.driverName </span><span style="color:#D73A49">+</span><span style="color:#032F62"> " ready for a ride"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // 'onMessage' remote function will receive the location updates from drivers.</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">string</span><span style="color:#E36209"> location</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? {</span></span>
<span class="line"><span style="color:#D73A49">        worker</span><span style="color:#24292E"> broadcast </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#6A737D">            // Broadcast the live locations to registered riders.</span></span>
<span class="line"><span style="color:#005CC5">            string</span><span style="color:#24292E"> locationUpdateMsg </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> self</span><span style="color:#24292E">.driverName </span><span style="color:#D73A49">+</span><span style="color:#032F62"> " updated the location "</span><span style="color:#D73A49"> +</span><span style="color:#24292E"> location;</span></span>
<span class="line"><span style="color:#6F42C1">            broadcast</span><span style="color:#24292E">(</span><span style="color:#E36209">locationUpdateMsg</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> isolated</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onClose</span><span style="color:#24292E">(</span><span style="color:#E36209">websocket</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller, </span><span style="color:#005CC5">int</span><span style="color:#E36209"> statusCode</span><span style="color:#24292E">, </span><span style="color:#005CC5">string</span><span style="color:#E36209"> reason</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">        io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">println</span><span style="color:#24292E">(</span><span style="color:#005CC5">self</span><span style="color:#24292E">.driverName </span><span style="color:#D73A49">+</span><span style="color:#032F62"> " got disconnected"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div><div class="pageContentRow integration code row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="graphql-subscription" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>GraphQL subscription</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>Ballerina simplifies GraphQL subscriptions, allowing easy event streaming to frontend applications, enabling effortless event subscriptions and delivery to popular clients.</p><div><a href="https://github.com/ballerina-platform/module-ballerina-graphql/tree/master/examples/news_alerts" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="service /news on new graphql:Listener(9090) {

    remote function publish(NewsUpdate &#x26; readonly update) returns NewsRecord|error {
        lock {
            if publisherTable.hasKey(update.publisherId) {
                return produceNews(update).cloneReadOnly();
            }
        }
        return error(&#x22;Invalid publisher&#x22;);
    }

    resource function subscribe news(string userId, Agency agency) returns stream<News>|error {
        stream<News> newsStream;
        lock {
            if userTable.hasKey(userId) {
                NewsStream newsStreamGenerator = check new (userId, agency);
                newsStream = new (newsStreamGenerator);
            } else {
                return error(&#x22;User not registered&#x22;);
            }
        }
        return newsStream;
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">service</span><span style="color:#6F42C1"> /news</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> graphql:Listener(</span><span style="color:#005CC5">9090</span><span style="color:#24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> publish</span><span style="color:#24292E">(</span><span style="color:#E36209">NewsUpdate</span><span style="color:#D73A49"> &#x26;</span><span style="color:#D73A49"> readonly</span><span style="color:#E36209"> update</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> NewsRecord</span><span style="color:#D73A49">|error</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">        lock</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> publisherTable.</span><span style="color:#6F42C1">hasKey</span><span style="color:#24292E">(update.publisherId) {</span></span>
<span class="line"><span style="color:#D73A49">                return</span><span style="color:#6F42C1"> produceNews</span><span style="color:#24292E">(</span><span style="color:#E36209">update</span><span style="color:#24292E">).</span><span style="color:#6F42C1">cloneReadOnly</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#D73A49"> error</span><span style="color:#24292E">(</span><span style="color:#032F62">"Invalid publisher"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    resource</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> subscribe</span><span style="color:#6F42C1"> news</span><span style="color:#24292E">(</span><span style="color:#005CC5">string</span><span style="color:#E36209"> userId</span><span style="color:#24292E">, </span><span style="color:#E36209">Agency</span><span style="color:#E36209"> agency</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> stream&#x3C;</span><span style="color:#24292E">News</span><span style="color:#D73A49">>|error</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">        stream&#x3C;</span><span style="color:#24292E">News</span><span style="color:#D73A49">></span><span style="color:#24292E"> newsStream;</span></span>
<span class="line"><span style="color:#D73A49">        lock</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">            if</span><span style="color:#24292E"> userTable.</span><span style="color:#6F42C1">hasKey</span><span style="color:#24292E">(</span><span style="color:#E36209">userId</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#24292E">                NewsStream newsStreamGenerator </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">userId</span><span style="color:#24292E">, </span><span style="color:#E36209">agency</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">                newsStream </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> (</span><span style="color:#E36209">newsStreamGenerator</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">            } </span><span style="color:#D73A49">else</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#D73A49">                return</span><span style="color:#D73A49"> error</span><span style="color:#24292E">(</span><span style="color:#032F62">"User not registered"</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#24292E">            }</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> newsStream;</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div><div class="pageContentRow integration code odd row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="grpc" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>RPC, why not gRPC?</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>Ballerina simplifies gRPC event streaming by bridging the gap between the service definition and code generation. You can effortlessly leverage gRPC&#x27;s power for seamless data streaming with Ballerina.</p><div><a href="https://github.com/ballerina-platform/module-ballerina-grpc/tree/master/examples/route-guide" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div id="code-container" class="d-none d-lg-block"><div id="left_panel"><p class="title-old">Code</p><div class="code-panel"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="public type Rectangle record {|
    Point lo = {};
    Point hi = {};
|};

public type Feature record {|
    string name = &#x22;&#x22;;
    Point location = {};
|};

public type Point record {|
    int latitude = 0;
    int longitude = 0;
|};

@grpc:ServiceDescriptor {descriptor: ROOT_DESCRIPTOR, descMap: getDescriptorMap()}
service &#x22;RouteGuide&#x22; on new grpc:Listener(9000) {

    remote function ListFeatures(Rectangle rectangle) returns stream<Feature, grpc:Error?>|error {
        
        int left = int:min(rectangle.lo.longitude, rectangle.hi.longitude);
        int right = int:max(rectangle.lo.longitude, rectangle.hi.longitude);
        int top = int:max(rectangle.lo.latitude, rectangle.hi.latitude);
        int bottom = int:min(rectangle.lo.latitude, rectangle.hi.latitude);

        Feature[] selectedFeatures = from var feature in FEATURES
            where feature.name != &#x22;&#x22;
            where feature.location.longitude >= left
            where feature.location.longitude <= right
            where feature.location.latitude >= bottom
            where feature.location.latitude <= top
            select feature;

        return selectedFeatures.toStream();
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Rectangle</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">    Point lo </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#24292E">    Point hi </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Feature</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> name </span><span style="color:#D73A49">=</span><span style="color:#032F62"> ""</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    Point location </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Point</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> latitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> longitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">@</span><span style="color:#005CC5">grpc</span><span style="color:#24292E">:</span><span style="color:#005CC5">ServiceDescriptor</span><span style="color:#24292E"> {descriptor</span><span style="color:#D73A49">:</span><span style="color:#24292E"> ROOT_DESCRIPTOR, descMap</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> getDescriptorMap</span><span style="color:#24292E">()}</span></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#032F62"> "RouteGuide"</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> grpc:Listener(</span><span style="color:#005CC5">9000</span><span style="color:#24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> ListFeatures</span><span style="color:#24292E">(</span><span style="color:#E36209">Rectangle</span><span style="color:#E36209"> rectangle</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> stream&#x3C;</span><span style="color:#24292E">Feature, grpc</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error?</span><span style="color:#D73A49">>|error</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        </span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> left </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">min</span><span style="color:#24292E">(rectangle.lo.longitude, rectangle.hi.longitude);</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> right </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">max</span><span style="color:#24292E">(rectangle.lo.longitude, rectangle.hi.longitude);</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> top </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">max</span><span style="color:#24292E">(rectangle.lo.latitude, rectangle.hi.latitude);</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> bottom </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">min</span><span style="color:#24292E">(rectangle.lo.latitude, rectangle.hi.latitude);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        Feature[] selectedFeatures </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> from</span><span style="color:#005CC5"> var</span><span style="color:#24292E"> feature </span><span style="color:#D73A49">in</span><span style="color:#24292E"> FEATURES</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.name </span><span style="color:#D73A49">!=</span><span style="color:#032F62"> ""</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.longitude </span><span style="color:#D73A49">>=</span><span style="color:#24292E"> left</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.longitude </span><span style="color:#D73A49">&#x3C;=</span><span style="color:#24292E"> right</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.latitude </span><span style="color:#D73A49">>=</span><span style="color:#24292E"> bottom</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.latitude </span><span style="color:#D73A49">&#x3C;=</span><span style="color:#24292E"> top</span></span>
<span class="line"><span style="color:#D73A49">            select</span><span style="color:#24292E"> feature;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> selectedFeatures.</span><span style="color:#6F42C1">toStream</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div><div id="right_panel"><div id="drag"><svg width="46" height="46" viewBox="0 0 46 46" fill="none" xmlns="http://www.w3.org/2000/svg" class="absolute button-wrap"><circle cx="23" cy="23" r="23" fill="#20b6b0"></circle><path d="M10.4375 22.5625C10.4375 22.2988 10.5254 22.0645 10.7012 21.8887L16.3262 16.2637C16.6777 15.8828 17.293 15.8828 17.6445 16.2637C18.0254 16.6152 18.0254 17.2305 17.6445 17.582L12.6934 22.5625L17.6445 27.5137C18.0254 27.8652 18.0254 28.4805 17.6445 28.832C17.293 29.2129 16.6777 29.2129 16.3262 28.832L10.7012 23.207C10.5254 23.0312 10.4375 22.7969 10.4375 22.5625Z" fill="white"></path><path d="M35.5625 22.5625C35.5625 22.2988 35.4746 22.0645 35.2988 21.8887L29.6738 16.2637C29.3223 15.8828 28.707 15.8828 28.3555 16.2637C27.9746 16.6152 27.9746 17.2305 28.3555 17.582L33.3066 22.5625L28.3555 27.5137C27.9746 27.8652 27.9746 28.4805 28.3555 28.832C28.707 29.2129 29.3223 29.2129 29.6738 28.832L35.2988 23.207C35.4746 23.0312 35.5625 22.7969 35.5625 22.5625Z" fill="white"></path></svg></div><p class="title-new">Proto</p><div class="code-panel"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="message Rectangle {
  Point lo = 1;
  Point hi = 2;
}

message Feature {
  string name = 1;
  Point location = 2;
}

message Point {
  int32 latitude = 1;
  int32 longitude = 2;
}

service RouteGuide {
  rpc ListFeatures(Rectangle) returns (stream Feature) {}
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#24292E">message Rectangle {</span></span>
<span class="line"><span style="color:#24292E">  Point lo </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  Point hi </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">message Feature {</span></span>
<span class="line"><span style="color:#005CC5">  string</span><span style="color:#24292E"> name </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  Point location </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">message Point {</span></span>
<span class="line"><span style="color:#24292E">  int32 latitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  int32 longitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#24292E"> RouteGuide {</span></span>
<span class="line"><span style="color:#24292E">  rpc </span><span style="color:#6F42C1">ListFeatures</span><span style="color:#24292E">(</span><span style="color:#E36209">Rectangle</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> (</span><span style="color:#E36209">stream</span><span style="color:#E36209"> Feature</span><span style="color:#24292E">) {}</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div><div id="code-tab" class="d-block d-lg-none"><ul class="mb-3 codeTabs nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><button type="button" id="codeTab1-tab-code" role="tab" data-rr-ui-event-key="code" aria-controls="codeTab1-tabpane-code" aria-selected="true" class="nav-link active">Code</button></li><li class="nav-item" role="presentation"><button type="button" id="codeTab1-tab-diagram" role="tab" data-rr-ui-event-key="diagram" aria-controls="codeTab1-tabpane-diagram" aria-selected="false" tabindex="-1" class="nav-link">Diagram</button></li></ul><div class="tab-content"><div role="tabpanel" id="codeTab1-tabpane-code" aria-labelledby="codeTab1-tab-code" class="fade tab-pane active show"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="public type Rectangle record {|
    Point lo = {};
    Point hi = {};
|};

public type Feature record {|
    string name = &#x22;&#x22;;
    Point location = {};
|};

public type Point record {|
    int latitude = 0;
    int longitude = 0;
|};

@grpc:ServiceDescriptor {descriptor: ROOT_DESCRIPTOR, descMap: getDescriptorMap()}
service &#x22;RouteGuide&#x22; on new grpc:Listener(9000) {

    remote function ListFeatures(Rectangle rectangle) returns stream<Feature, grpc:Error?>|error {
        
        int left = int:min(rectangle.lo.longitude, rectangle.hi.longitude);
        int right = int:max(rectangle.lo.longitude, rectangle.hi.longitude);
        int top = int:max(rectangle.lo.latitude, rectangle.hi.latitude);
        int bottom = int:min(rectangle.lo.latitude, rectangle.hi.latitude);

        Feature[] selectedFeatures = from var feature in FEATURES
            where feature.name != &#x22;&#x22;
            where feature.location.longitude >= left
            where feature.location.longitude <= right
            where feature.location.latitude >= bottom
            where feature.location.latitude <= top
            select feature;

        return selectedFeatures.toStream();
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Rectangle</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#24292E">    Point lo </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#24292E">    Point hi </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Feature</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    string</span><span style="color:#24292E"> name </span><span style="color:#D73A49">=</span><span style="color:#032F62"> ""</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">    Point location </span><span style="color:#D73A49">=</span><span style="color:#24292E"> {};</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">public</span><span style="color:#D73A49"> type</span><span style="color:#6F42C1"> Point</span><span style="color:#D73A49"> record</span><span style="color:#24292E"> {</span><span style="color:#D73A49">|</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> latitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#005CC5">    int</span><span style="color:#24292E"> longitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 0</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">|</span><span style="color:#24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">@</span><span style="color:#005CC5">grpc</span><span style="color:#24292E">:</span><span style="color:#005CC5">ServiceDescriptor</span><span style="color:#24292E"> {descriptor</span><span style="color:#D73A49">:</span><span style="color:#24292E"> ROOT_DESCRIPTOR, descMap</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> getDescriptorMap</span><span style="color:#24292E">()}</span></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#032F62"> "RouteGuide"</span><span style="color:#D73A49"> on</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> grpc:Listener(</span><span style="color:#005CC5">9000</span><span style="color:#24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> ListFeatures</span><span style="color:#24292E">(</span><span style="color:#E36209">Rectangle</span><span style="color:#E36209"> rectangle</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#D73A49"> stream&#x3C;</span><span style="color:#24292E">Feature, grpc</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error?</span><span style="color:#D73A49">>|error</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        </span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> left </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">min</span><span style="color:#24292E">(rectangle.lo.longitude, rectangle.hi.longitude);</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> right </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">max</span><span style="color:#24292E">(rectangle.lo.longitude, rectangle.hi.longitude);</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> top </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">max</span><span style="color:#24292E">(rectangle.lo.latitude, rectangle.hi.latitude);</span></span>
<span class="line"><span style="color:#005CC5">        int</span><span style="color:#24292E"> bottom </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> int</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">min</span><span style="color:#24292E">(rectangle.lo.latitude, rectangle.hi.latitude);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">        Feature[] selectedFeatures </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> from</span><span style="color:#005CC5"> var</span><span style="color:#24292E"> feature </span><span style="color:#D73A49">in</span><span style="color:#24292E"> FEATURES</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.name </span><span style="color:#D73A49">!=</span><span style="color:#032F62"> ""</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.longitude </span><span style="color:#D73A49">>=</span><span style="color:#24292E"> left</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.longitude </span><span style="color:#D73A49">&#x3C;=</span><span style="color:#24292E"> right</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.latitude </span><span style="color:#D73A49">>=</span><span style="color:#24292E"> bottom</span></span>
<span class="line"><span style="color:#D73A49">            where</span><span style="color:#24292E"> feature.location.latitude </span><span style="color:#D73A49">&#x3C;=</span><span style="color:#24292E"> top</span></span>
<span class="line"><span style="color:#D73A49">            select</span><span style="color:#24292E"> feature;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">        return</span><span style="color:#24292E"> selectedFeatures.</span><span style="color:#6F42C1">toStream</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div><div role="tabpanel" id="codeTab1-tabpane-diagram" aria-labelledby="codeTab1-tab-diagram" class="fade tab-pane"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="message Rectangle {
  Point lo = 1;
  Point hi = 2;
}

message Feature {
  string name = 1;
  Point location = 2;
}

message Point {
  int32 latitude = 1;
  int32 longitude = 2;
}

service RouteGuide {
  rpc ListFeatures(Rectangle) returns (stream Feature) {}
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#24292E">message Rectangle {</span></span>
<span class="line"><span style="color:#24292E">  Point lo </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  Point hi </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">message Feature {</span></span>
<span class="line"><span style="color:#005CC5">  string</span><span style="color:#24292E"> name </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  Point location </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E">message Point {</span></span>
<span class="line"><span style="color:#24292E">  int32 latitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 1</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">  int32 longitude </span><span style="color:#D73A49">=</span><span style="color:#005CC5"> 2</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#24292E"> RouteGuide {</span></span>
<span class="line"><span style="color:#24292E">  rpc </span><span style="color:#6F42C1">ListFeatures</span><span style="color:#24292E">(</span><span style="color:#E36209">Rectangle</span><span style="color:#24292E">) </span><span style="color:#D73A49">returns</span><span style="color:#24292E"> (</span><span style="color:#E36209">stream</span><span style="color:#E36209"> Feature</span><span style="color:#24292E">) {}</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div></div></div><div class="pageContentRow integration code row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="ftp-events" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Files, files as events?</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>Ballerina enhances file transfer with FTP listeners, reacting to events on servers. SFTP and FTPS options ensure security. Seamlessly integrate file transfer with Ballerina&#x27;s secure functionality.</p><div><a href="https://ballerina.io/learn/by-example/ftp-service-send-file/" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="configurable string username = ?;
configurable string password = ?;

listener ftp:Listener fileListener = check new ({
    host: &#x22;ftp.example.com&#x22;,
    auth: {
        credentials: {
            username,
            password
        }
    },
    path: &#x22;/home/in&#x22;,
    fileNamePattern: &#x22;(.*).txt&#x22;
});

service on fileListener {

    remote function onFileChange(ftp:WatchEvent &#x26; readonly event, ftp:Caller caller) 
            returns error? {
                
        foreach ftp:FileInfo addedFile in event.addedFiles {
            stream<io:Block, io:Error?> fileStream = check 
                            io:fileReadBlocksAsStream(&#x22;./local/appendFile.txt&#x22;, 7);
            check caller->append(addedFile.path, fileStream);
            check fileStream.close();
        }
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> username </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> password </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> ftp</span><span style="color:#D73A49">:</span><span style="color:#24292E">Listener fileListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> ({</span></span>
<span class="line"><span style="color:#24292E">    host</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "ftp.example.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    auth</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">        credentials</span><span style="color:#D73A49">:</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">            username,</span></span>
<span class="line"><span style="color:#24292E">            password</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    },</span></span>
<span class="line"><span style="color:#E36209">    path</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "/home/in"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#E36209">    fileNamePattern</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "(.*).txt"</span></span>
<span class="line"><span style="color:#24292E">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#D73A49"> on</span><span style="color:#24292E"> fileListener {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onFileChange</span><span style="color:#24292E">(</span><span style="color:#E36209">ftp</span><span style="color:#D73A49">:</span><span style="color:#24292E">WatchEvent &#x26; </span><span style="color:#D73A49">readonly</span><span style="color:#24292E"> event, </span><span style="color:#E36209">ftp</span><span style="color:#D73A49">:</span><span style="color:#24292E">Caller caller) </span></span>
<span class="line"><span style="color:#D73A49">            returns</span><span style="color:#D73A49"> error?</span><span style="color:#24292E"> {</span></span>
<span class="line"><span style="color:#24292E">                </span></span>
<span class="line"><span style="color:#D73A49">        foreach </span><span style="color:#24292E">ftp</span><span style="color:#D73A49">:</span><span style="color:#24292E">FileInfo addedFile </span><span style="color:#D73A49">in</span><span style="color:#24292E"> event.addedFiles {</span></span>
<span class="line"><span style="color:#D73A49">            stream&#x3C;</span><span style="color:#24292E">io</span><span style="color:#D73A49">:</span><span style="color:#24292E">Block, io</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error?</span><span style="color:#D73A49">></span><span style="color:#24292E"> fileStream </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> check</span><span style="color:#24292E"> </span></span>
<span class="line"><span style="color:#24292E">                            io</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">fileReadBlocksAsStream</span><span style="color:#24292E">(</span><span style="color:#032F62">"./local/appendFile.txt"</span><span style="color:#24292E">, </span><span style="color:#005CC5">7</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">            check</span><span style="color:#24292E"> caller</span><span style="color:#D73A49">-></span><span style="color:#6F42C1">append</span><span style="color:#24292E">(addedFile.path, </span><span style="color:#E36209">fileStream</span><span style="color:#24292E">);</span></span>
<span class="line"><span style="color:#D73A49">            check</span><span style="color:#24292E"> fileStream.</span><span style="color:#6F42C1">close</span><span style="color:#24292E">();</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div><div class="pageContentRow integration code odd row"><div class="col-12"><div class="container"><div class="row"><div class="Code_box__EqJEo col-12"><h2 id="email-events" class="section"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-link-45deg mdButton pe-2" viewBox="0 0 16 16"><path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"></path><path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"></path></svg>Automated responding to emails</h2></div></div><div class="row"><div class="Code_box__EqJEo col-lg-5 col-md-5 col-12"><div><p>Ballerina simplifies real-time email handling by offering abstractions and connectors for seamless integration. It supports SMTP, IMAP, and POP3, and even enables integration with ChatGPT for advanced email automation workflows, adding sophistication to your communication processes.</p><div><a href="https://ballerina.io/learn/by-example/websub-webhook-sample/" class="Code_cDownload__fbqYu" target="_blank" rel="noreferrer">View code on GitHub</a></div></div></div><div class="Code_box__EqJEo col-lg-7 col-md-7 col-12"><div class="Code_codeSnippet__W8zfe"><div class="highlight"><pre class="shiki github-light" style="background-color:#fff;color:#24292e" tabindex="0"><code><button type="button" title="Copy" aria-label="Copy" data="configurable string username = ?;
configurable string password = ?;

listener email:ImapListener emailListener = new ({
    host: &#x22;imap.email.com&#x22;,
    username,
    password
});

service &#x22;observer&#x22; on emailListener {

    // When an email is successfully received, the &#x60;onMessage&#x60; method is called.
    remote function onMessage(email:Message email) {
        log:printInfo(&#x22;Received an email&#x22;, subject = email.subject, content = email?.body);
    }

    // When an error occurs during the email poll operations, the &#x60;onError&#x60; method is called.
    remote function onError(email:Error emailError) {
        log:printError(emailError.message(), stackTrace = emailError.stackTrace());
    }

    // When the listener is closed, the &#x60;onClose&#x60; method is called.
    remote function onClose(email:Error? closeError) {
        if closeError is email:Error {
            log:printInfo(closeError.message(), stackTrace = closeError.stackTrace());
        }
    }
}" class="rehype-pretty-copy" onclick="navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copied&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copied&#x27;);window.setTimeout(() => {this.classList.remove(&#x27;rehype-pretty-copied&#x27;);this.setAttribute(&#x27;title&#x27;, &#x27;Copy&#x27;);this.setAttribute(&#x27;aria-label&#x27;, &#x27;Copy&#x27;);}, 3000);"><span class="ready"></span><span class="success"></span></button><span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> username </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"><span style="color:#D73A49">configurable</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> password </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> ?</span><span style="color:#24292E">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">listener</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">ImapListener emailListener </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> ({</span></span>
<span class="line"><span style="color:#24292E">    host</span><span style="color:#D73A49">:</span><span style="color:#032F62"> "imap.email.com"</span><span style="color:#24292E">,</span></span>
<span class="line"><span style="color:#24292E">    username,</span></span>
<span class="line"><span style="color:#24292E">    password</span></span>
<span class="line"><span style="color:#24292E">});</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49">service</span><span style="color:#032F62"> "observer"</span><span style="color:#D73A49"> on</span><span style="color:#24292E"> emailListener {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // When an email is successfully received, the `onMessage` method is called.</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onMessage</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Message email) {</span></span>
<span class="line"><span style="color:#24292E">        log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printInfo</span><span style="color:#24292E">(</span><span style="color:#032F62">"Received an email"</span><span style="color:#24292E">, </span><span style="color:#E36209">subject</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> email.subject, </span><span style="color:#E36209">content</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> email?.body);</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // When an error occurs during the email poll operations, the `onError` method is called.</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onError</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error emailError) {</span></span>
<span class="line"><span style="color:#24292E">        log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printError</span><span style="color:#24292E">(emailError.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">(), </span><span style="color:#E36209">stackTrace</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> emailError.</span><span style="color:#6F42C1">stackTrace</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    // When the listener is closed, the `onClose` method is called.</span></span>
<span class="line"><span style="color:#D73A49">    remote</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> onClose</span><span style="color:#24292E">(</span><span style="color:#E36209">email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error? </span><span style="color:#E36209">closeError</span><span style="color:#24292E">) {</span></span>
<span class="line"><span style="color:#D73A49">        if</span><span style="color:#24292E"> closeError </span><span style="color:#D73A49">is</span><span style="color:#24292E"> email</span><span style="color:#D73A49">:</span><span style="color:#24292E">Error {</span></span>
<span class="line"><span style="color:#24292E">            log</span><span style="color:#D73A49">:</span><span style="color:#6F42C1">printInfo</span><span style="color:#24292E">(closeError.</span><span style="color:#6F42C1">message</span><span style="color:#24292E">(), </span><span style="color:#E36209">stackTrace</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> closeError.</span><span style="color:#6F42C1">stackTrace</span><span style="color:#24292E">());</span></span>
<span class="line"><span style="color:#24292E">        }</span></span>
<span class="line"><span style="color:#24292E">    }</span></span>
<span class="line"><span style="color:#24292E">}</span></span><style>:root {--copy-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E");--success-icon: url("data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);& span {width: 100%;aspect-ratio: 1 / 1;}& .ready {background-image: var(--copy-icon);}& .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}&.rehype-pretty-copied {& .success {display: block;} & .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;& .ready { display: none; }& .success { display: block; }}</style></code></pre></div></div></div></div></div></div></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"samples":{"email":{"frontmatter":{"title":"Automated responding to emails","description":"Ballerina simplifies real-time email handling by offering abstractions and connectors for seamless integration. It supports SMTP, IMAP, and POP3, and even enables integration with ChatGPT for advanced email automation workflows, adding sophistication to your communication processes.","url":"https://ballerina.io/learn/by-example/receive-email-using-service/","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"configurable string username = ?;\nconfigurable string password = ?;\n\nlistener email:ImapListener emailListener = new ({\n    host: \u0026#x22;imap.email.com\u0026#x22;,\n    username,\n    password\n});\n\nservice \u0026#x22;observer\u0026#x22; on emailListener {\n\n    // When an email is successfully received, the \u0026#x60;onMessage\u0026#x60; method is called.\n    remote function onMessage(email:Message email) {\n        log:printInfo(\u0026#x22;Received an email\u0026#x22;, subject = email.subject, content = email?.body);\n    }\n\n    // When an error occurs during the email poll operations, the \u0026#x60;onError\u0026#x60; method is called.\n    remote function onError(email:Error emailError) {\n        log:printError(emailError.message(), stackTrace = emailError.stackTrace());\n    }\n\n    // When the listener is closed, the \u0026#x60;onClose\u0026#x60; method is called.\n    remote function onClose(email:Error? closeError) {\n        if closeError is email:Error {\n            log:printInfo(closeError.message(), stackTrace = closeError.stackTrace());\n        }\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e username \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e password \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003elistener\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e email\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eImapListener emailListener \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    host\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"imap.email.com\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    username,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    password\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e});\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"observer\"\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e emailListener {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    // When an email is successfully received, the `onMessage` method is called.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onMessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eemail\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eMessage email) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Received an email\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003esubject\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e email.subject, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003econtent\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e email?.body);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    // When an error occurs during the email poll operations, the `onError` method is called.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onError\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eemail\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError emailError) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintError\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(emailError.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(), \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003estackTrace\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e emailError.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003estackTrace\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e());\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    // When the listener is closed, the `onClose` method is called.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onClose\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eemail\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError? \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ecloseError\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e closeError \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e email\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(closeError.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003emessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(), \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003estackTrace\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e =\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e closeError.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003estackTrace\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e());\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"file":{"frontmatter":{"title":"Files, files as events?","description":"Ballerina enhances file transfer with FTP listeners, reacting to events on servers. SFTP and FTPS options ensure security. Seamlessly integrate file transfer with Ballerina's secure functionality.","url":"https://ballerina.io/learn/by-example/ftp-service-send-file/","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"configurable string username = ?;\nconfigurable string password = ?;\n\nlistener ftp:Listener fileListener = check new ({\n    host: \u0026#x22;ftp.example.com\u0026#x22;,\n    auth: {\n        credentials: {\n            username,\n            password\n        }\n    },\n    path: \u0026#x22;/home/in\u0026#x22;,\n    fileNamePattern: \u0026#x22;(.*).txt\u0026#x22;\n});\n\nservice on fileListener {\n\n    remote function onFileChange(ftp:WatchEvent \u0026#x26; readonly event, ftp:Caller caller) \n            returns error? {\n                \n        foreach ftp:FileInfo addedFile in event.addedFiles {\n            stream\u003cio:Block, io:Error?\u003e fileStream = check \n                            io:fileReadBlocksAsStream(\u0026#x22;./local/appendFile.txt\u0026#x22;, 7);\n            check caller-\u003eappend(addedFile.path, fileStream);\n            check fileStream.close();\n        }\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e username \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003econfigurable\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e password \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e ?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003elistener\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ftp\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eListener fileListener \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ({\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    host\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"ftp.example.com\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    auth\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        credentials\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            username,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            password\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    },\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209\"\u003e    path\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"/home/in\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#E36209\"\u003e    fileNamePattern\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"(.*).txt\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e});\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e fileListener {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onFileChange\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eftp\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eWatchEvent \u0026#x26; \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e event, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eftp\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eCaller caller) \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            returns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e                \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        foreach \u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eftp\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eFileInfo addedFile \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ein\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e event.addedFiles {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            stream\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eio\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eBlock, io\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError?\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e fileStream \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e                            io\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003efileReadBlocksAsStream\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"./local/appendFile.txt\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e7\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e caller\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eappend\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(addedFile.path, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003efileStream\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e fileStream.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eclose\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"graphql":{"frontmatter":{"title":"GraphQL subscription","description":"Ballerina simplifies GraphQL subscriptions, allowing easy event streaming to frontend applications, enabling effortless event subscriptions and delivery to popular clients.","url":"https://github.com/ballerina-platform/module-ballerina-graphql/tree/master/examples/news_alerts","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"service /news on new graphql:Listener(9090) {\n\n    remote function publish(NewsUpdate \u0026#x26; readonly update) returns NewsRecord|error {\n        lock {\n            if publisherTable.hasKey(update.publisherId) {\n                return produceNews(update).cloneReadOnly();\n            }\n        }\n        return error(\u0026#x22;Invalid publisher\u0026#x22;);\n    }\n\n    resource function subscribe news(string userId, Agency agency) returns stream\u003cNews\u003e|error {\n        stream\u003cNews\u003e newsStream;\n        lock {\n            if userTable.hasKey(userId) {\n                NewsStream newsStreamGenerator = check new (userId, agency);\n                newsStream = new (newsStreamGenerator);\n            } else {\n                return error(\u0026#x22;User not registered\u0026#x22;);\n            }\n        }\n        return newsStream;\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e /news\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e graphql:Listener(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e9090\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e publish\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eNewsUpdate\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e readonly\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e update\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e NewsRecord\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|error\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        lock\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e publisherTable.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003ehasKey\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(update.publisherId) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                return\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e produceNews\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eupdate\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e).\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003ecloneReadOnly\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Invalid publisher\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    resource\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e subscribe\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e news\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e userId\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eAgency\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e agency\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e stream\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eNews\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e|error\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        stream\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eNews\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e newsStream;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        lock\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e userTable.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003ehasKey\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003euserId\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e                NewsStream newsStreamGenerator \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003euserId\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eagency\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e                newsStream \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003enewsStreamGenerator\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            } \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                return\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"User not registered\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e newsStream;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"grpc":{"frontmatter":{"title":"RPC, why not gRPC?","description":"Ballerina simplifies gRPC event streaming by bridging the gap between the service definition and code generation. You can effortlessly leverage gRPC's power for seamless data streaming with Ballerina.","url":"https://github.com/ballerina-platform/module-ballerina-grpc/tree/master/examples/route-guide","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public type Rectangle record {|\n    Point lo = {};\n    Point hi = {};\n|};\n\npublic type Feature record {|\n    string name = \u0026#x22;\u0026#x22;;\n    Point location = {};\n|};\n\npublic type Point record {|\n    int latitude = 0;\n    int longitude = 0;\n|};\n\n@grpc:ServiceDescriptor {descriptor: ROOT_DESCRIPTOR, descMap: getDescriptorMap()}\nservice \u0026#x22;RouteGuide\u0026#x22; on new grpc:Listener(9000) {\n\n    remote function ListFeatures(Rectangle rectangle) returns stream\u003cFeature, grpc:Error?\u003e|error {\n        \n        int left = int:min(rectangle.lo.longitude, rectangle.hi.longitude);\n        int right = int:max(rectangle.lo.longitude, rectangle.hi.longitude);\n        int top = int:max(rectangle.lo.latitude, rectangle.hi.latitude);\n        int bottom = int:min(rectangle.lo.latitude, rectangle.hi.latitude);\n\n        Feature[] selectedFeatures = from var feature in FEATURES\n            where feature.name != \u0026#x22;\u0026#x22;\n            where feature.location.longitude \u003e= left\n            where feature.location.longitude \u003c= right\n            where feature.location.latitude \u003e= bottom\n            where feature.location.latitude \u003c= top\n            select feature;\n\n        return selectedFeatures.toStream();\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e Rectangle\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e record\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    Point lo \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    Point hi \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e Feature\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e record\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e name \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    Point location \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e Point\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e record\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e latitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e longitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 0\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e@\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003egrpc\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003eServiceDescriptor\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {descriptor\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e ROOT_DESCRIPTOR, descMap\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e getDescriptorMap\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e()}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"RouteGuide\"\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e grpc:Listener(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e9000\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e ListFeatures\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eRectangle\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e rectangle\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e stream\u0026#x3C;\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eFeature, grpc\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError?\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e|error\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e left \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e int\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003emin\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(rectangle.lo.longitude, rectangle.hi.longitude);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e right \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e int\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003emax\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(rectangle.lo.longitude, rectangle.hi.longitude);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e top \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e int\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003emax\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(rectangle.lo.latitude, rectangle.hi.latitude);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e bottom \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e int\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003emin\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(rectangle.lo.latitude, rectangle.hi.latitude);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        Feature[] selectedFeatures \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e var\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ein\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e FEATURES\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            where\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature.name \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e!=\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            where\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature.location.longitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e left\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            where\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature.location.longitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u0026#x3C;=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e right\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            where\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature.location.latitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e bottom\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            where\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature.location.latitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e\u0026#x3C;=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e top\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            select\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e feature;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e selectedFeatures.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003etoStream\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"passing-around-messages":{"frontmatter":{"title":"Passing around events has never been easier","description":"Producing and consuming events from message brokers and then exposing them to others using WebHook, WebSocket, GraphQL, gRPC, etc., is just a piece of cake using Ballerina. You focus on the business logic and let Ballerina focus on the network logic.","url":"https://ballerina.io/learn/by-example/kafka-service-consume-message/","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"public type Order readonly \u0026#x26; record {\n    int orderId;\n    string productName;\n    decimal price;\n    boolean isValid;\n};\n\nlistener kafka:Listener orderListener = new (kafka:DEFAULT_URL, {\n    groupId: \u0026#x22;order-group-id\u0026#x22;,\n    topics: \u0026#x22;order-topic\u0026#x22;\n});\n\nservice on orderListener {\n\n    remote function onConsumerRecord(Order[] orders) returns error? {\n        // The set of orders received by the service are processed one by one.\n        check from Order \u0026#x27;order in orders\n            where \u0026#x27;order.isValid\n            do {\n                log:printInfo(string \u0026#x60;Received valid order for ${\u0026#x27;order.productName}\u0026#x60;);\n            };\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003epublic\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e type\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e Order\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e readonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e record\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e orderId;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e productName;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    decimal\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e price;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e    boolean\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e isValid;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e};\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003elistener\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e kafka\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eListener orderListener \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ekafka\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eDEFAULT_URL, {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    groupId\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"order-group-id\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    topics\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"order-topic\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e});\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e orderListener {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onConsumerRecord\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eOrder\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e[] \u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eorders\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // The set of orders received by the service are processed one by one.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        check\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e from\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e Order 'order \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ein\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e orders\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            where\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e 'order.isValid\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e            do\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e                log\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintInfo\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `Received valid order for ${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e'order\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e.\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eproductName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            };\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"proto":{"frontmatter":{"title":"","description":"","url":"","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"message Rectangle {\n  Point lo = 1;\n  Point hi = 2;\n}\n\nmessage Feature {\n  string name = 1;\n  Point location = 2;\n}\n\nmessage Point {\n  int32 latitude = 1;\n  int32 longitude = 2;\n}\n\nservice RouteGuide {\n  rpc ListFeatures(Rectangle) returns (stream Feature) {}\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003emessage Rectangle {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e  Point lo \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 1\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e  Point hi \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003emessage Feature {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e  string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e name \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 1\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e  Point location \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003emessage Point {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e  int32 latitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 1\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e  int32 longitude \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e 2\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e RouteGuide {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e  rpc \u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eListFeatures\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003eRectangle\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e (\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003estream\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e Feature\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"webhook_with_websub":{"frontmatter":{"title":"WebHooks with WebSub","description":"Ballerina combines HTTP and event-driven development leveraging the power of the HTTP ecosystem with WebSub for constructing event-driven applications effortlessly.","url":"https://ballerina.io/learn/by-example/websub-webhook-sample/","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"@websub:SubscriberServiceConfig {\n    target: [\n        \u0026#x22;https://api.github.com/hub\u0026#x22;, \n        \u0026#x22;https://github.com/\u003cYOUR_ORGANIZATION\u003e/\u003cREPOSITORY\u003e/events/push.json\u0026#x22;\n    ],\n    secret: \u0026#x22;\u003cYOUR_SECRET_KEY\u003e\u0026#x22;,\n    httpConfig: {\n        auth: {\n            token: \u0026#x22;\u003cYOUR_AUTH_TOKEN\u003e\u0026#x22;\n        }\n    }\n}\nservice on new websub:Listener(9090) {\n    remote function onEventNotification(websub:ContentDistributionMessage event) returns error? {\n\n        // Get the expected json payload\n        json retrievedContent = check event.content.ensureType();\n\n        // Handle the new event\n        if retrievedContent.zen is string {\n            int hookId = check retrievedContent.hook_id;\n            io:println(string \u0026#x60;PingEvent received for webhook [${hookId}]\u0026#x60;);\n        } else if retrievedContent.ref is string {\n            string repositoryName = check retrievedContent.repository.name;\n            io:println(string \u0026#x60;PushEvent received for [${repositoryName}]\u0026#x60;);\n        }\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e@\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003ewebsub\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003eSubscriberServiceConfig\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    target\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e [\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62\"\u003e        \"https://api.github.com/hub\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62\"\u003e        \"https://github.com/\u0026#x3C;YOUR_ORGANIZATION\u003e/\u0026#x3C;REPOSITORY\u003e/events/push.json\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    ],\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    secret\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"\u0026#x3C;YOUR_SECRET_KEY\u003e\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e,\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    httpConfig\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        auth\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            token\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"\u0026#x3C;YOUR_AUTH_TOKEN\u003e\"\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websub:Listener(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e9090\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onEventNotification\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ewebsub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eContentDistributionMessage event) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Get the expected json payload\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        json\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e retrievedContent \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e event.content.\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eensureType\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e();\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Handle the new event\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e retrievedContent.zen \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e            int\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e hookId \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e retrievedContent.hook_id;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            io\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintln\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `PingEvent received for webhook [${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003ehookId\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}]`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        } \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eelse\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e if\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e retrievedContent.ref \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003eis\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e            string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e repositoryName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e retrievedContent.repository.name;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e            io\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintln\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e `PushEvent received for [${\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003erepositoryName\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e}]`\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"webhook_with_websub_hub":{"frontmatter":{"title":"WebHooks with WebSub","description":"Ballerina combines HTTP and event-driven development leveraging the power of the HTTP ecosystem with WebSub for constructing event-driven applications effortlessly.","url":"https://github.com/ballerina-platform/module-ballerina-websubhub/tree/main/examples/kafka-hub","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"service /hub on new websubhub:Listener(9000) {\n\n    remote function onRegisterTopic(readonly \u0026#x26; websubhub:TopicRegistration message)\n                returns websubhub:TopicRegistrationSuccess|websubhub:TopicRegistrationError {\n        // Add your logic here\n        return websubhub:TOPIC_REGISTRATION_SUCCESS;\n    }\n\n    remote function onDeregisterTopic(readonly \u0026#x26; websubhub:TopicDeregistration message)\n                returns websubhub:TopicDeregistrationSuccess|websubhub:TopicDeregistrationError {\n        // Add your logic here\n        return websubhub:TOPIC_DEREGISTRATION_SUCCESS;\n    }\n\n    remote function onUpdateMessage(readonly \u0026#x26; websubhub:UpdateMessage message)\n                returns websubhub:Acknowledgement|websubhub:UpdateMessageError {\n        // Add your logic here\n        return websubhub:ACKNOWLEDGEMENT;\n    }\n\n    remote function onSubscriptionValidation(readonly \u0026#x26; websubhub:Subscription message)\n                returns websubhub:SubscriptionDeniedError? {\n        // Add your logic here\n    }\n\n    remote function onSubscriptionIntentVerified(readonly \u0026#x26; websubhub:VerifiedSubscription message)\n                returns error? {\n        // Add your logic here\n    }\n\n    remote function onUnsubscriptionValidation(readonly \u0026#x26; websubhub:Unsubscription message)\n                returns websubhub:UnsubscriptionDeniedError? {\n        // Add your logic here\n    }\n\n    remote function onUnsubscriptionIntentVerified(\n                readonly \u0026#x26; websubhub:VerifiedUnsubscription message) returns error? {\n        // Add your logic here\n    } \n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e /hub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub:Listener(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e9000\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onRegisterTopic\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eTopicRegistration message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                returns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eTopicRegistrationSuccess\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003ewebsubhub:TopicRegistrationError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eTOPIC_REGISTRATION_SUCCESS;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onDeregisterTopic\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eTopicDeregistration message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                returns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eTopicDeregistrationSuccess\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003ewebsubhub:TopicDeregistrationError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eTOPIC_DEREGISTRATION_SUCCESS;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onUpdateMessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eUpdateMessage message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                returns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eAcknowledgement\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003ewebsubhub:UpdateMessageError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eACKNOWLEDGEMENT;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onSubscriptionValidation\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSubscription message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                returns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eSubscriptionDeniedError? {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onSubscriptionIntentVerified\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eVerifiedSubscription message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                returns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onUnsubscriptionValidation\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereadonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eUnsubscription message)\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                returns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eUnsubscriptionDeniedError? {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onUnsubscriptionIntentVerified\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                readonly\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e \u0026#x26;\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e websubhub\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eVerifiedUnsubscription message) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e        // Add your logic here\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    } \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"},"websocket":{"frontmatter":{"title":"WebSocket, TCP socket for the web","description":"WebSocket is an excellent choice for message transmission particularly on the web. With Ballerina, you have not only the capability to utilize a WebSocket as it is but also the flexibility to develop custom subprotocols that align with your organization's specific requirements.","url":"https://github.com/ballerina-platform/module-ballerina-websocket/tree/main/examples/taxi-service-management","image":""},"code":"\u003cpre class=\"shiki github-light\" style=\"background-color:#fff;color:#24292e\" tabindex=\"0\"\u003e\u003ccode\u003e\u003cbutton type=\"button\" title=\"Copy\" aria-label=\"Copy\" data=\"// This service is for drivers to register and send locations.\nservice /taxi on taxiMgtListener {\n    resource isolated function get [string name]() \n                        returns websocket:Service|websocket:UpgradeError {\n        return new DriverService(name);\n    }\n}\n\nisolated service class DriverService {\n    *websocket:Service;\n\n    final string driverName;\n\n    public isolated function init(string username) {\n        self.driverName = username;\n    }\n\n    remote isolated function onOpen(websocket:Caller caller) returns websocket:Error? {\n        string welcomeMsg = \n                \u0026#x22;Hi \u0026#x22; + self.driverName + \u0026#x22;! Your location will be shared with the riders\u0026#x22;;\n        check caller-\u003ewriteMessage(welcomeMsg);\n        \n        broadcast(\u0026#x22;Driver \u0026#x22; + self.driverName + \u0026#x22; ready for a ride\u0026#x22;);\n    }\n\n    // \u0026#x27;onMessage\u0026#x27; remote function will receive the location updates from drivers.\n    remote function onMessage(websocket:Caller caller, string location) returns websocket:Error? {\n        worker broadcast returns error? {\n            // Broadcast the live locations to registered riders.\n            string locationUpdateMsg = self.driverName + \u0026#x22; updated the location \u0026#x22; + location;\n            broadcast(locationUpdateMsg);\n        }\n    }\n\n    remote isolated function onClose(websocket:Caller caller, int statusCode, string reason) {\n        io:println(self.driverName + \u0026#x22; got disconnected\u0026#x22;);\n    }\n}\" class=\"rehype-pretty-copy\" onclick=\"navigator.clipboard.writeText(this.attributes.data.value);this.classList.add(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copied\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copied\u0026#x27;);window.setTimeout(() =\u003e {this.classList.remove(\u0026#x27;rehype-pretty-copied\u0026#x27;);this.setAttribute(\u0026#x27;title\u0026#x27;, \u0026#x27;Copy\u0026#x27;);this.setAttribute(\u0026#x27;aria-label\u0026#x27;, \u0026#x27;Copy\u0026#x27;);}, 3000);\"\u003e\u003cspan class=\"ready\"\u003e\u003c/span\u003e\u003cspan class=\"success\"\u003e\u003c/span\u003e\u003c/button\u003e\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e// This service is for drivers to register and send locations.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eservice\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e /taxi\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e on\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e taxiMgtListener {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    resource\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e isolated\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e get\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e [\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e name\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e]() \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e                        returns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eService\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e|\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003ewebsocket:UpgradeError {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        return\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e new\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e DriverService\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ename\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003eisolated\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e service class\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e DriverService\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    *\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eService;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    final\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e driverName;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    public\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e isolated\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e init\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e username\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        self\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e.driverName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e username;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e isolated\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onOpen\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eCaller caller) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e        string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e welcomeMsg \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#032F62\"\u003e                \"Hi \"\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e +\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e self\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e.driverName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \"! Your location will be shared with the riders\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        check\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e caller\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e-\u003e\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003ewriteMessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ewelcomeMsg\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        \u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1\"\u003e        broadcast\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e\"Driver \"\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e +\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e self\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e.driverName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \" ready for a ride\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e    // 'onMessage' remote function will receive the location updates from drivers.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onMessage\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e location\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e websocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eError? {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e        worker\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e broadcast \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003ereturns\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e error?\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6A737D\"\u003e            // Broadcast the live locations to registered riders.\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#005CC5\"\u003e            string\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e locationUpdateMsg \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e=\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003e self\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e.driverName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \" updated the location \"\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e +\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e location;\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#6F42C1\"\u003e            broadcast\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003elocationUpdateMsg\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#D73A49\"\u003e    remote\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e isolated\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e function\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003e onClose\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003ewebsocket\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003eCaller caller, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003eint\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e statusCode\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e, \u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003estring\u003c/span\u003e\u003cspan style=\"color:#E36209\"\u003e reason\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e) {\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e        io\u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e:\u003c/span\u003e\u003cspan style=\"color:#6F42C1\"\u003eprintln\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e(\u003c/span\u003e\u003cspan style=\"color:#005CC5\"\u003eself\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e.driverName \u003c/span\u003e\u003cspan style=\"color:#D73A49\"\u003e+\u003c/span\u003e\u003cspan style=\"color:#032F62\"\u003e \" got disconnected\"\u003c/span\u003e\u003cspan style=\"color:#24292E\"\u003e);\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e    }\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"line\"\u003e\u003cspan style=\"color:#24292E\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003cstyle\u003e:root {--copy-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 448 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg' style='float: right;'%3E%3Ctitle%3ECopy%3C/title%3E%3Cpath d='M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z'%3E%3C/path%3E%3C/svg%3E\");--success-icon: url(\"data:image/svg+xml,%3Csvg stroke='currentColor' fill='currentColor' stroke-width='0' viewBox='0 0 512 512' height='1em' width='1em' xmlns='http://www.w3.org/2000/svg'%3E%3Ctitle%3ECopied%3C/title%3E%3Cpath d='M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z'%3E%3C/path%3E%3C/svg%3E\");}pre:has(code) {position: relative;}pre button.rehype-pretty-copy {background-color: transparent;border: none;right: 1px;padding: 0;width: 16px;height: 16px;display: flex;margin-top: -20px;margin-right: 8px;position: absolute;backdrop-filter: blur(3px);\u0026 span {width: 100%;aspect-ratio: 1 / 1;}\u0026 .ready {background-image: var(--copy-icon);}\u0026 .success {display: none; background-image: var(--success-icon);}}.Code_codeSnippet__ayQ3y button.rehype-pretty-copy {margin-top: -10px;}\u0026.rehype-pretty-copied {\u0026 .success {display: block;} \u0026 .ready {display: none;}}pre button.rehype-pretty-copy.rehype-pretty-copied {opacity: 1;\u0026 .ready { display: none; }\u0026 .success { display: block; }}\u003c/style\u003e\u003c/code\u003e\u003c/pre\u003e"}}},"__N_SSG":true},"page":"/use-cases/eda","query":{},"buildId":"mFXK3qnr1L96w8AvMdJtr","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>