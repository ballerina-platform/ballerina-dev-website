<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="description" content="Concurrency in Ballerina is enabled by strands, which are lightweight threads."/><meta name="keywords" content="ballerina, ballerina platform, concurrency, workers, strands, threads, lightweight threads"/><title>Concurrent</title><meta property="og:type" content="article"/><meta property="og:title" content="Ballerina - Concurrent"/><meta property="og:description" content="Concurrency in Ballerina is enabled by strands, which are lightweight threads."/><meta property="og:description" content="Concurrency in Ballerina is enabled by strands, which are lightweight threads."/><meta name="twitter:title" content="Ballerina - Concurrent"/><meta property="twitter:description" content="Concurrency in Ballerina is enabled by strands, which are lightweight threads."/><meta property="twitter:text:description" content="Concurrency in Ballerina is enabled by strands, which are lightweight threads."/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="og:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta name="twitter:site" content="@ballerinalang"/><meta name="twitter:creator" content="@ballerinalang"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><meta property="twitter:image" content="https://ballerina.io/images/ballerina-generic-social-media-image-2023.png"/><script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.setAttributeNode(d.createAttribute('data-ot-ignore'));j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-PSL2TX4');</script><script type="text/javascript" crossorigin="true" src="https://cdn.jsdelivr.net/npm/@docsearch/js@alpha"></script><script src="https://cookie-cdn.cookiepro.com/scripttemplates/otSDKStub.js" type="text/javascript" charSet="UTF-8" data-domain-script="630ad396-5fd5-4745-92ae-2765dc8841ee" defer=""></script><meta name="next-head-count" content="22"/><meta charSet="utf-8"/><meta name="author" content="WSO2 LLC"/><link rel="shortcut icon" href="/images/favicon.ico"/><link rel="stylesheet" href="/css/roboto.css"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><link rel="stylesheet" href="/css/ballerina-search-button.css"/><link rel="stylesheet" href="/css/ballerina-search-modal.css"/><link rel="stylesheet" href="/css/ballerina-search-variables.css"/><link rel="stylesheet" href="/css/ballerina-search-style.css"/><link rel="preload" href="/_next/static/css/09d984e0a068682c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/09d984e0a068682c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/84e68ef91fe14fb0.css" as="style"/><link rel="stylesheet" href="/_next/static/css/84e68ef91fe14fb0.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-e16c133a1f08f55f.js" defer=""></script><script src="/_next/static/chunks/framework-a070cbfff3c750c5.js" defer=""></script><script src="/_next/static/chunks/main-a66eb456a358e5ca.js" defer=""></script><script src="/_next/static/chunks/pages/_app-dd55adbd3efd9c19.js" defer=""></script><script src="/_next/static/chunks/9733-caeb053dcf01b5fd.js" defer=""></script><script src="/_next/static/chunks/6599-9963ddbd9dc78df5.js" defer=""></script><script src="/_next/static/chunks/2788-7f829084e4503c21.js" defer=""></script><script src="/_next/static/chunks/5607-2558859a3efb47ff.js" defer=""></script><script src="/_next/static/chunks/4862-0277ec1334e5346a.js" defer=""></script><script src="/_next/static/chunks/2092-643ce819261b95c6.js" defer=""></script><script src="/_next/static/chunks/4564-b3d10a8d1d741511.js" defer=""></script><script src="/_next/static/chunks/5795-c59bab88fcc5a40c.js" defer=""></script><script src="/_next/static/chunks/7635-92a87617cd798ced.js" defer=""></script><script src="/_next/static/chunks/3404-ae6eb8022820c4b0.js" defer=""></script><script src="/_next/static/chunks/pages/why-ballerina/%5B...slug%5D-99e7d798d8006cab.js" defer=""></script><script src="/_next/static/QIUpwhFtsZwHKXqyHGpt4/_buildManifest.js" defer=""></script><script src="/_next/static/QIUpwhFtsZwHKXqyHGpt4/_ssgManifest.js" defer=""></script><script src="/_next/static/QIUpwhFtsZwHKXqyHGpt4/_middlewareManifest.js" defer=""></script></head><body><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSL2TX4" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript><div id="__next" data-reactroot=""><div class="main-wrapper vstack gap-0"><div class="wrap-page-content container-fluid"><div class="row"><div class="leftNav d-none d-sm-block col-xxl-2 col-sm-3"><div class="LeftNav_leftNavAccordian__i9BmP accordion accordion-flush"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="why-ballerina" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="true" class="accordion-button">Why Ballerina</button></h2><div class="accordion-collapse collapse show"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="cloud-native" href="/why-ballerina/cloud-native">Cloud native</a></li><li><a id="flexibly-typed" href="/why-ballerina/flexibly-typed">Flexibly typed</a></li><li><a id="data-oriented" href="/why-ballerina/data-oriented">Data oriented</a></li><li><a id="graphical" href="/why-ballerina/graphical">Graphical</a></li><li><a id="concurrent" class="LeftNav_active__7vmPU" href="/why-ballerina/concurrent">Concurrent</a></li><li><a id="reliable-maintainable" href="/why-ballerina/reliable-maintainable">Reliable, maintainable</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="get-started" class="LeftNav_mainDir__aO30Y accordion-header"><button class="LeftNav_nonAcBtn__RvVTg">Get started</button></h2></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="learn-the-language" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Learn the language</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="language-basics" href="/learn/language-basics">Language basics</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="distinctive-language-features" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Distinctive language features</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="network-interaction" href="/learn/distinctive-language-features/network-interaction">Network interaction</a></li><li><a id="data" href="/learn/distinctive-language-features/data">Data</a></li><li><a id="concurrency" href="/learn/distinctive-language-features/concurrency">Concurrency </a></li><li><a id="advanced-general-purpose-language-features" href="/learn/distinctive-language-features/advanced-general-purpose-language-features">Advanced, general-purpose language features</a></li></div></ul></div></div></div><li><a id="language-walkthrough" href="/learn/language-walkthrough">Language walkthrough</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="featured-scenarios" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Featured scenarios</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><li><a id="write-a-restful-api-with-ballerina" href="/learn/write-a-restful-api-with-ballerina">Write a RESTful API with Ballerina</a></li><li><a id="write-a-grpc-service-with-ballerina" href="/learn/write-a-grpc-service-with-ballerina">Write a gRPC service with Ballerina</a></li><li><a id="write-a-graphql-api-with-ballerina" href="/learn/write-a-graphql-api-with-ballerina">Write a GraphQL API with Ballerina</a></li><li><a id="work-with-data-using-queries-in-ballerina" href="/learn/work-with-data-using-queries-in-ballerina">Work with data using queries in Ballerina</a></li><li><a id="build-a-data-service-in-ballerina" href="/learn/build-a-data-service-in-ballerina">Build a data service in Ballerina </a></li><li><a id="deploy-ballerina-on-kubernetes" href="/learn/deploy-ballerina-on-kubernetes">Deploy Ballerina on Kubernetes</a></li><li><a id="manage-data-persistence-with-bal-persist" href="/learn/manage-data-persistence-with-bal-persist">Manage data persistence with bal persist</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="learn-the-platform" class="LeftNav_mainDir__aO30Y accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Learn the platform</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_accordionBody__mzk_B accordion-body"><ul class="LeftNav_firstTier__KPVX9"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="source-code-dependencies" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Source code &amp; dependencies</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="organize-ballerina-code" href="/learn/organize-ballerina-code">Organize Ballerina code</a></li><li><a id="package-references" href="/learn/package-references">Package references</a></li><li><a id="manage-dependencies" href="/learn/manage-dependencies">Manage dependencies</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="style-guide" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Style guide</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="coding-conventions" href="/learn/style-guide/coding-conventions">Coding conventions</a></li><li><a id="top-level-definitions" href="/learn/style-guide/top-level-definitions">Top-level definitions</a></li><li><a id="operators-keywords-and-types" href="/learn/style-guide/operators-keywords-and-types">Operators, keywords, and types</a></li><li><a id="statements" href="/learn/style-guide/statements">Statements</a></li><li><a id="expressions" href="/learn/style-guide/expressions">Expressions</a></li><li><a id="annotations-documentation-and-comments" href="/learn/style-guide/annotations-documentation-and-comments">Annotations, documentation and comments</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="test-document-the-code" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Test, debug &amp; document the code</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="test-ballerina-code" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Test Ballerina code</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="test-a-simple-function" href="/learn/test-ballerina-code/test-a-simple-function">Test a simple function</a></li><li><a id="write-tests" href="/learn/test-ballerina-code/write-tests">Write tests</a></li><li><a id="structure-tests" href="/learn/test-ballerina-code/structure-tests">Structure tests</a></li><li><a id="configure-tests" href="/learn/test-ballerina-code/configure-tests">Configure tests</a></li><li><a id="code-coverage-and-reporting" href="/learn/test-ballerina-code/code-coverage-and-reporting">Code coverage and reporting</a></li><li><a id="define-data-driven-tests" href="/learn/test-ballerina-code/define-data-driven-tests">Define data-driven tests</a></li><li><a id="define-test-groups" href="/learn/test-ballerina-code/define-test-groups">Define test groups</a></li><li><a id="test-services-and-clients" href="/learn/test-ballerina-code/test-services-and-clients">Test services and clients</a></li><li><a id="mocking" href="/learn/test-ballerina-code/mocking">Mocking</a></li><li><a id="execute-tests" href="/learn/test-ballerina-code/execute-tests">Execute tests</a></li></div></ul></div></div></div><li><a id="debug-ballerina-programs" href="/learn/debug-ballerina-programs">Debug Ballerina programs</a></li><li><a id="generate-code-documentation" href="/learn/generate-code-documentation">Generate code documentation</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="run-in-the-cloud" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Run in the cloud</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="code-to-cloud" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Code to Cloud</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="code-to-cloud-deployment" href="/learn/run-in-the-cloud/code-to-cloud/code-to-cloud-deployment">Code to Cloud deployment</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="function-as-a-service" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Function as a service</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="aws-lambda" href="/learn/run-in-the-cloud/function-as-a-service/aws-lambda">AWS Lambda</a></li><li><a id="azure-functions" href="/learn/run-in-the-cloud/function-as-a-service/azure-functions">Azure Functions</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="configure-observe" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Configure &amp; observe</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="configure-ballerina-programs" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Configure Ballerina programs</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="configure-a-sample-ballerina-service" href="/learn/configure-ballerina-programs/configure-a-sample-ballerina-service">Configure a sample Ballerina service</a></li><li><a id="provide-values-to-configurable-variables" href="/learn/configure-ballerina-programs/provide-values-to-configurable-variables">Provide values to configurable variables</a></li><li><a id="configure-values" href="/learn/configure-ballerina-programs/configure-values">Configure values </a></li></div></ul></div></div></div><li><a id="observe-ballerina-programs" href="/learn/observe-ballerina-programs">Observe Ballerina Programs</a></li></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="java-interoperability" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Java interoperability</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="call-java-code-from-ballerina" href="/learn/call-java-code-from-ballerina">Call Java code from Ballerina</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="java-interoperability-guide" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Java interoperability guide</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="java-interoperability" href="/learn/java-interoperability-guide/java-interoperability">Java interoperability</a></li><li><a id="the-bindgen-tool" href="/learn/java-interoperability-guide/the-bindgen-tool">The Bindgen Tool</a></li><li><a id="ballerina-ffi" href="/learn/java-interoperability-guide/ballerina-ffi">Ballerina FFI</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="ballerina-tooling" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Ballerina tooling</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="ballerina-shell" href="/learn/ballerina-shell">Ballerina Shell</a></li><li><a id="openapi-tool" href="/learn/openapi-tool">OpenAPI tool</a></li><li><a id="graphql-tool" href="/learn/graphql-tool">GraphQL tool</a></li><li><a id="asyncapi-tool" href="/learn/asyncapi-tool">AsyncAPI tool</a></li><li><a id="strand-dump-tool" href="/learn/strand-dump-tool">Strand dump tool</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="cli-documentation" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">CLI documentation</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="cli-commands" href="/learn/cli-documentation/cli-commands">CLI commands</a></li><li><a id="update-tool" href="/learn/cli-documentation/update-tool">Update Tool</a></li><li><a id="grpc" href="/learn/cli-documentation/grpc">gRPC/Protocol Buffers</a></li><li><a id="openapi" href="/learn/cli-documentation/openapi">OpenAPI </a></li><li><a id="graphql" href="/learn/cli-documentation/graphql">GraphQL</a></li><li><a id="asyncapi" href="/learn/cli-documentation/asyncapi">AsyncAPI</a></li></div></ul></div></div></div></div></ul></div></div></div><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="ballerina-persist" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Bal persist</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="bal-persist-overview" href="/learn/bal-persist-overview">Overview</a></li><li><a id="persist-model" href="/learn/persist-model">Data model</a></li><li><a id="persist-cli-tool" href="/learn/persist-cli-tool">CLI tool</a></li><li><a id="persist-client-api" href="/learn/persist-client-api">Type-safe client API</a></li><li><a id="supported-data-stores" href="/learn/supported-data-stores">Supported data stores</a></li></div></ul></div></div></div><li><a id="publish-packages-to-ballerina-central" href="/learn/publish-packages-to-ballerina-central">Publish packages to Ballerina Central</a></li><li><a id="ballerina-specifications" href="/learn/ballerina-specifications">Ballerina specifications</a></li><div class="LeftNav_acItem__wMNuO accordion-item"><h2 item-id="graalvm-executable" class="accordion-header"><button type="button" aria-expanded="false" class="accordion-button collapsed">Build a GraalVM executable</button></h2><div class="accordion-collapse collapse"><div class="LeftNav_acBody__r7jSH accordion-body"><ul class="LeftNav_secondTier__nZWOX"><div class="accordion"><li><a id="graalvm-executable-overview" href="/learn/graalvm-executable-overview">GraalVM executable overview</a></li><li><a id="build-the-executable-in-a-container" href="/learn/build-the-executable-in-a-container">Build the executable in a container</a></li><li><a id="build-the-executable-locally" href="/learn/build-the-executable-locally/">Build the executable locally</a></li></div></ul></div></div></div></div></ul></div></div></div></div></div><div class="d-block d-sm-none col-12"><button type="button" class="learnMob btn btn-primary">Why Ballerina</button></div><div class="mdContent col-xxl-7 col-sm-7 col-12"><div class="container"><div class="topRow"><div class="col-11"><h1>Concurrent</h1></div><div class="gitIcon col-1"><a href="https://github.com/ballerina-platform/ballerina-dev-website/blob/master/swan-lake/why-ballerina/concurrent.md" target="_blank" rel="noreferrer" title="Edit in GitHub"></a></div></div><p class="intro">Concurrency in Ballerina is enabled by strands, which are lightweight threads.</p><p>Ballerina&#x27;s concurrency model supports both threads and coroutines and has been designed to have a close correspondence with sequence diagrams.</p>
<p>A Ballerina program is executed on one or more threads. A thread can consist of one or more strands, which are language-managed, logical threads of control. Only one strand of a particular thread can run at a time. The strands belonging to a single thread are cooperatively multitasked. Therefore, strands of a single thread behave as coroutines relative to each other.</p>
<p>Strands enable cooperative multitasking by &quot;yielding&quot;. The runtime scheduler may switch the execution of a strand only when it yields via a <code>wait</code> action, a worker receive action, a library function resulting in a blocking call, etc.</p>
<p>A strand is created due to the execution of either a named worker declaration or <code>start</code> action.</p>
<p>Concurrent operations in a function can be defined by multiple named workers. A function has a default worker and may additionally contain named workers. A worker executes concurrently with the other workers (function worker and named workers) in the function.</p>
<pre><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/io;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Person</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> name;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">boolean</span><span style="color: #24292E"> employed;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">process</span><span style="color: #24292E">(</span><span style="color: #E36209">Person</span><span style="color: #24292E">[] </span><span style="color: #E36209">members</span><span style="color: #24292E">, </span><span style="color: #005CC5">int</span><span style="color: #24292E">[] </span><span style="color: #E36209">quantities</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">worker</span><span style="color: #24292E"> w1 {</span></span>
<span class="line"><span style="color: #24292E">        Person[] employedMembers </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">from</span><span style="color: #24292E"> Person p </span><span style="color: #D73A49">in</span><span style="color: #24292E"> members</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">where</span><span style="color: #24292E"> p.employed</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">select</span><span style="color: #24292E"> p;</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> count </span><span style="color: #D73A49">=</span><span style="color: #24292E"> employedMembers.</span><span style="color: #6F42C1">length</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">        count </span><span style="color: #D73A49">-&gt;</span><span style="color: #24292E"> w2;</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #032F62">`Employed Members: ${</span><span style="color: #24292E">count</span><span style="color: #032F62">}`</span><span style="color: #24292E"> </span><span style="color: #D73A49">-&gt;</span><span style="color: #24292E"> function;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">worker</span><span style="color: #24292E"> w2 {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> total </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">sum</span><span style="color: #24292E">(...</span><span style="color: #E36209">quantities</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> employedCount </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;-</span><span style="color: #24292E"> w1;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> avg </span><span style="color: #D73A49">=</span><span style="color: #24292E"> employedCount </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">?</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">:</span><span style="color: #24292E"> total / employedCount;</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #032F62">`Average: ${</span><span style="color: #24292E">avg</span><span style="color: #032F62">}`</span><span style="color: #24292E"> </span><span style="color: #D73A49">-&gt;</span><span style="color: #24292E"> function;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> x </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;-</span><span style="color: #24292E"> w1;</span></span>
<span class="line"><span style="color: #24292E">    io</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">println</span><span style="color: #24292E">(</span><span style="color: #E36209">x</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> y </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;-</span><span style="color: #24292E"> w2;</span></span>
<span class="line"><span style="color: #24292E">    io</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">println</span><span style="color: #24292E">(</span><span style="color: #E36209">y</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></pre>
<p>Worker message passing (via Ballerina’s <code>send (-&gt;)</code> and <code>receive (&lt;-)</code> actions) is used for communication between workers. The compiler also explicitly verifies that the <code>send</code> and <code>receive</code> actions are in a consistent state to avoid any deadlock scenarios at runtime.</p>
<p>A strand in Ballerina runs on a separate thread if it is safe. The isolated feature is used to identify such cases.
A call to an isolated function is concurrency-safe if it is called with arguments that are safe at least until the
call returns. The strand created in a <code>start</code> action for an isolated function may run on a separate thread. The strand
of a named worker may run on a separate thread from the default worker if the function is isolated.</p>
<pre><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">import</span><span style="color: #24292E"> ballerina/io;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Person</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> name;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">boolean</span><span style="color: #24292E"> employed;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">isolated</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">process</span><span style="color: #24292E">(</span><span style="color: #E36209">Person</span><span style="color: #24292E">[] </span><span style="color: #D73A49">&amp;</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly</span><span style="color: #24292E"> </span><span style="color: #E36209">members</span><span style="color: #24292E">, </span><span style="color: #005CC5">int</span><span style="color: #24292E">[] </span><span style="color: #D73A49">&amp;</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly</span><span style="color: #24292E"> </span><span style="color: #E36209">quantities</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">worker</span><span style="color: #24292E"> w1 {</span></span>
<span class="line"><span style="color: #24292E">        Person[] employedMembers </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">from</span><span style="color: #24292E"> Person p </span><span style="color: #D73A49">in</span><span style="color: #24292E"> members</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">where</span><span style="color: #24292E"> p.employed</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #D73A49">select</span><span style="color: #24292E"> p;</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #005CC5">int</span><span style="color: #24292E"> count </span><span style="color: #D73A49">=</span><span style="color: #24292E"> employedMembers.</span><span style="color: #6F42C1">length</span><span style="color: #24292E">();</span></span>
<span class="line"><span style="color: #24292E">        count </span><span style="color: #D73A49">-&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E">;</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> totalMemberCount </span><span style="color: #D73A49">=</span><span style="color: #24292E"> members.</span><span style="color: #6F42C1">length</span><span style="color: #24292E">();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> memberCount </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">&lt;-</span><span style="color: #24292E"> w1;</span></span>
<span class="line"><span style="color: #24292E">    io</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">println</span><span style="color: #24292E">(</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #032F62">`Employed Members: ${</span><span style="color: #24292E">memberCount</span><span style="color: #032F62">}`</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">future&lt;</span><span style="color: #005CC5">int</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> avgFuture </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">start</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get_average</span><span style="color: #24292E">(</span><span style="color: #E36209">quantities</span><span style="color: #24292E">, </span><span style="color: #E36209">memberCount</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> unemployedCount </span><span style="color: #D73A49">=</span><span style="color: #24292E"> totalMemberCount </span><span style="color: #D73A49">-</span><span style="color: #24292E"> memberCount;</span></span>
<span class="line"><span style="color: #24292E">    io</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">println</span><span style="color: #24292E">(</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #032F62">`Unemployed Members: ${</span><span style="color: #24292E">unemployedCount</span><span style="color: #032F62">}`</span><span style="color: #24292E">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> avg </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #D73A49">checkpanic</span><span style="color: #24292E"> </span><span style="color: #D73A49">wait</span><span style="color: #24292E"> avgFuture;</span></span>
<span class="line"><span style="color: #24292E">    io</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">println</span><span style="color: #24292E">(</span><span style="color: #005CC5">string</span><span style="color: #24292E"> </span><span style="color: #032F62">`Average: ${</span><span style="color: #24292E">avg</span><span style="color: #032F62">}`</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">isolated</span><span style="color: #24292E"> </span><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">get_average</span><span style="color: #24292E">(</span><span style="color: #005CC5">int</span><span style="color: #24292E">[] </span><span style="color: #D73A49">&amp;</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly</span><span style="color: #24292E"> </span><span style="color: #E36209">quantities</span><span style="color: #24292E">, </span><span style="color: #005CC5">int</span><span style="color: #24292E"> </span><span style="color: #E36209">employedCount</span><span style="color: #24292E">) </span><span style="color: #D73A49">returns</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> total </span><span style="color: #D73A49">=</span><span style="color: #24292E"> </span><span style="color: #005CC5">int</span><span style="color: #D73A49">:</span><span style="color: #6F42C1">sum</span><span style="color: #24292E">(...</span><span style="color: #E36209">quantities</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> avg </span><span style="color: #D73A49">=</span><span style="color: #24292E"> employedCount </span><span style="color: #D73A49">==</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">?</span><span style="color: #24292E"> </span><span style="color: #005CC5">0</span><span style="color: #24292E"> </span><span style="color: #D73A49">:</span><span style="color: #24292E"> total / employedCount;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">return</span><span style="color: #24292E"> avg;</span></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></pre>
<p>Concurrency in Ballerina works well with sequence diagrams. A function can be viewed as a sequence diagram. Each worker is represented by a separate lifeline (vertical line).</p>
<p>Immutability in the type system can be leveraged to write reliable concurrent programs. Immutability in Ballerina is deep guaranteeing that an immutable structure will always have only immutable values. Therefore, an immutable value can be safely accessed concurrently without using a lock statement.</p>
<pre><div><pre class="shiki github-light" style="background-color: #fff" tabindex="0"><code><span class="line"><span style="color: #D73A49">type</span><span style="color: #24292E"> </span><span style="color: #6F42C1">Details</span><span style="color: #24292E"> </span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">int</span><span style="color: #24292E"> id;</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E"> location?;</span></span>
<span class="line"><span style="color: #D73A49">|</span><span style="color: #24292E">};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">process</span><span style="color: #24292E">(</span><span style="color: #D73A49">map&lt;</span><span style="color: #E36209">Details</span><span style="color: #D73A49">&gt;</span><span style="color: #24292E"> </span><span style="color: #D73A49">&amp;</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly</span><span style="color: #24292E"> </span><span style="color: #E36209">entities</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E">[] detailsWithLocation </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [];</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #005CC5">string</span><span style="color: #24292E">[] detailsWithoutLocation </span><span style="color: #D73A49">=</span><span style="color: #24292E"> [];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">foreach </span><span style="color: #005CC5">var</span><span style="color: #24292E"> [name, details] </span><span style="color: #D73A49">in</span><span style="color: #24292E"> entities.</span><span style="color: #6F42C1">entries</span><span style="color: #24292E">() {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">if</span><span style="color: #24292E"> details.</span><span style="color: #6F42C1">hasKey</span><span style="color: #24292E">(</span><span style="color: #032F62">&quot;location&quot;</span><span style="color: #24292E">) {</span></span>
<span class="line"><span style="color: #24292E">            detailsWithLocation.</span><span style="color: #6F42C1">push</span><span style="color: #24292E">(</span><span style="color: #E36209">name</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">        } </span><span style="color: #D73A49">else</span><span style="color: #24292E"> {</span></span>
<span class="line"><span style="color: #24292E">            detailsWithoutLocation.</span><span style="color: #6F42C1">push</span><span style="color: #24292E">(</span><span style="color: #E36209">name</span><span style="color: #24292E">);</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D">// The casts within the workers are safe because the lists were created</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D">// based on an immutable map and is therefore guaranteed to have the </span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #6A737D">// exact same entries with the exact same fields.</span></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">worker</span><span style="color: #24292E"> w1 {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">foreach </span><span style="color: #005CC5">var</span><span style="color: #24292E"> name </span><span style="color: #D73A49">in</span><span style="color: #24292E"> detailsWithoutLocation {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #6F42C1">persistId</span><span style="color: #24292E">(</span><span style="color: #D73A49">&lt;</span><span style="color: #E36209">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span><span style="color: #005CC5">int</span><span style="color: #24292E"> id;</span><span style="color: #D73A49">|</span><span style="color: #24292E">} </span><span style="color: #D73A49">&amp;</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly&gt;</span><span style="color: #24292E">entities.</span><span style="color: #6F42C1">get</span><span style="color: #24292E">(</span><span style="color: #E36209">name</span><span style="color: #24292E">));</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">    </span><span style="color: #D73A49">worker</span><span style="color: #24292E"> w2 {</span></span>
<span class="line"><span style="color: #24292E">        </span><span style="color: #D73A49">foreach </span><span style="color: #005CC5">var</span><span style="color: #24292E"> name </span><span style="color: #D73A49">in</span><span style="color: #24292E"> detailsWithLocation {</span></span>
<span class="line"><span style="color: #24292E">            </span><span style="color: #6F42C1">persistIdWithLocation</span><span style="color: #24292E">(</span></span>
<span class="line"><span style="color: #24292E">                </span><span style="color: #D73A49">&lt;</span><span style="color: #E36209">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span><span style="color: #005CC5">int</span><span style="color: #24292E"> id; </span><span style="color: #005CC5">string</span><span style="color: #24292E"> location;</span><span style="color: #D73A49">|</span><span style="color: #24292E">} </span><span style="color: #D73A49">&amp;</span><span style="color: #24292E"> </span><span style="color: #D73A49">readonly&gt;</span><span style="color: #24292E">entities.</span><span style="color: #6F42C1">get</span><span style="color: #24292E">(</span><span style="color: #E36209">name</span><span style="color: #24292E">));</span></span>
<span class="line"><span style="color: #24292E">        }</span></span>
<span class="line"><span style="color: #24292E">    }</span></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">persistId</span><span style="color: #24292E">(</span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span><span style="color: #005CC5">int</span><span style="color: #24292E"> id;</span><span style="color: #D73A49">|</span><span style="color: #24292E">} </span><span style="color: #E36209">rec</span><span style="color: #24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D73A49">function</span><span style="color: #24292E"> </span><span style="color: #6F42C1">persistIdWithLocation</span><span style="color: #24292E">(</span><span style="color: #D73A49">record</span><span style="color: #24292E"> {</span><span style="color: #D73A49">|</span><span style="color: #005CC5">int</span><span style="color: #24292E"> id; </span><span style="color: #005CC5">string</span><span style="color: #24292E"> location;</span><span style="color: #D73A49">|</span><span style="color: #24292E">} </span><span style="color: #E36209">rec</span><span style="color: #24292E">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #24292E">}</span></span></code></pre></div></pre>
<style>
.cBallerinaTocContainer {
    display: none !important;
}
/*.cBalleinaBreadcrumbs li:nth-child(3) , .cBalleinaBreadcrumbs li:nth-child(2) {
   display:none !important;
}*/
</style></div></div><div class="pageToc d-none d-sm-block col-sm-2"></div></div></div><div class="Footer_stack__Y9iHo vstack gap-0"><div class="Footer_footer__gXdNn container"><div class="row"><div class="col-lg-6 col-md-6 col-sm-12 col-12"><div class="row"><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_socialMedia__99VpI"><div class="Footer_smIcons__HD9f7"><ul><li><a href="https://github.com/ballerina-platform" target="_blank" rel="noreferrer" title="GitHub"></a></li><li><a href="https://twitter.com/ballerinalang" target="_blank" rel="noreferrer" title="Twitter"></a></li><li><a href="https://discord.gg/ballerinalang" target="_blank" rel="noreferrer" title="Discord"></a></li><li><a href="https://stackoverflow.com/questions/tagged/ballerina" target="_blank" rel="noreferrer" title="Stackoverflow"></a></li><li><a href="https://www.youtube.com/c/Ballerinalang" target="_blank" rel="noreferrer" title="YouTube"></a></li><li><a href="https://www.linkedin.com/company/79080790" target="_blank" rel="noreferrer" title="LinkedIn"></a></li></ul></div></div><div class="Footer_footerLinks__M9jUM"><ul><li><a href="/downloads/">DOWNLOAD</a></li><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-platform/ballerina-lang/issues/new/choose">REPORT ISSUES</a></li></ul></div></div><div class="col-lg-6 col-md-12 col-sm-12 col-12"><div class="Footer_subscription__N96Xy"><div class="Footer_subscribe__6aRU2"><a href="/community/#subscribe-to-our-newsletter">Subscribe to our newsletter</a></div><div class="Footer_subscribe__6aRU2"><a class="Footer_subRss__E8gAT" href="https://blog.ballerina.io/feed.xml" target="_blank" rel="noreferrer">Subscribe via RSS</a></div></div></div></div></div><div class="Footer_inspire__ZAi5V col-lg-6 col-md-6 col-sm-12 col-12"><p>In the creation of Ballerina, we were inspired by many technologies. Thank you to all that have come before us (and forgive us if we missed one): Java, Go, C, C++, D, Rust, Haskell, Kotlin, Dart, TypeScript, JavaScript, Python, Perl, Flow, Swift, Elm, RelaxNG, NPM, Crates, Maven, Gradle, Kubernetes, Docker, Envoy, Markdown, GitHub, and WSO2.</p></div></div><div class="Footer_policyLinks__q3ge1 row"><div class="col-sm-2 col-12"><span class="footerLink">© 2018-2023 WSO2 LLC</span></div><div class="col-sm-10 col-12"><ul><li><a class="footerLink" target="_blank" rel="noreferrer" href="https://github.com/ballerina-lang/ballerina/blob/master/LICENSE">CODE LICENSE</a></li><li><a href="/license-of-site/">SITE LICENSE</a></li><li><a href="/terms-of-service/">TERMS OF SERVICE</a></li><li><a href="/privacy-policy/">PRIVACY POLICY</a></li><li><a href="/cookie-policy/">COOKIE POLICY</a></li><li><a href="/security-policy/">SECURITY POLICY</a></li><li><a href="/trademark-usage-policy/">TRADEMARK USAGE POLICY</a></li></ul></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"frontmatter":{"layout":"ballerina-why-ballerina-left-nav-pages-swanlake","title":"Concurrent","description":"Concurrency in Ballerina is enabled by strands, which are lightweight threads.","keywords":"ballerina, ballerina platform, concurrency, workers, strands, threads, lightweight threads","permalink":"/why-ballerina/concurrent/","active":"concurrent","intro":"Concurrency in Ballerina is enabled by strands, which are lightweight threads."},"content":"\nBallerina's concurrency model supports both threads and coroutines and has been designed to have a close correspondence with sequence diagrams.\n\nA Ballerina program is executed on one or more threads. A thread can consist of one or more strands, which are language-managed, logical threads of control. Only one strand of a particular thread can run at a time. The strands belonging to a single thread are cooperatively multitasked. Therefore, strands of a single thread behave as coroutines relative to each other.\n\nStrands enable cooperative multitasking by \"yielding\". The runtime scheduler may switch the execution of a strand only when it yields via a `wait` action, a worker receive action, a library function resulting in a blocking call, etc.\n\nA strand is created due to the execution of either a named worker declaration or `start` action.\n\nConcurrent operations in a function can be defined by multiple named workers. A function has a default worker and may additionally contain named workers. A worker executes concurrently with the other workers (function worker and named workers) in the function.\n\n```ballerina\nimport ballerina/io;\n\ntype Person record {|\n    string name;\n    boolean employed;\n|};\n\nfunction process(Person[] members, int[] quantities) {\n    worker w1 {\n        Person[] employedMembers = from Person p in members\n            where p.employed\n            select p;\n        int count = employedMembers.length();\n        count -\u003e w2;\n        string `Employed Members: ${count}` -\u003e function;\n    }\n\n    worker w2 {\n        int total = int:sum(...quantities);\n\n        int employedCount = \u003c- w1;\n\n        int avg = employedCount == 0 ? 0 : total / employedCount;\n        string `Average: ${avg}` -\u003e function;\n    }\n\n    string x = \u003c- w1;\n    io:println(x);\n\n    string y = \u003c- w2;\n    io:println(y);\n}\n```\n\nWorker message passing (via Ballerina’s `send (-\u003e)` and `receive (\u003c-)` actions) is used for communication between workers. The compiler also explicitly verifies that the `send` and `receive` actions are in a consistent state to avoid any deadlock scenarios at runtime.\n\nA strand in Ballerina runs on a separate thread if it is safe. The isolated feature is used to identify such cases. \nA call to an isolated function is concurrency-safe if it is called with arguments that are safe at least until the \ncall returns. The strand created in a `start` action for an isolated function may run on a separate thread. The strand \nof a named worker may run on a separate thread from the default worker if the function is isolated.\n\n```ballerina\nimport ballerina/io;\n\ntype Person record {|\n    string name;\n    boolean employed;\n|};\n\nisolated function process(Person[] \u0026 readonly members, int[] \u0026 readonly quantities) {\n    worker w1 {\n        Person[] employedMembers = from Person p in members\n            where p.employed\n            select p;\n        int count = employedMembers.length();\n        count -\u003e function;\n    }\n\n    int totalMemberCount = members.length();\n\n    int memberCount = \u003c- w1;\n    io:println(string `Employed Members: ${memberCount}`);\n\n    future\u003cint\u003e avgFuture = start get_average(quantities, memberCount);\n\n    int unemployedCount = totalMemberCount - memberCount;\n    io:println(string `Unemployed Members: ${unemployedCount}`);\n\n    int avg = checkpanic wait avgFuture;\n    io:println(string `Average: ${avg}`);\n}\n\nisolated function get_average(int[] \u0026 readonly quantities, int employedCount) returns int {\n    int total = int:sum(...quantities);\n    int avg = employedCount == 0 ? 0 : total / employedCount;\n    return avg;\n}\n```\n\nConcurrency in Ballerina works well with sequence diagrams. A function can be viewed as a sequence diagram. Each worker is represented by a separate lifeline (vertical line).\n\nImmutability in the type system can be leveraged to write reliable concurrent programs. Immutability in Ballerina is deep guaranteeing that an immutable structure will always have only immutable values. Therefore, an immutable value can be safely accessed concurrently without using a lock statement.\n\n```ballerina\ntype Details record {|\n    int id;\n    string location?;\n|};\n\nfunction process(map\u003cDetails\u003e \u0026 readonly entities) {\n    string[] detailsWithLocation = [];\n    string[] detailsWithoutLocation = [];\n\n    foreach var [name, details] in entities.entries() {\n        if details.hasKey(\"location\") {\n            detailsWithLocation.push(name);\n        } else {\n            detailsWithoutLocation.push(name);\n        }\n    }\n\n    // The casts within the workers are safe because the lists were created\n    // based on an immutable map and is therefore guaranteed to have the \n    // exact same entries with the exact same fields.\n    worker w1 {\n        foreach var name in detailsWithoutLocation {\n            persistId(\u003crecord {|int id;|} \u0026 readonly\u003eentities.get(name));\n        }\n    }\n\n    worker w2 {\n        foreach var name in detailsWithLocation {\n            persistIdWithLocation(\n                \u003crecord {|int id; string location;|} \u0026 readonly\u003eentities.get(name));\n        }\n    }\n}\n\nfunction persistId(record {|int id;|} rec) {\n\n}\n\nfunction persistIdWithLocation(record {|int id; string location;|} rec) {\n\n}\n```\n\n\u003cstyle\u003e\n.cBallerinaTocContainer {\n    display: none !important;\n}\n/*.cBalleinaBreadcrumbs li:nth-child(3) , .cBalleinaBreadcrumbs li:nth-child(2) {\n   display:none !important;\n}*/\n\u003c/style\u003e\n","id":"concurrent","slug":"concurrent","codes":"[[1165470496,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/io;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ePerson\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eboolean\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employed;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprocess\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ePerson\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003emembers\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003equantities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eworker\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w1 {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Person[] employedMembers \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efrom\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Person p \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e members\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ewhere\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e p.employed\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eselect\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e p;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e count \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employedMembers.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003elength\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        count \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w2;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`Employed Members: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ecount\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e function;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eworker\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w2 {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e total \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003esum\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(...\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003equantities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employedCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w1;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e avg \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employedCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e total / employedCount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`Average: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eavg\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e function;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e x \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w1;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ex\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e y \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w2;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ey\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[1150255616,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eimport\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e ballerina/io;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ePerson\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eboolean\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employed;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eisolated\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprocess\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ePerson\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereadonly\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003emembers\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereadonly\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003equantities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eworker\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w1 {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        Person[] employedMembers \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efrom\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e Person p \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e members\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ewhere\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e p.employed\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eselect\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e p;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e count \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employedMembers.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003elength\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        count \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e totalMemberCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e members.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003elength\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e();\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e memberCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;-\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w1;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`Employed Members: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003ememberCount\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efuture\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e avgFuture \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003estart\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget_average\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003equantities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ememberCount\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e unemployedCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e totalMemberCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e-\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e memberCount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`Unemployed Members: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eunemployedCount\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e avg \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003echeckpanic\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ewait\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e avgFuture;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    io\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprintln\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e`Average: ${\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eavg\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e}`\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eisolated\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget_average\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereadonly\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003equantities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e, \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eemployedCount\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturns\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e total \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003esum\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(...\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003equantities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e avg \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e employedCount \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e==\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e?\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003e0\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e:\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e total / employedCount;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereturn\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e avg;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"],[-692978805,\"\u003cpre class=\\\"shiki github-light\\\" style=\\\"background-color: #fff\\\" tabindex=\\\"0\\\"\u003e\u003ccode\u003e\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003etype\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eDetails\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e id;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e location?;\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e};\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eprocess\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003emap\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eDetails\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereadonly\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003eentities\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] detailsWithLocation \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e[] detailsWithoutLocation \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e=\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [];\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eforeach \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003evar\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e [name, details] \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e entities.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eentries\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e() {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eif\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e details.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003ehasKey\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #032F62\\\"\u003e\u0026quot;location\u0026quot;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            detailsWithLocation.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epush\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        } \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eelse\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            detailsWithoutLocation.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epush\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e);\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #6A737D\\\"\u003e// The casts within the workers are safe because the lists were created\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #6A737D\\\"\u003e// based on an immutable map and is therefore guaranteed to have the \u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #6A737D\\\"\u003e// exact same entries with the exact same fields.\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eworker\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w1 {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eforeach \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003evar\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e detailsWithoutLocation {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epersistId\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e id;\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e} \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereadonly\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eentities.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e));\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eworker\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e w2 {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003eforeach \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003evar\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e name \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ein\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e detailsWithLocation {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e            \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epersistIdWithLocation\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e                \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026lt;\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e id; \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e location;\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e} \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e\u0026amp;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003ereadonly\u0026gt;\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003eentities.\u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003eget\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003ename\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e));\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e        }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e    }\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epersistId\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e id;\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e} \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003erec\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003efunction\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e \u003c/span\u003e\u003cspan style=\\\"color: #6F42C1\\\"\u003epersistIdWithLocation\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e(\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003erecord\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e {\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003eint\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e id; \u003c/span\u003e\u003cspan style=\\\"color: #005CC5\\\"\u003estring\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e location;\u003c/span\u003e\u003cspan style=\\\"color: #D73A49\\\"\u003e|\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e} \u003c/span\u003e\u003cspan style=\\\"color: #E36209\\\"\u003erec\u003c/span\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e) {\u003c/span\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003c/span\u003e\\n\u003cspan class=\\\"line\\\"\u003e\u003cspan style=\\\"color: #24292E\\\"\u003e}\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\"]]"},"__N_SSG":true},"page":"/why-ballerina/[...slug]","query":{"slug":["concurrent"]},"buildId":"QIUpwhFtsZwHKXqyHGpt4","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>